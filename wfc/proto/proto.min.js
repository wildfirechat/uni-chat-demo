!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("../../config.js"),require("../../wfc/util/base64.min"),require("../client/connectionStatus"),require("../client/errorCode"),require("../client/messageConfig"),require("../client/userSettingScope"),require("../client/wfcEvent"),require("../messages/mediaMessageContent"),require("../messages/message"),require("../messages/messageContent"),require("../messages/messageContentType"),require("../messages/messageStatus"),require("../messages/notification/recallMessageNotification"),require("../messages/persistFlag"),require("../model/NullChannelInfo"),require("../model/channelInfo"),require("../model/chatRoomInfo"),require("../model/chatRoomMemberInfo"),require("../model/conversation"),require("../model/conversationInfo"),require("../model/conversationType"),require("../model/fileRecord"),require("../model/friendRequest"),require("../model/groupInfo"),require("../model/groupMember"),require("../model/groupMemberType"),require("../model/internal/friendInfo"),require("../model/nullGroupInfo"),require("../model/nullUserInfo"),require("../model/readEntry"),require("../model/unreadCount"),require("../model/userInfo"),require("../model/userSettingEntry"),require("../util/base64.min"),require("../util/longUtil"));else if("function"==typeof define&&define.amd)define(["../../config.js","../../wfc/util/base64.min","../client/connectionStatus","../client/errorCode","../client/messageConfig","../client/userSettingScope","../client/wfcEvent","../messages/mediaMessageContent","../messages/message","../messages/messageContent","../messages/messageContentType","../messages/messageStatus","../messages/notification/recallMessageNotification","../messages/persistFlag","../model/NullChannelInfo","../model/channelInfo","../model/chatRoomInfo","../model/chatRoomMemberInfo","../model/conversation","../model/conversationInfo","../model/conversationType","../model/fileRecord","../model/friendRequest","../model/groupInfo","../model/groupMember","../model/groupMemberType","../model/internal/friendInfo","../model/nullGroupInfo","../model/nullUserInfo","../model/readEntry","../model/unreadCount","../model/userInfo","../model/userSettingEntry","../util/base64.min","../util/longUtil"],t);else{var r="object"==typeof exports?t(require("../../config.js"),require("../../wfc/util/base64.min"),require("../client/connectionStatus"),require("../client/errorCode"),require("../client/messageConfig"),require("../client/userSettingScope"),require("../client/wfcEvent"),require("../messages/mediaMessageContent"),require("../messages/message"),require("../messages/messageContent"),require("../messages/messageContentType"),require("../messages/messageStatus"),require("../messages/notification/recallMessageNotification"),require("../messages/persistFlag"),require("../model/NullChannelInfo"),require("../model/channelInfo"),require("../model/chatRoomInfo"),require("../model/chatRoomMemberInfo"),require("../model/conversation"),require("../model/conversationInfo"),require("../model/conversationType"),require("../model/fileRecord"),require("../model/friendRequest"),require("../model/groupInfo"),require("../model/groupMember"),require("../model/groupMemberType"),require("../model/internal/friendInfo"),require("../model/nullGroupInfo"),require("../model/nullUserInfo"),require("../model/readEntry"),require("../model/unreadCount"),require("../model/userInfo"),require("../model/userSettingEntry"),require("../util/base64.min"),require("../util/longUtil")):t(e["../../config.js"],e["../../wfc/util/base64.min"],e["../client/connectionStatus"],e["../client/errorCode"],e["../client/messageConfig"],e["../client/userSettingScope"],e["../client/wfcEvent"],e["../messages/mediaMessageContent"],e["../messages/message"],e["../messages/messageContent"],e["../messages/messageContentType"],e["../messages/messageStatus"],e["../messages/notification/recallMessageNotification"],e["../messages/persistFlag"],e["../model/NullChannelInfo"],e["../model/channelInfo"],e["../model/chatRoomInfo"],e["../model/chatRoomMemberInfo"],e["../model/conversation"],e["../model/conversationInfo"],e["../model/conversationType"],e["../model/fileRecord"],e["../model/friendRequest"],e["../model/groupInfo"],e["../model/groupMember"],e["../model/groupMemberType"],e["../model/internal/friendInfo"],e["../model/nullGroupInfo"],e["../model/nullUserInfo"],e["../model/readEntry"],e["../model/unreadCount"],e["../model/userInfo"],e["../model/userSettingEntry"],e["../util/base64.min"],e["../util/longUtil"]);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(e,t,r,n,o,s,i,a,u,l,d,c,f,h,p,m,g,y,_,b,v,j,w,k,x,S,E,I,C,M,R,O,T,A,P){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./wfc/internal/wfcImpl.js")}({"../../config.js":function(t,r){t.exports=e},"../../wfc/util/base64.min":function(e,r){e.exports=t},"../client/connectionStatus":function(e,t){e.exports=r},"../client/errorCode":function(e,t){e.exports=n},"../client/messageConfig":function(e,t){e.exports=o},"../client/userSettingScope":function(e,t){e.exports=s},"../client/wfcEvent":function(e,t){e.exports=i},"../messages/mediaMessageContent":function(e,t){e.exports=a},"../messages/message":function(e,t){e.exports=u},"../messages/messageContent":function(e,t){e.exports=l},"../messages/messageContentType":function(e,t){e.exports=d},"../messages/messageStatus":function(e,t){e.exports=c},"../messages/notification/recallMessageNotification":function(e,t){e.exports=f},"../messages/persistFlag":function(e,t){e.exports=h},"../model/NullChannelInfo":function(e,t){e.exports=p},"../model/channelInfo":function(e,t){e.exports=m},"../model/chatRoomInfo":function(e,t){e.exports=g},"../model/chatRoomMemberInfo":function(e,t){e.exports=y},"../model/conversation":function(e,t){e.exports=_},"../model/conversationInfo":function(e,t){e.exports=b},"../model/conversationType":function(e,t){e.exports=v},"../model/fileRecord":function(e,t){e.exports=j},"../model/friendRequest":function(e,t){e.exports=w},"../model/groupInfo":function(e,t){e.exports=k},"../model/groupMember":function(e,t){e.exports=x},"../model/groupMemberType":function(e,t){e.exports=S},"../model/internal/friendInfo":function(e,t){e.exports=E},"../model/nullGroupInfo":function(e,t){e.exports=I},"../model/nullUserInfo":function(e,t){e.exports=C},"../model/readEntry":function(e,t){e.exports=M},"../model/unreadCount":function(e,t){e.exports=R},"../model/userInfo":function(e,t){e.exports=O},"../model/userSettingEntry":function(e,t){e.exports=T},"../util/base64.min":function(e,t){e.exports=A},"../util/longUtil":function(e,t){e.exports=P},"./lib/client.js":function(e,t,r){"use strict";(function(t,n){var o=a(r("./node_modules/babel-runtime/helpers/typeof.js")),s=a(r("./node_modules/babel-runtime/core-js/object/create.js")),i=a(r("./node_modules/babel-runtime/core-js/object/keys.js"));function a(e){return e&&e.__esModule?e:{default:e}}var u=r("./node_modules/node-libs-browser/node_modules/events/events.js"),l=r("./lib/store.js"),d=r("./mqtt-packet/mqtt.js"),c=r("./node_modules/readable-stream/readable-browser.js").Writable,f=r("./node_modules/inherits/inherits_browser.js"),h=r("./node_modules/reinterval/index.js"),p=r("./lib/validations.js"),m=r("./node_modules/xtend/immutable.js"),g=t.setImmediate||function(e){n.nextTick(e)},y={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},_={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function b(e,t,r){e.emit("packetsend",t),!d.writeToStream(t,e.stream,e.options)&&r?e.stream.once("drain",r):r&&r()}function v(e){e&&(0,i.default)(e).forEach((function(t){"function"==typeof e[t]&&(e[t](new Error("Connection closed")),delete e[t])}))}function j(e,t,r,n){e.outgoingStore.put(t,(function(o){if(o)return r&&r(o);n(),b(e,t,r)}))}function w(){}function k(e,t){var r,n=this;if(!(this instanceof k))return new k(e,t);for(r in this.options=t||{},y)void 0===this.options[r]?this.options[r]=y[r]:this.options[r]=t[r];this.options.clientId="string"==typeof t.clientId?t.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.outgoingStore=t.outgoingStore||new l,this.incomingStore=t.incomingStore||new l,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this._firstConnection=!0,this.on("close",(function(){this.connected=!1,clearTimeout(this.connackTimer)})),this.on("connect",(function(){var e=this.queue;!function t(){var r,o=e.shift();o&&(r=o.packet,n._sendPacket(r,(function(e){o.cb&&o.cb(e),t()})))}()})),this.on("close",(function(){null!==n.pingTimer&&(n.pingTimer.clear(),n.pingTimer=null)})),u.EventEmitter.call(this),this._setupStream()}f(k,u.EventEmitter),k.prototype._setupStream=function(){var e,t=this,r=new c,i=d.parser(this.options),a=null,u=[];function l(){if(u.length)n.nextTick(f);else{var e=a;a=null,e()}}function f(){var e=u.shift();if(e)t._handlePacket(e,l);else{var r=a;a=null,r&&r()}}if(this._clearReconnect(),this.stream=this.streamBuilder(this),i.on("packet",(function(e){u.push(e)})),r._write=function(e,t,r){a=r,i.parse(e),f()},this.stream.pipe(r),this.stream.on("error",w),this.stream.on("close",(function(){t.emit("close")})),(e=(0,s.default)(this.options)).cmd="connect",b(this,e),i.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.emit("error",new Error("Packet has no Authentication Method")),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"===(0,o.default)(this.options.authPacket))b(this,m({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){t._cleanUp(!0)}),this.options.connectTimeout)},k.prototype._handlePacket=function(e,t){var r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<e.length)return this.emit("error",new Error("exceeding packets size "+e.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(this.emit("packetreceive",e),e.cmd){case"publish":try{this._handlePublish(e,t)}catch(e){console.error(e)}break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":try{this._handleAck(e)}catch(e){console.log(e)}t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"pingresp":this._handlePingresp(e),t();break;case"disconnect":this._handleDisconnect(e),t()}},k.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},k.prototype.publish=function(e,t,r,n){var o,s=this.options;"function"==typeof r&&(n=r,r=null);if(r=m({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(n))return this;switch(o={cmd:"publish",topic:e,payload:t,qos:r.qos,retain:r.retain,messageId:this._nextId(),dup:r.dup},5===s.protocolVersion&&(o.properties=r.properties,(!s.properties&&o.properties&&o.properties.topicAlias||r.properties&&s.properties&&(r.properties.topicAlias&&s.properties.topicAliasMaximum&&r.properties.topicAlias>s.properties.topicAliasMaximum||!s.properties.topicAliasMaximum&&r.properties.topicAlias))&&delete o.properties.topicAlias),r.qos){case 1:case 2:this.outgoing[o.messageId]=n||w,this._storeProcessing?(this._packetIdsDuringStoreProcessing[o.messageId]=!1,this._storePacket(o,void 0,r.cbStorePut)):this._sendPacket(o,void 0,r.cbStorePut);break;default:this._storeProcessing?this._storePacket(o,n,r.cbStorePut):this._sendPacket(o,n,r.cbStorePut)}return this},k.prototype.subscribe=function(){for(var e,t=new Array(arguments.length),r=0;r<arguments.length;r++)t[r]=arguments[r];var n,o=[],s=t.shift(),a=s.resubscribe,u=t.pop()||w,l=t.pop(),d=this,c=this.options.protocolVersion;if(delete s.resubscribe,"string"==typeof s&&(s=[s]),"function"!=typeof u&&(l=u,u=w),null!==(n=p.validateTopics(s)))return g(u,new Error("Invalid topic "+n)),this;if(this._checkDisconnecting(u))return this;var f={qos:0};if(5===c&&(f.nl=!1,f.rap=!1,f.rh=0),l=m(f,l),Array.isArray(s)?s.forEach((function(e){if(!d._resubscribeTopics.hasOwnProperty(e)||d._resubscribeTopics[e].qos<l.qos||a){var t={topic:e,qos:l.qos};5===c&&(t.nl=l.nl,t.rap=l.rap,t.rh=l.rh,t.properties=l.properties),o.push(t)}})):(0,i.default)(s).forEach((function(e){if(!d._resubscribeTopics.hasOwnProperty(e)||d._resubscribeTopics[e].qos<s[e].qos||a){var t={topic:e,qos:s[e].qos};5===c&&(t.nl=s[e].nl,t.rap=s[e].rap,t.rh=s[e].rh,t.properties=l.properties),o.push(t)}})),e={cmd:"subscribe",subscriptions:o,qos:1,retain:!1,dup:!1,messageId:this._nextId()},l.properties&&(e.properties=l.properties),o.length){if(this.options.resubscribe){var h=[];o.forEach((function(e){if(d.options.reconnectPeriod>0){var t={qos:e.qos};5===c&&(t.nl=e.nl||!1,t.rap=e.rap||!1,t.rh=e.rh||0,t.properties=e.properties),d._resubscribeTopics[e.topic]=t,h.push(e.topic)}})),d.messageIdToTopic[e.messageId]=h}return this.outgoing[e.messageId]=function(e,t){if(!e)for(var r=t.granted,n=0;n<r.length;n+=1)o[n].qos=r[n];u(e,o)},this._sendPacket(e),this}u(null,[])},k.prototype.unsubscribe=function(){for(var e={cmd:"unsubscribe",qos:1,messageId:this._nextId()},t=this,r=new Array(arguments.length),n=0;n<arguments.length;n++)r[n]=arguments[n];var s=r.shift(),i=r.pop()||w,a=r.pop();return"string"==typeof s&&(s=[s]),"function"!=typeof i&&(a=i,i=w),this._checkDisconnecting(i)?this:("string"==typeof s?e.unsubscriptions=[s]:"object"===(void 0===s?"undefined":(0,o.default)(s))&&s.length&&(e.unsubscriptions=s),this.options.resubscribe&&e.unsubscriptions.forEach((function(e){delete t._resubscribeTopics[e]})),"object"===(void 0===a?"undefined":(0,o.default)(a))&&a.properties&&(e.properties=a.properties),this.outgoing[e.messageId]=i,this._sendPacket(e),this)},k.prototype.end=function(){var e=this,t=arguments[0],r=arguments[1],n=arguments[2];function s(){e.disconnected=!0,e.incomingStore.close((function(){e.outgoingStore.close((function(){n&&n.apply(null,arguments),e.emit("end")}))})),e._deferredReconnect&&e._deferredReconnect()}function a(){e._cleanUp(t,g.bind(null,s),r)}return null!=t&&"boolean"==typeof t||(n=r||w,r=t,t=!1,"object"!==(void 0===r?"undefined":(0,o.default)(r))&&(n=r,r=null,"function"!=typeof n&&(n=w))),"object"!==(void 0===r?"undefined":(0,o.default)(r))&&(n=r,r=null),n=n||w,this.disconnecting?this:(this._clearReconnect(),this.disconnecting=!0,!t&&(0,i.default)(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,a,10)):a(),this)},k.prototype.removeOutgoingMessage=function(e){var t=this.outgoing[e];return delete this.outgoing[e],this.outgoingStore.del({messageId:e},(function(){t(new Error("Message removed"))})),this},k.prototype.reconnect=function(e){var t=this,r=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new l,t.outgoingStore=t.options.outgoingStore||new l,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},k.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},k.prototype._setupReconnect=function(){var e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),e.reconnectTimer=setInterval((function(){e._reconnect()}),e.options.reconnectPeriod))},k.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},k.prototype._cleanUp=function(e,t){var r=arguments[2];if(t&&this.stream.on("close",t),e)0===this.options.reconnectPeriod&&this.options.clean&&v(this.outgoing),this.stream.destroy();else{var n=m({cmd:"disconnect"},r);this._sendPacket(n,g.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(this.stream.removeListener("close",t),t())},k.prototype._sendPacket=function(e,t,r){if(r=r||w,this.connected){switch(this._shiftPingInterval(),e.cmd){case"publish":break;case"pubrel":return void j(this,e,t,r);default:return void b(this,e,t)}switch(e.qos){case 2:case 1:j(this,e,t,r);break;case 0:default:b(this,e,t)}}else this._storePacket(e,t,r)},k.prototype._storePacket=function(e,t,r){r=r||w,0===(e.qos||0)&&this.queueQoSZero||"publish"!==e.cmd?this.queue.push({packet:e,cb:t}):e.qos>0?(t=this.outgoing[e.messageId],this.outgoingStore.put(e,(function(e){if(e)return t&&t(e);r()}))):t&&t(new Error("No connection to broker"))},k.prototype._setupPingTimer=function(){var e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=h((function(){e._checkPing()}),1e3*this.options.keepalive))},k.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},k.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},k.prototype._handlePingresp=function(){this.pingResp=!0,this.emit("pingresp",(new Date).getTime())},k.prototype._handleConnack=function(e){var t=this.options,r=5===t.protocolVersion?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),e.properties&&(e.properties.topicAliasMaximum&&(t.properties||(t.properties={}),t.properties.topicAliasMaximum=e.properties.topicAliasMaximum),e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)),0===r)this.reconnecting=!1,this._onConnect(e);else if(r>0){var n=new Error("Connection refused: "+_[r]);n.code=r,this.emit("error",n)}},k.prototype._handlePublish=function(e,t){t=void 0!==t?t:w;var r=e.topic.toString(),n=e.payload,o=e.qos,s=e.messageId,i=this,a=this.options,u=[0,16,128,131,135,144,145,151,153];switch(o){case 2:a.customHandleAcks(r,n,e,(function(r,n){return r instanceof Error||(n=r,r=null),r?i.emit("error",r):-1===u.indexOf(n)?i.emit("error",new Error("Wrong reason code for pubrec")):void(n?i._sendPacket({cmd:"pubrec",messageId:s,reasonCode:n},t):i.incomingStore.put(e,(function(){i._sendPacket({cmd:"pubrec",messageId:s},t)})))}));break;case 1:a.customHandleAcks(r,n,e,(function(o,a){return o instanceof Error||(a=o,o=null),o?i.emit("error",o):-1===u.indexOf(a)?i.emit("error",new Error("Wrong reason code for puback")):(a||i.emit("message",r,n,e),void i.handleMessage(e,(function(e){if(e)return t&&t(e);i._sendPacket({cmd:"puback",messageId:s,reasonCode:a},t)})))}));break;case 0:this.emit("message",r,n,e),this.handleMessage(e,t)}},k.prototype.handleMessage=function(e,t){t()},k.prototype._handleAck=function(e){var t,r=e.messageId,n=e.cmd,o=null,s=this.outgoing[r],a=this;if(s){switch(n){case"pubcomp":case"puback":var u=e.reasonCode;u&&u>0&&16!==u&&10!==u?((t=new Error("Publish error: "+_[u])).code=u,s(t,e)):u&&10===u&&s(null,e),delete this.outgoing[r],this.outgoingStore.del(e,s);break;case"pubrec":o={cmd:"pubrel",qos:2,messageId:r};var l=e.reasonCode;l&&l>0&&16!==l?((t=new Error("Publish error: "+_[l])).code=l,s(t,e)):this._sendPacket(o);break;case"suback":delete this.outgoing[r];for(var d=0;d<e.granted.length;d++)if(0!=(128&e.granted[d])){var c=this.messageIdToTopic[r];c&&c.forEach((function(e){delete a._resubscribeTopics[e]}))}s(null,e);break;case"unsuback":delete this.outgoing[r],s(null);break;default:a.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===(0,i.default)(this.outgoing).length&&this.emit("outgoingEmpty")}},k.prototype._handlePubrel=function(e,t){t=void 0!==t?t:w;var r=e.messageId,n=this,o={cmd:"pubcomp",messageId:r};n.incomingStore.get(e,(function(e,r){e?n._sendPacket(o,t):(n.emit("message",r.topic,r.payload,r),n.handleMessage(r,(function(e){if(e)return t(e);n.incomingStore.del(r,w),n._sendPacket(o,t)})))}))},k.prototype._handleDisconnect=function(e){this.emit("disconnect",e)},k.prototype._nextId=function(){var e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},k.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},k.prototype._resubscribe=function(e){var t=(0,i.default)(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!e.sessionPresent)&&t.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion)for(var r=0;r<t.length;r++){var n={};n[t[r]]=this._resubscribeTopics[t[r]],n.resubscribe=!0,this.subscribe(n,{properties:n[t[r]].properties})}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},k.prototype._onConnect=function(e){if(this.disconnected)this.emit("connect",e);else{var t=this;this._setupPingTimer(),this._resubscribe(e),this.connected=!0,function r(){var n=t.outgoingStore.createStream();function o(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}}function s(){n.destroy(),n=null,o()}t.once("close",s),n.on("error",(function(e){o(),t.removeListener("close",s),t.emit("error",e)})),n.on("end",(function(){var n=!0;for(var i in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[i]){n=!1;break}n?(o(),t.removeListener("close",s),t.emit("connect",e)):r()})),function e(){if(n){t._storeProcessing=!0;var r,o=n.read(1);o?t._packetIdsDuringStoreProcessing[o.messageId]?e():t.disconnecting||t.reconnectTimer?n.destroy&&n.destroy():(r=t.outgoing[o.messageId],t.outgoing[o.messageId]=function(t,n){r&&r(t,n),e()},t._packetIdsDuringStoreProcessing[o.messageId]=!0,t._sendPacket(o)):n.once("readable",e)}}()}()}},e.exports=k}).call(this,r("./node_modules/webpack/buildin/global.js"),r("./node_modules/process/browser.js"))},"./lib/connect/aes.js":function(e,t,r){"use strict";var n,o=r("./node_modules/babel-runtime/helpers/toConsumableArray.js"),s=(n=o)&&n.__esModule?n:{default:n};var i=r("./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js").decode,a=r("./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js").encode,u=r("./node_modules/aes-js/index.js"),l=[0,17,34,51,68,85,102,119,120,121,122,123,124,125,126,127];function d(e){for(var t=[],r=0;r<e.length&&r<16;r++)t.push(e.charCodeAt(r));return new Uint8Array(t)}e.exports.AESEncrypt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=l;t.length>0&&(r=d(t));var n,o,i=parseInt(((new Date).getTime()/1e3-1514736e3)/3600),c=new Array;c.push(255&i),c.push((65280&i)>>8),c.push((16711680&i)>>16),c.push(i>>24),"string"==typeof e?(n=c).push.apply(n,(0,s.default)(function(e){var t,r,n=new Array;t=e.length;for(var o=0;o<t;o++)(r=e.charCodeAt(o))>=65536&&r<=1114111?(n.push(r>>18&7|240),n.push(r>>12&63|128),n.push(r>>6&63|128),n.push(63&r|128)):r>=2048&&r<=65535?(n.push(r>>12&15|224),n.push(r>>6&63|128),n.push(63&r|128)):r>=128&&r<=2047?(n.push(r>>6&31|192),n.push(63&r|128)):n.push(255&r);return n}(e))):(o=c).push.apply(o,(0,s.default)(e)),c=u.padding.pkcs7.pad(c);var f=new u.ModeOfOperation.cbc(r,r).encrypt(c);return a(f)},e.exports.AESDecrypt=function(e,t,r){var n=l;t.length>0&&(n=d(t));var o=new Uint8Array(i(e)),a=[].concat((0,s.default)(o)),c=new u.ModeOfOperation.cbc(n,n).decrypt(a);if((c=u.padding.pkcs7.strip(c)).length>4){var f=0;return f+=c[3]&&255,f<<=8,f+=c[2]&&255,f<<=8,f+=c[1]&&255,f<<=8,f+=c[0]&&255,f<<=8,((new Date).getUTCMilliseconds()/1e3-1514736e3)/3600-f>24&&r?null:c.slice(4,c.length)}return null},e.exports.Uint8ToStr=function(e){for(var t=0,r="";t<e.length;t++)r+=String.fromCharCode(e[t]);return r}},"./lib/connect/ali.js":function(e,t,r){"use strict";(function(t){var n=s(r("./node_modules/babel-runtime/core-js/json/stringify.js")),o=s(r("./node_modules/babel-runtime/helpers/typeof.js"));function s(e){return e&&e.__esModule?e:{default:e}}var i,a,u,l=r("./node_modules/readable-stream/readable-browser.js").Transform,d=r("./node_modules/duplexify/index.js"),c=r("./node_modules/base64-js/index.js"),f=!1;e.exports=function(e,r){if(r.hostname=r.hostname||r.host,!r.hostname)throw new Error("Could not determine host. Specify host manually.");"MQIsdp"===r.protocolId&&r.protocolVersion,function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(r);var s=function(e,t){var r="alis"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),console.log("url",n),n}(r,e);return(i=r.extra.mp).connectSocket({url:s,headers:{"Sec-WebSocket-Protocol":"mqtt"},fail:function(e){console.log("connectSocket fail",e)}}),a=function(){var e=new l;return e._write=function(e,t,r){var n=e.toString("base64");i.sendSocketMessage({data:n,isBuffer:!0,success:function(){r()},fail:function(){r(new Error)}})},e._flush=function(e){i.closeSocket({success:function(){e()}})},e}(),u=d.obj(),f||(f=!0,i.onSocketOpen((function(){console.log("onSocketOpen"),u.setReadable(a),u.setWritable(a),u.emit("connect")})),i.onSocketMessage((function(e){if(console.log("onSocketMessage",e,(0,o.default)(e.data)),"string"==typeof e.data){var r=e.data.replace(/\s+/g,""),n=c.toByteArray(r,""),s=t.from(n);a.push(s)}else if(e.data instanceof ArrayBuffer){var i=t.from(e.data);a.push(i)}else e.data.arrayBuffer().then((function(e){e=e instanceof ArrayBuffer?t.from(e):e.byteLength>0?t.from(new Uint8Array(e)):t.from(e,"utf8"),a.push(e)}))})),i.onSocketClose((function(e){console.log("onSocketClose",(0,n.default)(e)),u.end(),u.destroy(),u.emit("close")})),i.onSocketError((function(e){console.log("onSocketError",e),u.destroy(e),u.emit("error")}))),u}}).call(this,r("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./lib/connect/bd.js":function(e,t,r){"use strict";(function(t,n){var o,s,i,a=r("./node_modules/readable-stream/readable-browser.js").Transform,u=r("./node_modules/duplexify/index.js");e.exports=function(e,r){if(r.hostname=r.hostname||r.host,!r.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(r);var d=function(e,t){var r="bds"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(r,e);o=swan.connectSocket({url:d,protocols:[l],fail:function(e){console.log("connectSocket fail",e)}}),s=function(){var e=new a;return e._write=function(e,t,r){o.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){o.close({success:function(){e()}})},e}(),(i=u.obj())._destroy=function(e,t){o.close({success:function(){t&&t(e)}})};var c=i.destroy;return i.destroy=function(){i.destroy=c;var e=this;n.nextTick((function(){o.close({fail:function(){e._destroy(new Error)}})}))}.bind(i),o.onOpen((function(){i.setReadable(s),i.setWritable(s),i.emit("connect")})),o.onMessage((function(e){var r=e.data;r=r instanceof ArrayBuffer?t.from(r):t.from(r,"utf8"),s.push(r)})),o.onClose((function(){i.end(),i.destroy(),i.emit("close")})),o.onError((function(e){i.destroy(new Error(e.errMsg)),i.emit("error")})),i}}).call(this,r("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer,r("./node_modules/process/browser.js"))},"./lib/connect/index.js":function(e,t,r){"use strict";(function(t,n){var o,s=r("./node_modules/babel-runtime/helpers/typeof.js"),i=(o=s)&&o.__esModule?o:{default:o},a=r("../../wfc/util/base64.min");var u=r("./lib/client.js"),l=r("./lib/store.js"),d=r("./node_modules/url/url.js"),c=r("./node_modules/xtend/immutable.js"),f=r("../../config.js"),h={};function p(e,t,o,s,i,u,l){!function(e,t,o,s,i,u,l){var d=void 0,c=f.default.ROUTE_PORT?f.default.ROUTE_PORT:80;f.default.USE_WSS?(console.log("https route"),d="https://"+f.default.IM_SERVER_HOST+(443!==c?":"+c:"")+"/route"):d="http://"+f.default.IM_SERVER_HOST+(80!==c?":"+c:"")+"/route";var h,p,y=r("./weichatPb/protobuf.js"),_=r("./lib/connect/protocol_route.js"),b=y.Root.fromJSON(_),v=b.lookupType("RouteRequest"),j=b.lookupType("RouteResponse"),w=b.lookupType("IMHttpWrapper"),k=r("./lib/connect/aes.js").AESDecrypt,x=r("./lib/connect/aes.js").Uint8ToStr,S=r("./lib/connect/aes.js").AESEncrypt,E=r("./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js").decode,I=r("./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js").encode,C=v.create();C.app="cn.wildfirechat.chat.wx",C.appVersion="0.1",C.deviceName="wx",C.platform=6,C.phoneName="browser",C.sdkVersion="0.1",C.wxAppId=e,C.wxAppKey=t,C.language=f.default.LANGUAGE;var M=x(k(i,"",!1)),R=M.split("|")[0];h=M.split("|")[1],p=new n(S(R,h),"base64"),C.host=S(f.default.IM_SERVER_HOST,"");var O=v.encode(C).finish(),T=w.create();T.clientId=s,T.token=R,T.request="ROUTE",T.data=O;var A=w.encode(T).finish(),P=S(A,h);l.mp.request({url:d,data:P,header:{"content-type":"application/octet-stream",p:"wx",cid:S(s),uid:S(o),"Content-Type":"application/octet-stream",appId:e,appKey:t},headers:{"content-type":"application/octet-stream",p:"wx",cid:S(s),uid:S(o),"Content-Type":"application/octet-stream",appId:e,appKey:t},method:"POST",dataType:"text",success:function(e){if(200===e.statusCode||200===e.status){var t=E(e.data),r=new Int8Array(t,0,1);if(0===r[0]){for(var n=I(t.slice(1)),i=k(n,h,!0),d=j.decode(i),c=d.node+"|"+f.default.IM_SERVER_HOST,y="",_=0;_<c.length;_++)y+=String.fromCharCode(90^c[_].charCodeAt(0));c=(0,a.btoa)(unescape(encodeURIComponent(y)));var b={keepalive:f.default.KEEP_ALIVE_TIMEOUT,clientId:s,protocolId:"MQTT",protocolVersion:6,clean:!0,reconnectPeriod:0,resubscribe:!1,connectTimeout:2e4,hostName:f.default.IM_SERVER_HOST,will:{topic:c,payload:"Connection Closed abnormally..!",qos:1,retain:!1},rejectUnauthorized:!1};b.username=o,b.password=p,b.extra=l;var v=(new Date).getTime(),w=void 0,x=2|d.commercial,S=(4&d.commercial)>0,C=(8&d.commercial)>0,M=void 0;console.log("route res",d),f.default.USE_WSS?(console.log("wss mqtts"),M=C?d.wssPort:f.default.WSS_PORT,w=m(l.scheme+"s://"+d.host+":"+M,b)):(console.log("ws mqtt",f.default.USE_WSS),M=C?d.longPort:f.default.WS_PORT,w=m(l.scheme+"://"+d.host+":"+M,b)),g=d.host,u(0,w,h,v,x,S)}else console.log("route error",r[0]),u(r[0])}else console.log("route error",e)},fail:function(e){u(-1)}})}(e,t,o,s,i,u,l)}function m(e,t){if("object"!==(void 0===e?"undefined":(0,i.default)(e))||t||(t=e,e=null),t=t||{},e){var r=d.parse(e,!0);if(null!=r.port&&(r.port=Number(r.port)),null===(t=c(r,t)).protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(function(e){var t;e.auth&&((t=e.auth.match(/^(.+):(.+)$/))?(e.username=t[1],e.password=t[2]):e.username=e.auth)}(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis","bds","tts","qqs","unis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;case"bd":t.protocol="bds";break;case"tt":t.protocol="tts";break;case"qq":t.protocol="qqs";break;case"uni":t.protocol="unis";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!h[t.protocol]){var n=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis","bd","bds","tt","tts","qq","qqs","uni","unis"].filter((function(e,t){return(!n||t%2!=0)&&"function"==typeof h[e]}))[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");return t.protocol&&(t.defaultProtocol=t.protocol),new u((function(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),h[t.protocol](e,t)}),t)}"browser"!==t.title?(h.mqtt=r("./lib/connect/tcp.js"),h.tcp=r("./lib/connect/tcp.js"),h.ssl=r("./lib/connect/tls.js"),h.tls=r("./lib/connect/tls.js"),h.mqtts=r("./lib/connect/tls.js")):(h.wx=r("./lib/connect/wx.js"),h.wxs=r("./lib/connect/wx.js"),h.ali=r("./lib/connect/ali.js"),h.alis=r("./lib/connect/ali.js"),h.bd=r("./lib/connect/bd.js"),h.bds=r("./lib/connect/bd.js"),h.tt=r("./lib/connect/tt.js"),h.tts=r("./lib/connect/tt.js"),h.qq=r("./lib/connect/qq.js"),h.qqs=r("./lib/connect/qq.js"),h.uni=r("./lib/connect/uni.js"),h.unis=r("./lib/connect/uni.js")),h.ws=r("./lib/connect/ws.js"),h.wss=r("./lib/connect/ws.js");var g="";e.exports=p,e.exports.connect=p,e.exports.MqttClient=u,e.exports.Store=l,e.exports.host=function(){return g}}).call(this,r("./node_modules/process/browser.js"),r("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./lib/connect/protocol_route.js":function(e,t,r){"use strict";e.exports={options:{java_package:"cn.wildfirechat.proto",java_outer_classname:"WFCMessage"},nested:{IMHttpWrapper:{fields:{token:{rule:"required",type:"string",id:1},clientId:{rule:"required",type:"string",id:2},request:{rule:"required",type:"string",id:3},data:{type:"bytes",id:4}}},RouteRequest:{fields:{app:{type:"string",id:1},platform:{type:"int32",id:2},pushType:{type:"int32",id:3},deviceName:{type:"string",id:4},deviceVersion:{type:"string",id:5},phoneName:{type:"string",id:6},language:{type:"string",id:7},carrierName:{type:"string",id:8},appVersion:{type:"string",id:9},sdkVersion:{type:"string",id:10},wxAppId:{type:"string",id:11},wxAppKey:{type:"string",id:12},webAppId:{type:"string",id:13},webAppKey:{type:"string",id:14},host:{type:"string",id:15}}},RouteResponse:{fields:{host:{rule:"required",type:"string",id:1},longPort:{rule:"required",type:"int32",id:2},shortPort:{rule:"required",type:"int32",id:3},thumbPara:{type:"string",id:4},node:{type:"string",id:5},commercial:{type:"int32",id:6},wssPort:{type:"int32",id:7}}}}}},"./lib/connect/qq.js":function(e,t,r){"use strict";(function(t,n){var o,s,i,a=r("./node_modules/readable-stream/readable-browser.js").Transform,u=r("./node_modules/duplexify/index.js");e.exports=function(e,r){if(r.hostname=r.hostname||r.host,!r.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(r);var d=function(e,t){var r="qqs"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(r,e);o=qq.connectSocket({url:d,protocols:l}),s=function(){var e=new a;return e._write=function(e,t,r){o.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){o.close({success:function(){e()}})},e}(),(i=u.obj())._destroy=function(e,t){o.close({success:function(){t&&t(e)}})};var c=i.destroy;return i.destroy=function(){i.destroy=c;var e=this;n.nextTick((function(){o.close({fail:function(){e._destroy(new Error)}})}))}.bind(i),o.onOpen((function(){i.setReadable(s),i.setWritable(s),i.emit("connect")})),o.onMessage((function(e){var r=e.data;r=r instanceof ArrayBuffer?t.from(r):t.from(r,"utf8"),s.push(r)})),o.onClose((function(){i.end(),i.destroy(),i.emit("close")})),o.onError((function(e){i.destroy(new Error(e.errMsg)),i.emit("error")})),i}}).call(this,r("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer,r("./node_modules/process/browser.js"))},"./lib/connect/tcp.js":function(e,t,r){"use strict";var n=r(2);e.exports=function(e,t){var r,o;return t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",r=t.port,o=t.hostname,n.createConnection(r,o)}},"./lib/connect/tls.js":function(e,t,r){"use strict";var n=r(3);e.exports=function(e,t){var r;function o(n){t.rejectUnauthorized&&e.emit("error",n),r.end()}return t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,(r=n.connect(t)).on("secureConnect",(function(){t.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",o)})),r.on("error",o),r}},"./lib/connect/tt.js":function(e,t,r){"use strict";(function(t,n){var o,s,i,a=r("./node_modules/readable-stream/readable-browser.js").Transform,u=r("./node_modules/duplexify/index.js");e.exports=function(e,r){if(r.hostname=r.hostname||r.host,!r.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(r);var d=function(e,t){var r="tts"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(r,e);o=tt.connectSocket({url:d,protocols:l}),s=function(){var e=new a;return e._write=function(e,t,r){o.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){o.close({success:function(){e()}})},e}(),(i=u.obj())._destroy=function(e,t){o.close({success:function(){t&&t(e)}})};var c=i.destroy;return i.destroy=function(){i.destroy=c;var e=this;n.nextTick((function(){o.close({fail:function(){e._destroy(new Error)}})}))}.bind(i),o.onOpen((function(){i.setReadable(s),i.setWritable(s),i.emit("connect")})),o.onMessage((function(e){var r=e.data;r=r instanceof ArrayBuffer?t.from(r):t.from(r,"utf8"),s.push(r)})),o.onClose((function(){i.end(),i.destroy(),i.emit("close")})),o.onError((function(e){i.destroy(new Error(e.errMsg)),i.emit("error")})),i}}).call(this,r("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer,r("./node_modules/process/browser.js"))},"./lib/connect/uni.js":function(e,t,r){"use strict";(function(t,n){var o,s,i,a=r("./node_modules/readable-stream/readable-browser.js").Transform,u=r("./node_modules/duplexify/index.js");e.exports=function(e,r){if(r.hostname=r.hostname||r.host,!r.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(r),o&&o.close();var d=function(e,t){var r="unis"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(r,e);o=uni.connectSocket({url:d,protocols:l,complete:function(){console.log("uni.connectSocket complete")}}),s=function(){var e=new a;return e._write=function(e,t,r){o.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){o.close({success:function(){e()}})},e}(),(i=u.obj())._destroy=function(e,t){o.close({success:function(){t&&t(e)}})};var c=i.destroy;return i.destroy=function(){i.destroy=c;var e=this;n.nextTick((function(){o.close({fail:function(){e._destroy(new Error)}})}))}.bind(i),o.onOpen((function(){i.setReadable(s),i.setWritable(s),i.emit("connect")})),o.onMessage((function(e){var r=e.data;r=r instanceof ArrayBuffer?t.from(r):t.from(r,"utf8"),s.push(r)})),o.onClose((function(){console.log("socket onClose"),i.end(),i.destroy(),i.emit("close")})),o.onError((function(e){console.log("socket onError",e),i.destroy(new Error(e.errMsg)),i.emit("error")})),i}}).call(this,r("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer,r("./node_modules/process/browser.js"))},"./lib/connect/ws.js":function(e,t,r){"use strict";(function(t){var n=r("./node_modules/websocket-stream/stream.js"),o=r("./node_modules/url/url.js"),s=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],i="browser"===t.title;function a(e,t){var r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.port||("wss"===e.protocol?e.port=443:e.port=80),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={}),i||"wss"!==e.protocol||s.forEach((function(t){e.hasOwnProperty(t)&&!e.wsOptions.hasOwnProperty(t)&&(e.wsOptions[t]=e[t])}))}(t);var o=function(e,t){var r=e.protocol+"://"+e.hostname+":"+e.port+e.path;return"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}(t,e);return n(o,[r],t.wsOptions)}e.exports=i?function(e,t){if(t.hostname||(t.hostname=t.host),!t.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var r=o.parse(document.URL);t.hostname=r.hostname,t.port||(t.port=r.port)}return a(e,t)}:function(e,t){return a(e,t)}}).call(this,r("./node_modules/process/browser.js"))},"./lib/connect/wx.js":function(e,t,r){"use strict";(function(t,n){var o,s,i,a=r("./node_modules/readable-stream/readable-browser.js").Transform,u=r("./node_modules/duplexify/index.js");e.exports=function(e,r){if(r.hostname=r.hostname||r.host,!r.hostname)throw new Error("Could not determine host. Specify host manually.");var l="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(r),o&&o.close();var d=function(e,t){var r="wxs"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(r,e);o=wx.connectSocket({url:d,protocols:l}),s=function(){var e=new a;return e._write=function(e,t,r){o.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){o.close({success:function(){e()}})},e}(),(i=u.obj())._destroy=function(e,t){o.close({success:function(){t&&t(e)}})};var c=i.destroy;return i.destroy=function(){i.destroy=c;var e=this;n.nextTick((function(){o.close({fail:function(){e._destroy(new Error)}})}))}.bind(i),o.onOpen((function(){i.setReadable(s),i.setWritable(s),i.emit("connect")})),o.onMessage((function(e){var r=e.data;r=r instanceof ArrayBuffer?t.from(r):r.byteLength>0?t.from(new Uint8Array(r)):t.from(r,"utf8"),s.push(r)})),o.onClose((function(){console.log("socket onClose"),i.end(),i.destroy(),i.emit("close")})),o.onError((function(e){console.log("socket onError",e),i.destroy(new Error(e.errMsg)),i.emit("error")})),i}}).call(this,r("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer,r("./node_modules/process/browser.js"))},"./lib/store.js":function(e,t,r){"use strict";(function(t){var n=r("./node_modules/xtend/immutable.js"),o=r("./node_modules/readable-stream/readable-browser.js").Readable,s={objectMode:!0},i={clean:!0},a=r("./node_modules/es6-map/index.js");function u(e){if(!(this instanceof u))return new u(e);this.options=e||{},this.options=n(i,e),this._inflights=new a}u.prototype.put=function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this},u.prototype.createStream=function(){var e=new o(s),r=!1,n=[],i=0;return this._inflights.forEach((function(e,t){n.push(e)})),e._read=function(){!r&&i<n.length?this.push(n[i++]):this.push(null)},e.destroy=function(){if(!r){var e=this;r=!0,t.nextTick((function(){e.emit("close")}))}},e},u.prototype.del=function(e,t){var r=e.reasonCode;if(e=this._inflights.get(e.messageId)){if(this._inflights.delete(e.messageId),r&&10===r)return;t(null,e)}else t&&t(new Error("missing packet"));return this},u.prototype.get=function(e,t){return(e=this._inflights.get(e.messageId))?t(null,e):t&&t(new Error("missing packet")),this},u.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},e.exports=u}).call(this,r("./node_modules/process/browser.js"))},"./lib/validations.js":function(e,t,r){"use strict";function n(e){for(var t=e.split("/"),r=0;r<t.length;r++)if("+"!==t[r]){if("#"===t[r])return r===t.length-1;if(-1!==t[r].indexOf("+")||-1!==t[r].indexOf("#"))return!1}return!0}e.exports={validateTopics:function(e){if(0===e.length)return"empty_topic_list";for(var t=0;t<e.length;t++)if(!n(e[t]))return e[t];return null}}},"./mqtt-packet/constants.js":function(e,t,r){"use strict";var n=r("./node_modules/safe-buffer/index.js").Buffer,o=e.exports;for(var s in o.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},o.codes={},o.types){var i=o.types[s];o.codes[i]=s}for(var a in o.CMD_SHIFT=4,o.CMD_MASK=240,o.DUP_MASK=8,o.QOS_MASK=3,o.QOS_SHIFT=1,o.RETAIN_MASK=1,o.LENGTH_MASK=127,o.LENGTH_FIN_MASK=128,o.SESSIONPRESENT_MASK=1,o.SESSIONPRESENT_HEADER=n.from([o.SESSIONPRESENT_MASK]),o.CONNACK_HEADER=n.from([o.codes.connack<<o.CMD_SHIFT]),o.USERNAME_MASK=128,o.PASSWORD_MASK=64,o.WILL_RETAIN_MASK=32,o.WILL_QOS_MASK=24,o.WILL_QOS_SHIFT=3,o.WILL_FLAG_MASK=4,o.CLEAN_SESSION_MASK=2,o.CONNECT_HEADER=n.from([o.codes.connect<<o.CMD_SHIFT]),o.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},o.propertiesCodes={},o.properties){var u=o.properties[a];o.propertiesCodes[u]=a}function l(e){return[0,1,2].map((function(t){return[0,1].map((function(r){return[0,1].map((function(s){var i=new n(1);return i.writeUInt8(o.codes[e]<<o.CMD_SHIFT|(r?o.DUP_MASK:0)|t<<o.QOS_SHIFT|s,0,!0),i}))}))}))}o.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},o.PUBLISH_HEADER=l("publish"),o.SUBSCRIBE_HEADER=l("subscribe"),o.SUBSCRIBE_OPTIONS_QOS_MASK=3,o.SUBSCRIBE_OPTIONS_NL_MASK=1,o.SUBSCRIBE_OPTIONS_NL_SHIFT=2,o.SUBSCRIBE_OPTIONS_RAP_MASK=1,o.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,o.SUBSCRIBE_OPTIONS_RH_MASK=3,o.SUBSCRIBE_OPTIONS_RH_SHIFT=4,o.SUBSCRIBE_OPTIONS_RH=[0,16,32],o.SUBSCRIBE_OPTIONS_NL=4,o.SUBSCRIBE_OPTIONS_RAP=8,o.SUBSCRIBE_OPTIONS_QOS=[0,1,2],o.UNSUBSCRIBE_HEADER=l("unsubscribe"),o.ACKS={unsuback:l("unsuback"),puback:l("puback"),pubcomp:l("pubcomp"),pubrel:l("pubrel"),pubrec:l("pubrec")},o.SUBACK_HEADER=n.from([o.codes.suback<<o.CMD_SHIFT]),o.VERSION3=n.from([3]),o.VERSION4=n.from([4]),o.VERSION5=n.from([5]),o.VERSION6=n.from([6]),o.QOS=[0,1,2].map((function(e){return n.from([e])})),o.EMPTY={pingreq:n.from([o.codes.pingreq<<4,0]),pingresp:n.from([o.codes.pingresp<<4,0]),disconnect:n.from([o.codes.disconnect<<4,0])}},"./mqtt-packet/generate.js":function(e,t,r){"use strict";var n=r("./node_modules/safe-buffer/index.js").Buffer,o=r("./mqtt-packet/writeToStream.js"),s=r("./node_modules/node-libs-browser/node_modules/events/events.js").EventEmitter;function i(){this._array=new Array(20),this._i=0}r("./node_modules/inherits/inherits_browser.js")(i,s),i.prototype.write=function(e){return this._array[this._i++]=e,!0},i.prototype.concat=function(){var e,t,r=0,o=new Array(this._array.length),s=this._array,i=0;for(e=0;e<s.length&&void 0!==s[e];e++)"string"!=typeof s[e]?o[e]=s[e].length:o[e]=n.byteLength(s[e]),r+=o[e];for(t=n.allocUnsafe(r),e=0;e<s.length&&void 0!==s[e];e++)"string"!=typeof s[e]?(s[e].copy(t,i),i+=o[e]):(t.write(s[e],i),i+=o[e]);return t},e.exports=function(e,t){var r=new i;return o(e,r,t),r.concat()}},"./mqtt-packet/mqtt.js":function(e,t,r){"use strict";t.parser=r("./mqtt-packet/parser.js"),t.generate=r("./mqtt-packet/generate.js"),t.writeToStream=r("./mqtt-packet/writeToStream.js")},"./mqtt-packet/numbers.js":function(e,t,r){"use strict";var n=r("./node_modules/safe-buffer/index.js").Buffer,o=65536,s={};function i(e){var t=n.allocUnsafe(2);return t.writeUInt8(e>>8,0),t.writeUInt8(255&e,1),t}e.exports={cache:s,generateCache:function(){for(var e=0;e<o;e++)s[e]=i(e)},generateNumber:i,genBufVariableByteInt:function(e){var t=0,r=0,o=function(e){return e>=0&&e<128?1:e>=128&&e<16384?2:e>=16384&&e<2097152?3:e>=2097152&&e<268435456?4:0}(e),s=n.allocUnsafe(o);do{t=e%128|0,(e=e/128|0)>0&&(t|=128),s.writeUInt8(t,r++)}while(e>0);return{data:s,length:o}},generate4ByteBuffer:function(e){var t=n.allocUnsafe(4);return t.writeUInt32BE(e,0),t}}},"./mqtt-packet/packet.js":function(e,t,r){"use strict";e.exports=function(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}},"./mqtt-packet/parser.js":function(e,t,r){"use strict";var n,o=r("./node_modules/babel-runtime/core-js/object/get-own-property-names.js"),s=(n=o)&&n.__esModule?n:{default:n};var i=r("./node_modules/bl/bl.js"),a=r("./node_modules/inherits/inherits_browser.js"),u=r("./node_modules/node-libs-browser/node_modules/events/events.js").EventEmitter,l=r("./mqtt-packet/packet.js"),d=r("./mqtt-packet/constants.js");function c(e){if(!(this instanceof c))return new c(e);this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState()}a(c,u),c.prototype._resetState=function(){this.packet=new l,this.error=null,this._list=i(),this._stateCounter=0},c.prototype.parse=function(e){for(this.error&&this._resetState(),this._list.append(e);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,this._stateCounter>=this._states.length&&(this._stateCounter=0);return this._list.length},c.prototype._parseHeader=function(){var e=this._list.readUInt8(0);return this.packet.cmd=d.types[e>>d.CMD_SHIFT],this.packet.retain=0!=(e&d.RETAIN_MASK),this.packet.qos=e>>d.QOS_SHIFT&d.QOS_MASK,this.packet.dup=0!=(e&d.DUP_MASK),this._list.consume(1),!0},c.prototype._parseLength=function(){var e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),!!e},c.prototype._parsePayload=function(){var e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return e},c.prototype._parseConnect=function(){var e,t,r,n,o,i,a={},u=this.packet;if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==e&&"MQIsdp"!==e)return this._emitError(new Error("Invalid protocolId"));if(u.protocolId=e,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(u.protocolVersion=this._list.readUInt8(this._pos),3!==u.protocolVersion&&4!==u.protocolVersion&&5!==u.protocolVersion&&6!==u.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(a.username=this._list.readUInt8(this._pos)&d.USERNAME_MASK,a.password=this._list.readUInt8(this._pos)&d.PASSWORD_MASK,a.will=this._list.readUInt8(this._pos)&d.WILL_FLAG_MASK,a.will&&(u.will={},u.will.retain=0!=(this._list.readUInt8(this._pos)&d.WILL_RETAIN_MASK),u.will.qos=(this._list.readUInt8(this._pos)&d.WILL_QOS_MASK)>>d.WILL_QOS_SHIFT),u.clean=0!=(this._list.readUInt8(this._pos)&d.CLEAN_SESSION_MASK),this._pos++,u.keepalive=this._parseNum(),-1===u.keepalive)return this._emitError(new Error("Packet too short"));if(5===u.protocolVersion){var l=this._parseProperties();(0,s.default)(l).length&&(u.properties=l)}if(null===(t=this._parseString()))return this._emitError(new Error("Packet too short"));if(u.clientId=t,a.will){if(5===u.protocolVersion){var c=this._parseProperties();(0,s.default)(c).length&&(u.will.properties=c)}if(null===(r=this._parseString()))return this._emitError(new Error("Cannot parse will topic"));if(u.will.topic=r,null===(n=this._parseBuffer()))return this._emitError(new Error("Cannot parse will payload"));u.will.payload=n}if(a.username){if(null===(i=this._parseString()))return this._emitError(new Error("Cannot parse username"));u.username=i}if(a.password){if(null===(o=this._parseBuffer()))return this._emitError(new Error("Cannot parse password"));u.password=o}return this.settings=u,u},c.prototype._parseConnack=function(){var e=this.packet;if(this._list.length<2)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&d.SESSIONPRESENT_MASK),5===this.settings.protocolVersion?e.reasonCode=this._list.readUInt8(this._pos++):e.returnCode=this._list.readUInt8(this._pos++),-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){var t=this._parseProperties();(0,s.default)(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length)},c.prototype._parsePublish=function(){var e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();(0,s.default)(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length)}},c.prototype._parseSubscribe=function(){var e,t,r,n,o,i,a,u=this.packet;if(1!==u.qos)return this._emitError(new Error("Wrong subscribe header"));if(u.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var l=this._parseProperties();(0,s.default)(l).length&&(u.properties=l)}for(;this._pos<u.length;){if(null===(e=this._parseString()))return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));r=(t=this._parseByte())&d.SUBSCRIBE_OPTIONS_QOS_MASK,i=0!=(t>>d.SUBSCRIBE_OPTIONS_NL_SHIFT&d.SUBSCRIBE_OPTIONS_NL_MASK),o=0!=(t>>d.SUBSCRIBE_OPTIONS_RAP_SHIFT&d.SUBSCRIBE_OPTIONS_RAP_MASK),n=t>>d.SUBSCRIBE_OPTIONS_RH_SHIFT&d.SUBSCRIBE_OPTIONS_RH_MASK,a={topic:e,qos:r},5===this.settings.protocolVersion&&(a.nl=i,a.rap=o,a.rh=n),u.subscriptions.push(a)}}},c.prototype._parseSuback=function(){var e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();(0,s.default)(t).length&&(e.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},c.prototype._parseUnsubscribe=function(){var e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){var t=this._parseProperties();(0,s.default)(t).length&&(e.properties=t)}for(;this._pos<e.length;){var r;if(null===(r=this._parseString()))return this._emitError(new Error("Cannot parse topic"));e.unsubscriptions.push(r)}}},c.prototype._parseUnsuback=function(){var e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){var t=this._parseProperties();for((0,s.default)(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}},c.prototype._parseConfirmation=function(){var e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&e.length>2){e.reasonCode=this._parseByte();var t=this._parseProperties();(0,s.default)(t).length&&(e.properties=t)}return e.reasonCode=10,e.payload=this._list.slice(this._pos,e.length),!0},c.prototype._parseDisconnect=function(){var e=this.packet;if(5===this.settings.protocolVersion){e.reasonCode=this._parseByte();var t=this._parseProperties();(0,s.default)(t).length&&(e.properties=t)}return!0},c.prototype._parseAuth=function(){var e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();var t=this._parseProperties();return(0,s.default)(t).length&&(e.properties=t),!0},c.prototype._parseMessageId=function(){var e=this.packet;return e.messageId=this._parseNum(),null!==e.messageId||(this._emitError(new Error("Cannot parse messageId")),!1)},c.prototype._parseString=function(e){var t,r=this._parseNum(),n=r+this._pos;return-1===r||n>this._list.length||n>this.packet.length?null:(t=this._list.toString("utf8",this._pos,n),this._pos+=r,t)},c.prototype._parseStringPair=function(){return{name:this._parseString(),value:this._parseString()}},c.prototype._parseBuffer=function(){var e,t=this._parseNum(),r=t+this._pos;return-1===t||r>this._list.length||r>this.packet.length?null:(e=this._list.slice(this._pos,r),this._pos+=t,e)},c.prototype._parseNum=function(){if(this._list.length-this._pos<2)return-1;var e=this._list.readUInt16BE(this._pos);return this._pos+=2,e},c.prototype._parse4ByteNum=function(){if(this._list.length-this._pos<4)return-1;var e=this._list.readUInt32BE(this._pos);return this._pos+=4,e},c.prototype._parseVarByteNum=function(e){for(var t,r=0,n=1,o=0,s=!0,i=this._pos?this._pos:0;r<5&&(o+=n*((t=this._list.readUInt8(i+r++))&d.LENGTH_MASK),n*=128,0!=(t&d.LENGTH_FIN_MASK));)if(this._list.length<=r){s=!1;break}return i&&(this._pos+=r),s=!!s&&(e?{bytes:r,value:o}:o)},c.prototype._parseByte=function(){var e=this._list.readUInt8(this._pos);return this._pos++,e},c.prototype._parseByType=function(e){switch(e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}},c.prototype._parseProperties=function(){for(var e=this._parseVarByteNum(),t=this._pos+e,r={};this._pos<t;){var n=this._parseByte(),o=d.propertiesCodes[n];if(!o)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==o)r[o]=this._parseByType(d.propertiesTypes[o]);else{r[o]||(r[o]={});var s=this._parseByType(d.propertiesTypes[o]);if(r[o][s.name])if(Array.isArray(r[o][s.name]))r[o][s.name].push(s.value);else{var i=r[o][s.name];r[o][s.name]=[i],r[o][s.name].push(s.value)}else r[o][s.name]=s.value}}return r},c.prototype._newPacket=function(){return this.packet&&(this._list.consume(this.packet.length),this.emit("packet",this.packet)),this.packet=new l,this._pos=0,!0},c.prototype._emitError=function(e){this.error=e,this.emit("error",e)},e.exports=c},"./mqtt-packet/writeToStream.js":function(e,t,r){"use strict";var n=i(r("./node_modules/babel-runtime/core-js/object/get-own-property-names.js")),o=i(r("./node_modules/babel-runtime/helpers/typeof.js")),s=i(r("./node_modules/babel-runtime/core-js/object/keys.js"));function i(e){return e&&e.__esModule?e:{default:e}}var a=r("./mqtt-packet/constants.js"),u=r("./node_modules/safe-buffer/index.js").Buffer,l=u.allocUnsafe(0),d=u.from([0]),c=r("./mqtt-packet/numbers.js"),f=r("./node_modules/process-nextick-args/index.js").nextTick,h=c.cache,p=c.generateNumber,m=c.generateCache,g=c.genBufVariableByteInt,y=c.generate4ByteBuffer,_=E,b=!0;function v(e,t,r){switch(t.cork&&(t.cork(),f(j,t)),b&&(b=!1,m()),e.cmd){case"connect":return function(e,t,r){var n=e||{},s=n.protocolId||"MQTT",i=n.protocolVersion||4,l=n.will,d=n.clean,c=n.keepalive||0,f=n.clientId||"",h=n.username,p=n.password,m=n.properties;void 0===d&&(d=!0);var g=0;if(!s||"string"!=typeof s&&!u.isBuffer(s))return t.emit("error",new Error("Invalid protocolId")),!1;g+=s.length+2;if(3!==i&&4!==i&&5!==i&&6!==i)return t.emit("error",new Error("Invalid protocol version")),!1;g+=1;if(("string"==typeof f||u.isBuffer(f))&&f&&(f||d))g+=f.length+2;else{if(i<4)return t.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*d==0)return t.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof c||c<0||c>65535||c%1!=0)return t.emit("error",new Error("Invalid keepalive")),!1;g+=2;if(g+=1,5===i){var y=R(t,m);g+=y.length}if(l){if("object"!==(void 0===l?"undefined":(0,o.default)(l)))return t.emit("error",new Error("Invalid will")),!1;if(!l.topic||"string"!=typeof l.topic)return t.emit("error",new Error("Invalid will topic")),!1;if(g+=u.byteLength(l.topic)+2,g+=2,l.payload){if(!(l.payload.length>=0))return t.emit("error",new Error("Invalid will payload")),!1;"string"==typeof l.payload?g+=u.byteLength(l.payload):g+=l.payload.length}var b={};5===i&&(b=R(t,l.properties),g+=b.length)}var v=!1;if(null!=h){if(!P(h))return t.emit("error",new Error("Invalid username")),!1;v=!0,g+=u.byteLength(h)+2}if(null!=p){if(!v)return t.emit("error",new Error("Username is required to use password")),!1;if(!P(p))return t.emit("error",new Error("Invalid password")),!1;g+=A(p)+2}t.write(a.CONNECT_HEADER),k(t,g),M(t,s),t.write(a.VERSION6);var j=0;j|=null!=h?a.USERNAME_MASK:0,j|=null!=p?a.PASSWORD_MASK:0,j|=l&&l.retain?a.WILL_RETAIN_MASK:0,j|=l&&l.qos?l.qos<<a.WILL_QOS_SHIFT:0,j|=l?a.WILL_FLAG_MASK:0,j|=d?a.CLEAN_SESSION_MASK:0,t.write(u.from([j])),_(t,c),5===i&&y.write();M(t,f),l&&(5===i&&b.write(),x(t,l.topic),M(t,l.payload));null!=h&&M(t,h);null!=p&&M(t,p);return!0}(e,t);case"connack":return function(e,t,r){var n=r?r.protocolVersion:4,o=e||{},s=5===n?o.reasonCode:o.returnCode,i=o.properties,l=2;if("number"!=typeof s)return t.emit("error",new Error("Invalid return code")),!1;var c=null;5===n&&(c=R(t,i),l+=c.length);t.write(a.CONNACK_HEADER),k(t,l),t.write(o.sessionPresent?a.SESSIONPRESENT_HEADER:d),t.write(u.from([s])),null!=c&&c.write();return!0}(e,t,r);case"publish":return function(e,t,r){var n=r?r.protocolVersion:4,o=e||{},s=o.qos||0,i=o.retain?a.RETAIN_MASK:0,d=o.topic,c=o.payload||l,f=o.messageId,h=o.properties,p=0;if("string"==typeof d)p+=u.byteLength(d)+2;else{if(!u.isBuffer(d))return t.emit("error",new Error("Invalid topic")),!1;p+=d.length+2}u.isBuffer(c)?p+=c.length:p+=u.byteLength(c);if(s&&"number"!=typeof f)return t.emit("error",new Error("Invalid messageId")),!1;s&&(p+=2);var m=null;5===n&&(m=R(t,h),p+=m.length);t.write(a.PUBLISH_HEADER[s][o.dup?1:0][i?1:0]),k(t,p),_(t,A(d)),t.write(d),s>0&&_(t,f);null!=m&&m.write();return t.write(c)}(e,t,r);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(e,t,r){var n=r?r.protocolVersion:4,o=e||{},s=o.cmd||"puback",i=o.messageId,l=o.dup&&"pubrel"===s?a.DUP_MASK:0,d=0,c=o.reasonCode,f=o.properties,h=5===n?3:2;"pubrel"===s&&(d=1);if("number"!=typeof i)return t.emit("error",new Error("Invalid messageId")),!1;var p=null;if(5===n){if(!(p=O(t,f,r,h)))return!1;h+=p.length}t.write(a.ACKS[s][d][l][0]),k(t,h),_(t,i),5===n&&t.write(u.from([c]));null!==p&&p.write();return!0}(e,t,r);case"subscribe":return function(e,t,r){var n=r?r.protocolVersion:4,s=e||{},i=s.dup?a.DUP_MASK:0,l=s.messageId,d=s.subscriptions,c=s.properties,f=0;if("number"!=typeof l)return t.emit("error",new Error("Invalid messageId")),!1;f+=2;var h=null;5===n&&(h=R(t,c),f+=h.length);if("object"!==(void 0===d?"undefined":(0,o.default)(d))||!d.length)return t.emit("error",new Error("Invalid subscriptions")),!1;for(var p=0;p<d.length;p+=1){var m=d[p].topic,g=d[p].qos;if("string"!=typeof m)return t.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof g)return t.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===n){if("boolean"!=typeof(d[p].nl||!1))return t.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(d[p].rap||!1))return t.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;var y=d[p].rh||0;if("number"!=typeof y||y>2)return t.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}f+=u.byteLength(m)+2+1}t.write(a.SUBSCRIBE_HEADER[1][i?1:0][0]),k(t,f),_(t,l),null!==h&&h.write();for(var b=!0,v=0;v<d.length;v++){var j,w=d[v],S=w.topic,E=w.qos,I=+w.nl,C=+w.rap,M=w.rh;x(t,S),j=a.SUBSCRIBE_OPTIONS_QOS[E],5===n&&(j|=I?a.SUBSCRIBE_OPTIONS_NL:0,j|=C?a.SUBSCRIBE_OPTIONS_RAP:0,j|=M?a.SUBSCRIBE_OPTIONS_RH[M]:0),b=t.write(u.from([j]))}return b}(e,t,r);case"suback":return function(e,t,r){var n=r?r.protocolVersion:4,s=e||{},i=s.messageId,l=s.granted,d=s.properties,c=0;if("number"!=typeof i)return t.emit("error",new Error("Invalid messageId")),!1;c+=2;if("object"!==(void 0===l?"undefined":(0,o.default)(l))||!l.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var f=0;f<l.length;f+=1){if("number"!=typeof l[f])return t.emit("error",new Error("Invalid qos vector")),!1;c+=1}var h=null;if(5===n){if(!(h=O(t,d,r,c)))return!1;c+=h.length}t.write(a.SUBACK_HEADER),k(t,c),_(t,i),null!==h&&h.write();return t.write(u.from(l))}(e,t,r);case"unsubscribe":return function(e,t,r){var n=r?r.protocolVersion:4,s=e||{},i=s.messageId,l=s.dup?a.DUP_MASK:0,d=s.unsubscriptions,c=s.properties,f=0;if("number"!=typeof i)return t.emit("error",new Error("Invalid messageId")),!1;f+=2;if("object"!==(void 0===d?"undefined":(0,o.default)(d))||!d.length)return t.emit("error",new Error("Invalid unsubscriptions")),!1;for(var h=0;h<d.length;h+=1){if("string"!=typeof d[h])return t.emit("error",new Error("Invalid unsubscriptions")),!1;f+=u.byteLength(d[h])+2}var p=null;5===n&&(p=R(t,c),f+=p.length);t.write(a.UNSUBSCRIBE_HEADER[1][l?1:0][0]),k(t,f),_(t,i),null!==p&&p.write();for(var m=!0,g=0;g<d.length;g++)m=x(t,d[g]);return m}(e,t,r);case"unsuback":return function(e,t,r){var n=r?r.protocolVersion:4,s=e||{},i=s.messageId,l=s.dup?a.DUP_MASK:0,d=s.granted,c=s.properties,f=s.cmd,h=2;if("number"!=typeof i)return t.emit("error",new Error("Invalid messageId")),!1;if(5===n){if("object"!==(void 0===d?"undefined":(0,o.default)(d))||!d.length)return t.emit("error",new Error("Invalid qos vector")),!1;for(var p=0;p<d.length;p+=1){if("number"!=typeof d[p])return t.emit("error",new Error("Invalid qos vector")),!1;h+=1}}var m=null;if(5===n){if(!(m=O(t,c,r,h)))return!1;h+=m.length}t.write(a.ACKS[f][0][l][0]),k(t,h),_(t,i),null!==m&&m.write();5===n&&t.write(u.from(d));return!0}(e,t,r);case"pingreq":case"pingresp":return function(e,t,r){return t.write(a.EMPTY[e.cmd])}(e,t);case"disconnect":return function(e,t,r){var n=r?r.protocolVersion:4,o=e||{},s=o.reasonCode,i=o.properties,l=5===n?1:0,d=null;if(5===n){if(!(d=O(t,i,r,l)))return!1;l+=d.length}t.write(u.from([a.codes.disconnect<<4])),k(t,l),5===n&&t.write(u.from([s]));null!==d&&d.write();return!0}(e,t,r);case"auth":return function(e,t,r){var n=r?r.protocolVersion:4,o=e||{},s=o.reasonCode,i=o.properties,l=5===n?1:0;5!==n&&t.emit("error",new Error("Invalid mqtt version for auth packet"));var d=O(t,i,r,l);if(!d)return!1;l+=d.length,t.write(u.from([a.codes.auth<<4])),k(t,l),t.write(u.from([s])),null!==d&&d.write();return!0}(e,t,r);default:return t.emit("error",new Error("Unknown command")),!1}}function j(e){e.uncork()}Object.defineProperty(v,"cacheNumbers",{get:function(){return _===E},set:function(e){e?(h&&0!==(0,s.default)(h).length||(b=!0),_=E):(b=!1,_=I)}});var w={};function k(e,t){var r=w[t];r||(r=g(t).data,t<16384&&(w[t]=r)),e.write(r)}function x(e,t){var r=u.byteLength(t);_(e,r),e.write(t,"utf8")}function S(e,t,r){x(e,t),x(e,r)}function E(e,t){return e.write(h[t])}function I(e,t){return e.write(p(t))}function C(e,t){return e.write(y(t))}function M(e,t){"string"==typeof t?x(e,t):t?(_(e,t.length),e.write(t)):_(e,0)}function R(e,t){if("object"!==(void 0===t?"undefined":(0,o.default)(t))||null!=t.length)return{length:1,write:function(){T(e,{},0)}};var r=0;function s(r){var s=a.propertiesTypes[r],i=t[r],l=0;switch(s){case"byte":if("boolean"!=typeof i)return e.emit("error",new Error("Invalid "+r)),!1;l+=2;break;case"int8":if("number"!=typeof i)return e.emit("error",new Error("Invalid "+r)),!1;l+=2;break;case"binary":if(i&&null===i)return e.emit("error",new Error("Invalid "+r)),!1;l+=1+u.byteLength(i)+2;break;case"int16":if("number"!=typeof i)return e.emit("error",new Error("Invalid "+r)),!1;l+=3;break;case"int32":if("number"!=typeof i)return e.emit("error",new Error("Invalid "+r)),!1;l+=5;break;case"var":if("number"!=typeof i)return e.emit("error",new Error("Invalid "+r)),!1;l+=1+g(i).length;break;case"string":if("string"!=typeof i)return e.emit("error",new Error("Invalid "+r)),!1;l+=3+u.byteLength(i.toString());break;case"pair":if("object"!==(void 0===i?"undefined":(0,o.default)(i)))return e.emit("error",new Error("Invalid "+r)),!1;l+=(0,n.default)(i).reduce((function(e,t){var r=i[t];return Array.isArray(r)?e+=r.reduce((function(e,r){return e+=3+u.byteLength(t.toString())+2+u.byteLength(r.toString())}),0):e+=3+u.byteLength(t.toString())+2+u.byteLength(i[t].toString()),e}),0);break;default:return e.emit("error",new Error("Invalid property "+r)),!1}return l}if(t)for(var i in t){var l=s(i);if(!l)return!1;r+=l}return{length:g(r).length+r,write:function(){T(e,t,r)}}}function O(e,t,r,n){var o=["reasonString","userProperties"],s=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0,i=R(e,t);if(s)for(;n+i.length>s;){var a=o.shift();if(!a||!t[a])return!1;delete t[a],i=R(e,t)}return i}function T(e,t,r){for(var o in k(e,r),t)if(t.hasOwnProperty(o)&&null!==t[o]){var s=t[o];switch(a.propertiesTypes[o]){case"byte":e.write(u.from([a.properties[o]])),e.write(u.from([+s]));break;case"int8":e.write(u.from([a.properties[o]])),e.write(u.from([s]));break;case"binary":e.write(u.from([a.properties[o]])),M(e,s);break;case"int16":e.write(u.from([a.properties[o]])),_(e,s);break;case"int32":e.write(u.from([a.properties[o]])),C(e,s);break;case"var":e.write(u.from([a.properties[o]])),k(e,s);break;case"string":e.write(u.from([a.properties[o]])),x(e,s);break;case"pair":(0,n.default)(s).forEach((function(t){var r=s[t];Array.isArray(r)?r.forEach((function(r){e.write(u.from([a.properties[o]])),S(e,t.toString(),r.toString())})):(e.write(u.from([a.properties[o]])),S(e,t.toString(),r.toString()))}));break;default:return e.emit("error",new Error("Invalid property "+o)),!1}}}function A(e){return e?e instanceof u?e.length:u.byteLength(e):0}function P(e){return"string"==typeof e||e instanceof u}e.exports=v},"./node_modules/aes-js/index.js":function(e,t,r){!function(t){"use strict";function r(e){return parseInt(e)===e}function n(e){if(!r(e.length))return!1;for(var t=0;t<e.length;t++)if(!r(e[t])||e[t]<0||e[t]>255)return!1;return!0}function o(e,t){if(e.buffer&&"Uint8Array"===e.name)return t&&(e=e.slice?e.slice():Array.prototype.slice.call(e)),e;if(Array.isArray(e)){if(!n(e))throw new Error("Array contains invalid value: "+e);return new Uint8Array(e)}if(r(e.length)&&n(e))return new Uint8Array(e);throw new Error("unsupported array-like object")}function s(e){return new Uint8Array(e)}function i(e,t,r,n,o){null==n&&null==o||(e=e.slice?e.slice(n,o):Array.prototype.slice.call(e,n,o)),t.set(e,r)}var a,u={toBytes:function(e){var t=[],r=0;for(e=encodeURI(e);r<e.length;){var n=e.charCodeAt(r++);37===n?(t.push(parseInt(e.substr(r,2),16)),r+=2):t.push(n)}return o(t)},fromBytes:function(e){for(var t=[],r=0;r<e.length;){var n=e[r];n<128?(t.push(String.fromCharCode(n)),r++):n>191&&n<224?(t.push(String.fromCharCode((31&n)<<6|63&e[r+1])),r+=2):(t.push(String.fromCharCode((15&n)<<12|(63&e[r+1])<<6|63&e[r+2])),r+=3)}return t.join("")}},l=(a="0123456789abcdef",{toBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},fromBytes:function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(a[(240&n)>>4]+a[15&n])}return t.join("")}}),d={16:10,24:12,32:14},c=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],f=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],h=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],y=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],_=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],b=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],v=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],j=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],w=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],k=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],x=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],S=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function E(e){for(var t=[],r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}var I=function(e){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:o(e,!0)}),this._prepare()};I.prototype._prepare=function(){var e=d[this.key.length];if(null==e)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var t=0;t<=e;t++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);var r,n=4*(e+1),o=this.key.length/4,s=E(this.key);for(t=0;t<o;t++)r=t>>2,this._Ke[r][t%4]=s[t],this._Kd[e-r][t%4]=s[t];for(var i,a=0,u=o;u<n;){if(i=s[o-1],s[0]^=f[i>>16&255]<<24^f[i>>8&255]<<16^f[255&i]<<8^f[i>>24&255]^c[a]<<24,a+=1,8!=o)for(t=1;t<o;t++)s[t]^=s[t-1];else{for(t=1;t<o/2;t++)s[t]^=s[t-1];i=s[o/2-1],s[o/2]^=f[255&i]^f[i>>8&255]<<8^f[i>>16&255]<<16^f[i>>24&255]<<24;for(t=o/2+1;t<o;t++)s[t]^=s[t-1]}for(t=0;t<o&&u<n;)l=u>>2,h=u%4,this._Ke[l][h]=s[t],this._Kd[e-l][h]=s[t++],u++}for(var l=1;l<e;l++)for(var h=0;h<4;h++)i=this._Kd[l][h],this._Kd[l][h]=w[i>>24&255]^k[i>>16&255]^x[i>>8&255]^S[255&i]},I.prototype.encrypt=function(e){if(16!=e.length)throw new Error("invalid plaintext size (must be 16 bytes)");for(var t=this._Ke.length-1,r=[0,0,0,0],n=E(e),o=0;o<4;o++)n[o]^=this._Ke[0][o];for(var i=1;i<t;i++){for(o=0;o<4;o++)r[o]=p[n[o]>>24&255]^m[n[(o+1)%4]>>16&255]^g[n[(o+2)%4]>>8&255]^y[255&n[(o+3)%4]]^this._Ke[i][o];n=r.slice()}var a,u=s(16);for(o=0;o<4;o++)a=this._Ke[t][o],u[4*o]=255&(f[n[o]>>24&255]^a>>24),u[4*o+1]=255&(f[n[(o+1)%4]>>16&255]^a>>16),u[4*o+2]=255&(f[n[(o+2)%4]>>8&255]^a>>8),u[4*o+3]=255&(f[255&n[(o+3)%4]]^a);return u},I.prototype.decrypt=function(e){if(16!=e.length)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var t=this._Kd.length-1,r=[0,0,0,0],n=E(e),o=0;o<4;o++)n[o]^=this._Kd[0][o];for(var i=1;i<t;i++){for(o=0;o<4;o++)r[o]=_[n[o]>>24&255]^b[n[(o+3)%4]>>16&255]^v[n[(o+2)%4]>>8&255]^j[255&n[(o+1)%4]]^this._Kd[i][o];n=r.slice()}var a,u=s(16);for(o=0;o<4;o++)a=this._Kd[t][o],u[4*o]=255&(h[n[o]>>24&255]^a>>24),u[4*o+1]=255&(h[n[(o+3)%4]>>16&255]^a>>16),u[4*o+2]=255&(h[n[(o+2)%4]>>8&255]^a>>8),u[4*o+3]=255&(h[255&n[(o+1)%4]]^a);return u};var C=function(e){if(!(this instanceof C))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new I(e)};C.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16)i(e,r,0,n,n+16),i(r=this._aes.encrypt(r),t,n);return t},C.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16)i(e,r,0,n,n+16),i(r=this._aes.decrypt(r),t,n);return t};var M=function(e,t){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastCipherblock=o(t,!0),this._aes=new I(e)};M.prototype.encrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){i(e,r,0,n,n+16);for(var a=0;a<16;a++)r[a]^=this._lastCipherblock[a];this._lastCipherblock=this._aes.encrypt(r),i(this._lastCipherblock,t,n)}return t},M.prototype.decrypt=function(e){if((e=o(e)).length%16!=0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var t=s(e.length),r=s(16),n=0;n<e.length;n+=16){i(e,r,0,n,n+16),r=this._aes.decrypt(r);for(var a=0;a<16;a++)t[n+a]=r[a]^this._lastCipherblock[a];i(e,this._lastCipherblock,0,n,n+16)}return t};var R=function(e,t,r){if(!(this instanceof R))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 size)")}else t=s(16);r||(r=1),this.segmentSize=r,this._shiftRegister=o(t,!0),this._aes=new I(e)};R.prototype.encrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var t,r=o(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)r[n+s]^=t[s];i(this._shiftRegister,this._shiftRegister,0,this.segmentSize),i(r,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r},R.prototype.decrypt=function(e){if(e.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var t,r=o(e,!0),n=0;n<r.length;n+=this.segmentSize){t=this._aes.encrypt(this._shiftRegister);for(var s=0;s<this.segmentSize;s++)r[n+s]^=t[s];i(this._shiftRegister,this._shiftRegister,0,this.segmentSize),i(e,this._shiftRegister,16-this.segmentSize,n,n+this.segmentSize)}return r};var O=function(e,t){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",t){if(16!=t.length)throw new Error("invalid initialation vector size (must be 16 bytes)")}else t=s(16);this._lastPrecipher=o(t,!0),this._lastPrecipherIndex=16,this._aes=new I(e)};O.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._lastPrecipherIndex&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),t[r]^=this._lastPrecipher[this._lastPrecipherIndex++];return t},O.prototype.decrypt=O.prototype.encrypt;var T=function(e){if(!(this instanceof T))throw Error("Counter must be instanitated with `new`");0===e||e||(e=1),"number"==typeof e?(this._counter=s(16),this.setValue(e)):this.setBytes(e)};T.prototype.setValue=function(e){if("number"!=typeof e||parseInt(e)!=e)throw new Error("invalid counter value (must be an integer)");if(e>Number.MAX_SAFE_INTEGER)throw new Error("integer value out of safe range");for(var t=15;t>=0;--t)this._counter[t]=e%256,e=parseInt(e/256)},T.prototype.setBytes=function(e){if(16!=(e=o(e,!0)).length)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=e},T.prototype.increment=function(){for(var e=15;e>=0;e--){if(255!==this._counter[e]){this._counter[e]++;break}this._counter[e]=0}};var A=function(e,t){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",t instanceof T||(t=new T(t)),this._counter=t,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new I(e)};A.prototype.encrypt=function(e){for(var t=o(e,!0),r=0;r<t.length;r++)16===this._remainingCounterIndex&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),t[r]^=this._remainingCounter[this._remainingCounterIndex++];return t},A.prototype.decrypt=A.prototype.encrypt;var P={AES:I,Counter:T,ModeOfOperation:{ecb:C,cbc:M,cfb:R,ofb:O,ctr:A},utils:{hex:l,utf8:u},padding:{pkcs7:{pad:function(e){var t=16-(e=o(e,!0)).length%16,r=s(e.length+t);i(e,r);for(var n=e.length;n<r.length;n++)r[n]=t;return r},strip:function(e){if((e=o(e,!0)).length<16)throw new Error("PKCS#7 invalid length");var t=e[e.length-1];if(t>16)throw new Error("PKCS#7 padding byte out of range");for(var r=e.length-t,n=0;n<t;n++)if(e[r+n]!==t)throw new Error("PKCS#7 invalid padding byte");var a=s(r);return i(e,a,0,0,r),a}}},_arrayTest:{coerceArray:o,createArray:s,copyArray:i}};e.exports=P}()},"./node_modules/babel-runtime/core-js/array/from.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/array/from.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/get-iterator.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/get-iterator.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/json/stringify.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/json/stringify.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/map.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/map.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/number/is-integer.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/number/is-integer.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/assign.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/object/assign.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/create.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/object/create.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/define-properties.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/object/define-properties.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/define-property.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/object/define-property.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/freeze.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/object/freeze.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/get-own-property-names.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/object/get-own-property-names.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/object/keys.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/object/keys.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/promise.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/promise.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/set.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/set.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/symbol.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/symbol/index.js"),__esModule:!0}},"./node_modules/babel-runtime/core-js/symbol/iterator.js":function(e,t,r){e.exports={default:r("./node_modules/core-js/library/fn/symbol/iterator.js"),__esModule:!0}},"./node_modules/babel-runtime/helpers/asyncToGenerator.js":function(e,t,r){"use strict";t.__esModule=!0;var n,o=r("./node_modules/babel-runtime/core-js/promise.js"),s=(n=o)&&n.__esModule?n:{default:n};t.default=function(e){return function(){var t=e.apply(this,arguments);return new s.default((function(e,r){return function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return s.default.resolve(u).then((function(e){n("next",e)}),(function(e){n("throw",e)}));e(u)}("next")}))}}},"./node_modules/babel-runtime/helpers/classCallCheck.js":function(e,t,r){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/babel-runtime/helpers/createClass.js":function(e,t,r){"use strict";t.__esModule=!0;var n,o=r("./node_modules/babel-runtime/core-js/object/define-property.js"),s=(n=o)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()},"./node_modules/babel-runtime/helpers/toConsumableArray.js":function(e,t,r){"use strict";t.__esModule=!0;var n,o=r("./node_modules/babel-runtime/core-js/array/from.js"),s=(n=o)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return(0,s.default)(e)}},"./node_modules/babel-runtime/helpers/typeof.js":function(e,t,r){"use strict";t.__esModule=!0;var n=i(r("./node_modules/babel-runtime/core-js/symbol/iterator.js")),o=i(r("./node_modules/babel-runtime/core-js/symbol.js")),s="function"==typeof o.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function i(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===s(n.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":s(e)}},"./node_modules/babel-runtime/node_modules/regenerator-runtime/runtime-module.js":function(e,t,r){var n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,s=o&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r("./node_modules/babel-runtime/node_modules/regenerator-runtime/runtime.js"),o)n.regeneratorRuntime=s;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}},"./node_modules/babel-runtime/node_modules/regenerator-runtime/runtime.js":function(e,t){!function(t){"use strict";var r,n=Object.prototype,o=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag",l="object"==typeof e,d=t.regeneratorRuntime;if(d)l&&(e.exports=d);else{(d=t.regeneratorRuntime=l?e.exports:{}).wrap=v;var c="suspendedStart",f="suspendedYield",h="executing",p="completed",m={},g={};g[i]=function(){return this};var y=Object.getPrototypeOf,_=y&&y(y(O([])));_&&_!==n&&o.call(_,i)&&(g=_);var b=x.prototype=w.prototype=Object.create(g);k.prototype=b.constructor=x,x.constructor=k,x[u]=k.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(b),e},d.awrap=function(e){return{__await:e}},S(E.prototype),E.prototype[a]=function(){return this},d.AsyncIterator=E,d.async=function(e,t,r,n){var o=new E(v(e,t,r,n));return d.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(b),b[u]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},d.values=O,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=r),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),M(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;M(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),m}}}function v(e,t,r,n){var o=t&&t.prototype instanceof w?t:w,s=Object.create(o.prototype),i=new R(n||[]);return s._invoke=function(e,t,r){var n=c;return function(o,s){if(n===h)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw s;return T()}for(r.method=o,r.arg=s;;){var i=r.delegate;if(i){var a=I(i,r);if(a){if(a===m)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===c)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var u=j(e,t,r);if("normal"===u.type){if(n=r.done?p:f,u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(e,r,i),s}function j(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function w(){}function k(){}function x(){}function S(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){var t;this._invoke=function(r,n){function s(){return new Promise((function(t,s){!function t(r,n,s,i){var a=j(e[r],e,n);if("throw"!==a.type){var u=a.arg,l=u.value;return l&&"object"==typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then((function(e){t("next",e,s,i)}),(function(e){t("throw",e,s,i)})):Promise.resolve(l).then((function(e){u.value=e,s(u)}),i)}i(a.arg)}(r,n,t,s)}))}return t=t?t.then(s,s):s()}}function I(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,I(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=j(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,m;var s=o.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,s=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return s.next=s}}return{next:T}}function T(){return{value:r,done:!0}}}(function(){return this}()||Function("return this")())},"./node_modules/babel-runtime/regenerator/index.js":function(e,t,r){e.exports=r("./node_modules/babel-runtime/node_modules/regenerator-runtime/runtime-module.js")},"./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js":function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=new Uint8Array(256),n=0;n<e.length;n++)r[e.charCodeAt(n)]=n;t.encode=function(t){var r,n=new Uint8Array(t),o=n.length,s="";for(r=0;r<o;r+=3)s+=e[n[r]>>2],s+=e[(3&n[r])<<4|n[r+1]>>4],s+=e[(15&n[r+1])<<2|n[r+2]>>6],s+=e[63&n[r+2]];return o%3==2?s=s.substring(0,s.length-1)+"=":o%3==1&&(s=s.substring(0,s.length-2)+"=="),s},t.decode=function(e){var t,n,o,s,i,a=.75*e.length,u=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var d=new ArrayBuffer(a),c=new Uint8Array(d);for(t=0;t<u;t+=4)n=r[e.charCodeAt(t)],o=r[e.charCodeAt(t+1)],s=r[e.charCodeAt(t+2)],i=r[e.charCodeAt(t+3)],c[l++]=n<<2|o>>4,c[l++]=(15&o)<<4|s>>2,c[l++]=(3&s)<<6|63&i;return d}}()},"./node_modules/base64-js/index.js":function(e,t,r){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=l(e),i=n[0],a=n[1],u=new s(function(e,t,r){return 3*(t+r)/4-r}(0,i,a)),d=0,c=a>0?i-4:i;for(r=0;r<c;r+=4)t=o[e.charCodeAt(r)]<<18|o[e.charCodeAt(r+1)]<<12|o[e.charCodeAt(r+2)]<<6|o[e.charCodeAt(r+3)],u[d++]=t>>16&255,u[d++]=t>>8&255,u[d++]=255&t;2===a&&(t=o[e.charCodeAt(r)]<<2|o[e.charCodeAt(r+1)]>>4,u[d++]=255&t);1===a&&(t=o[e.charCodeAt(r)]<<10|o[e.charCodeAt(r+1)]<<4|o[e.charCodeAt(r+2)]>>2,u[d++]=t>>8&255,u[d++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,s=[],i=0,a=r-o;i<a;i+=16383)s.push(d(e,i,i+16383>a?a:i+16383));1===o?(t=e[r-1],s.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return s.join("")};for(var n=[],o=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=i.length;a<u;++a)n[a]=i[a],o[i.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function d(e,t,r){for(var o,s,i=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(n[(s=o)>>18&63]+n[s>>12&63]+n[s>>6&63]+n[63&s]);return i.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},"./node_modules/bl/bl.js":function(e,t,r){var n=r("./node_modules/readable-stream/duplex-browser.js"),o=r("./node_modules/node-libs-browser/node_modules/util/util.js"),s=r("./node_modules/safe-buffer/index.js").Buffer;function i(e){if(!(this instanceof i))return new i(e);if(this._bufs=[],this.length=0,"function"==typeof e){this._callback=e;var t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)}))}else this.append(e);n.call(this)}o.inherits(i,n),i.prototype._offset=function(e){var t,r=0,n=0;if(0===e)return[0,0];for(;n<this._bufs.length;n++){if(e<(t=r+this._bufs[n].length)||n==this._bufs.length-1)return[n,e-r];r=t}},i.prototype.append=function(e){var t=0;if(s.isBuffer(e))this._appendBuffer(e);else if(Array.isArray(e))for(;t<e.length;t++)this.append(e[t]);else if(e instanceof i)for(;t<e._bufs.length;t++)this.append(e._bufs[t]);else null!=e&&("number"==typeof e&&(e=e.toString()),this._appendBuffer(s.from(e)));return this},i.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},i.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},i.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},i.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},i.prototype.get=function(e){return this.slice(e,e+1)[0]},i.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},i.prototype.copy=function(e,t,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return e||s.alloc(0);if(n<=0)return e||s.alloc(0);var o,i,a=!!e,u=this._offset(r),l=n-r,d=l,c=a&&t||0,f=u[1];if(0===r&&n==this.length){if(!a)return 1===this._bufs.length?this._bufs[0]:s.concat(this._bufs,this.length);for(i=0;i<this._bufs.length;i++)this._bufs[i].copy(e,c),c+=this._bufs[i].length;return e}if(d<=this._bufs[u[0]].length-f)return a?this._bufs[u[0]].copy(e,t,f,f+d):this._bufs[u[0]].slice(f,f+d);for(a||(e=s.allocUnsafe(l)),i=u[0];i<this._bufs.length;i++){if(!(d>(o=this._bufs[i].length-f))){this._bufs[i].copy(e,c,f,f+d);break}this._bufs[i].copy(e,c,f),c+=o,d-=o,f&&(f=0)}return e},i.prototype.shallowSlice=function(e,t){e=e||0,t=t||this.length,e<0&&(e+=this.length),t<0&&(t+=this.length);var r=this._offset(e),n=this._offset(t),o=this._bufs.slice(r[0],n[0]+1);return 0==n[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,n[1]),0!=r[1]&&(o[0]=o[0].slice(r[1])),new i(o)},i.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},i.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},i.prototype.duplicate=function(){for(var e=0,t=new i;e<this._bufs.length;e++)t.append(this._bufs[e]);return t},i.prototype.destroy=function(){this._bufs.length=0,this.length=0,this.push(null)},function(){var e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1};for(var t in e)!function(t){i.prototype[t]=function(r){return this.slice(r,r+e[t])[t](0)}}(t)}(),e.exports=i},"./node_modules/core-js/library/fn/array/from.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.string.iterator.js"),r("./node_modules/core-js/library/modules/es6.array.from.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Array.from},"./node_modules/core-js/library/fn/get-iterator.js":function(e,t,r){r("./node_modules/core-js/library/modules/web.dom.iterable.js"),r("./node_modules/core-js/library/modules/es6.string.iterator.js"),e.exports=r("./node_modules/core-js/library/modules/core.get-iterator.js")},"./node_modules/core-js/library/fn/json/stringify.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_core.js"),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},"./node_modules/core-js/library/fn/map.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.to-string.js"),r("./node_modules/core-js/library/modules/es6.string.iterator.js"),r("./node_modules/core-js/library/modules/web.dom.iterable.js"),r("./node_modules/core-js/library/modules/es6.map.js"),r("./node_modules/core-js/library/modules/es7.map.to-json.js"),r("./node_modules/core-js/library/modules/es7.map.of.js"),r("./node_modules/core-js/library/modules/es7.map.from.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Map},"./node_modules/core-js/library/fn/number/is-integer.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.number.is-integer.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Number.isInteger},"./node_modules/core-js/library/fn/object/assign.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.assign.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Object.assign},"./node_modules/core-js/library/fn/object/create.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.create.js");var n=r("./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t){return n.create(e,t)}},"./node_modules/core-js/library/fn/object/define-properties.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.define-properties.js");var n=r("./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t){return n.defineProperties(e,t)}},"./node_modules/core-js/library/fn/object/define-property.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.define-property.js");var n=r("./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},"./node_modules/core-js/library/fn/object/freeze.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.freeze.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Object.freeze},"./node_modules/core-js/library/fn/object/get-own-property-names.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.get-own-property-names.js");var n=r("./node_modules/core-js/library/modules/_core.js").Object;e.exports=function(e){return n.getOwnPropertyNames(e)}},"./node_modules/core-js/library/fn/object/keys.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.keys.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Object.keys},"./node_modules/core-js/library/fn/promise.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.to-string.js"),r("./node_modules/core-js/library/modules/es6.string.iterator.js"),r("./node_modules/core-js/library/modules/web.dom.iterable.js"),r("./node_modules/core-js/library/modules/es6.promise.js"),r("./node_modules/core-js/library/modules/es7.promise.finally.js"),r("./node_modules/core-js/library/modules/es7.promise.try.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Promise},"./node_modules/core-js/library/fn/set.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.object.to-string.js"),r("./node_modules/core-js/library/modules/es6.string.iterator.js"),r("./node_modules/core-js/library/modules/web.dom.iterable.js"),r("./node_modules/core-js/library/modules/es6.set.js"),r("./node_modules/core-js/library/modules/es7.set.to-json.js"),r("./node_modules/core-js/library/modules/es7.set.of.js"),r("./node_modules/core-js/library/modules/es7.set.from.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Set},"./node_modules/core-js/library/fn/symbol/index.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.symbol.js"),r("./node_modules/core-js/library/modules/es6.object.to-string.js"),r("./node_modules/core-js/library/modules/es7.symbol.async-iterator.js"),r("./node_modules/core-js/library/modules/es7.symbol.observable.js"),e.exports=r("./node_modules/core-js/library/modules/_core.js").Symbol},"./node_modules/core-js/library/fn/symbol/iterator.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.string.iterator.js"),r("./node_modules/core-js/library/modules/web.dom.iterable.js"),e.exports=r("./node_modules/core-js/library/modules/_wks-ext.js").f("iterator")},"./node_modules/core-js/library/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/core-js/library/modules/_add-to-unscopables.js":function(e,t){e.exports=function(){}},"./node_modules/core-js/library/modules/_an-instance.js":function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},"./node_modules/core-js/library/modules/_an-object.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/core-js/library/modules/_array-from-iterable.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_for-of.js");e.exports=function(e,t){var r=[];return n(e,!1,r.push,r,t),r}},"./node_modules/core-js/library/modules/_array-includes.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_to-iobject.js"),o=r("./node_modules/core-js/library/modules/_to-length.js"),s=r("./node_modules/core-js/library/modules/_to-absolute-index.js");e.exports=function(e){return function(t,r,i){var a,u=n(t),l=o(u.length),d=s(i,l);if(e&&r!=r){for(;l>d;)if((a=u[d++])!=a)return!0}else for(;l>d;d++)if((e||d in u)&&u[d]===r)return e||d||0;return!e&&-1}}},"./node_modules/core-js/library/modules/_array-methods.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_ctx.js"),o=r("./node_modules/core-js/library/modules/_iobject.js"),s=r("./node_modules/core-js/library/modules/_to-object.js"),i=r("./node_modules/core-js/library/modules/_to-length.js"),a=r("./node_modules/core-js/library/modules/_array-species-create.js");e.exports=function(e,t){var r=1==e,u=2==e,l=3==e,d=4==e,c=6==e,f=5==e||c,h=t||a;return function(t,a,p){for(var m,g,y=s(t),_=o(y),b=n(a,p,3),v=i(_.length),j=0,w=r?h(t,v):u?h(t,0):void 0;v>j;j++)if((f||j in _)&&(g=b(m=_[j],j,y),e))if(r)w[j]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return j;case 2:w.push(m)}else if(d)return!1;return c?-1:l||d?d:w}}},"./node_modules/core-js/library/modules/_array-species-constructor.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js"),o=r("./node_modules/core-js/library/modules/_is-array.js"),s=r("./node_modules/core-js/library/modules/_wks.js")("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},"./node_modules/core-js/library/modules/_array-species-create.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_array-species-constructor.js");e.exports=function(e,t){return new(n(e))(t)}},"./node_modules/core-js/library/modules/_classof.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_cof.js"),o=r("./node_modules/core-js/library/modules/_wks.js")("toStringTag"),s="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,r,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?r:s?n(t):"Object"==(i=n(t))&&"function"==typeof t.callee?"Arguments":i}},"./node_modules/core-js/library/modules/_cof.js":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"./node_modules/core-js/library/modules/_collection-strong.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_object-dp.js").f,o=r("./node_modules/core-js/library/modules/_object-create.js"),s=r("./node_modules/core-js/library/modules/_redefine-all.js"),i=r("./node_modules/core-js/library/modules/_ctx.js"),a=r("./node_modules/core-js/library/modules/_an-instance.js"),u=r("./node_modules/core-js/library/modules/_for-of.js"),l=r("./node_modules/core-js/library/modules/_iter-define.js"),d=r("./node_modules/core-js/library/modules/_iter-step.js"),c=r("./node_modules/core-js/library/modules/_set-species.js"),f=r("./node_modules/core-js/library/modules/_descriptors.js"),h=r("./node_modules/core-js/library/modules/_meta.js").fastKey,p=r("./node_modules/core-js/library/modules/_validate-collection.js"),m=f?"_s":"size",g=function(e,t){var r,n=h(t);if("F"!==n)return e._i[n];for(r=e._f;r;r=r.n)if(r.k==t)return r};e.exports={getConstructor:function(e,t,r,l){var d=e((function(e,n){a(e,d,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[m]=0,null!=n&&u(n,r,e[l],e)}));return s(d.prototype,{clear:function(){for(var e=p(this,t),r=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var r=p(this,t),n=g(r,e);if(n){var o=n.n,s=n.p;delete r._i[n.i],n.r=!0,s&&(s.n=o),o&&(o.p=s),r._f==n&&(r._f=o),r._l==n&&(r._l=s),r[m]--}return!!n},forEach:function(e){p(this,t);for(var r,n=i(e,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(e){return!!g(p(this,t),e)}}),f&&n(d.prototype,"size",{get:function(){return p(this,t)[m]}}),d},def:function(e,t,r){var n,o,s=g(e,t);return s?s.v=r:(e._l=s={i:o=h(t,!0),k:t,v:r,p:n=e._l,n:void 0,r:!1},e._f||(e._f=s),n&&(n.n=s),e[m]++,"F"!==o&&(e._i[o]=s)),e},getEntry:g,setStrong:function(e,t,r){l(e,t,(function(e,r){this._t=p(e,t),this._k=r,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))}),r?"entries":"values",!r,!0),c(t)}}},"./node_modules/core-js/library/modules/_collection-to-json.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_classof.js"),o=r("./node_modules/core-js/library/modules/_array-from-iterable.js");e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},"./node_modules/core-js/library/modules/_collection.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_export.js"),s=r("./node_modules/core-js/library/modules/_meta.js"),i=r("./node_modules/core-js/library/modules/_fails.js"),a=r("./node_modules/core-js/library/modules/_hide.js"),u=r("./node_modules/core-js/library/modules/_redefine-all.js"),l=r("./node_modules/core-js/library/modules/_for-of.js"),d=r("./node_modules/core-js/library/modules/_an-instance.js"),c=r("./node_modules/core-js/library/modules/_is-object.js"),f=r("./node_modules/core-js/library/modules/_set-to-string-tag.js"),h=r("./node_modules/core-js/library/modules/_object-dp.js").f,p=r("./node_modules/core-js/library/modules/_array-methods.js")(0),m=r("./node_modules/core-js/library/modules/_descriptors.js");e.exports=function(e,t,r,g,y,_){var b=n[e],v=b,j=y?"set":"add",w=v&&v.prototype,k={};return m&&"function"==typeof v&&(_||w.forEach&&!i((function(){(new v).entries().next()})))?(v=t((function(t,r){d(t,v,e,"_c"),t._c=new b,null!=r&&l(r,y,t[j],t)})),p("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(e){var t="add"==e||"set"==e;e in w&&(!_||"clear"!=e)&&a(v.prototype,e,(function(r,n){if(d(this,v,e),!t&&_&&!c(r))return"get"==e&&void 0;var o=this._c[e](0===r?0:r,n);return t?this:o}))})),_||h(v.prototype,"size",{get:function(){return this._c.size}})):(v=g.getConstructor(t,e,y,j),u(v.prototype,r),s.NEED=!0),f(v,e),k[e]=v,o(o.G+o.W+o.F,k),_||g.setStrong(v,e,y),v}},"./node_modules/core-js/library/modules/_core.js":function(e,t){var r=e.exports={version:"2.6.10"};"number"==typeof __e&&(__e=r)},"./node_modules/core-js/library/modules/_create-property.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_object-dp.js"),o=r("./node_modules/core-js/library/modules/_property-desc.js");e.exports=function(e,t,r){t in e?n.f(e,t,o(0,r)):e[t]=r}},"./node_modules/core-js/library/modules/_ctx.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_a-function.js");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},"./node_modules/core-js/library/modules/_defined.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/core-js/library/modules/_descriptors.js":function(e,t,r){e.exports=!r("./node_modules/core-js/library/modules/_fails.js")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"./node_modules/core-js/library/modules/_dom-create.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js"),o=r("./node_modules/core-js/library/modules/_global.js").document,s=n(o)&&n(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},"./node_modules/core-js/library/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/core-js/library/modules/_enum-keys.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-keys.js"),o=r("./node_modules/core-js/library/modules/_object-gops.js"),s=r("./node_modules/core-js/library/modules/_object-pie.js");e.exports=function(e){var t=n(e),r=o.f;if(r)for(var i,a=r(e),u=s.f,l=0;a.length>l;)u.call(e,i=a[l++])&&t.push(i);return t}},"./node_modules/core-js/library/modules/_export.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_core.js"),s=r("./node_modules/core-js/library/modules/_ctx.js"),i=r("./node_modules/core-js/library/modules/_hide.js"),a=r("./node_modules/core-js/library/modules/_has.js"),u=function(e,t,r){var l,d,c,f=e&u.F,h=e&u.G,p=e&u.S,m=e&u.P,g=e&u.B,y=e&u.W,_=h?o:o[t]||(o[t]={}),b=_.prototype,v=h?n:p?n[t]:(n[t]||{}).prototype;for(l in h&&(r=t),r)(d=!f&&v&&void 0!==v[l])&&a(_,l)||(c=d?v[l]:r[l],_[l]=h&&"function"!=typeof v[l]?r[l]:g&&d?s(c,n):y&&v[l]==c?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(c):m&&"function"==typeof c?s(Function.call,c):c,m&&((_.virtual||(_.virtual={}))[l]=c,e&u.R&&b&&!b[l]&&i(b,l,c)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"./node_modules/core-js/library/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/core-js/library/modules/_for-of.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_ctx.js"),o=r("./node_modules/core-js/library/modules/_iter-call.js"),s=r("./node_modules/core-js/library/modules/_is-array-iter.js"),i=r("./node_modules/core-js/library/modules/_an-object.js"),a=r("./node_modules/core-js/library/modules/_to-length.js"),u=r("./node_modules/core-js/library/modules/core.get-iterator-method.js"),l={},d={};(t=e.exports=function(e,t,r,c,f){var h,p,m,g,y=f?function(){return e}:u(e),_=n(r,c,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(s(y)){for(h=a(e.length);h>b;b++)if((g=t?_(i(p=e[b])[0],p[1]):_(e[b]))===l||g===d)return g}else for(m=y.call(e);!(p=m.next()).done;)if((g=o(m,_,p.value,t))===l||g===d)return g}).BREAK=l,t.RETURN=d},"./node_modules/core-js/library/modules/_global.js":function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"./node_modules/core-js/library/modules/_has.js":function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"./node_modules/core-js/library/modules/_hide.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-dp.js"),o=r("./node_modules/core-js/library/modules/_property-desc.js");e.exports=r("./node_modules/core-js/library/modules/_descriptors.js")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},"./node_modules/core-js/library/modules/_html.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_global.js").document;e.exports=n&&n.documentElement},"./node_modules/core-js/library/modules/_ie8-dom-define.js":function(e,t,r){e.exports=!r("./node_modules/core-js/library/modules/_descriptors.js")&&!r("./node_modules/core-js/library/modules/_fails.js")((function(){return 7!=Object.defineProperty(r("./node_modules/core-js/library/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a}))},"./node_modules/core-js/library/modules/_invoke.js":function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},"./node_modules/core-js/library/modules/_iobject.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"./node_modules/core-js/library/modules/_is-array-iter.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_iterators.js"),o=r("./node_modules/core-js/library/modules/_wks.js")("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[o]===e)}},"./node_modules/core-js/library/modules/_is-array.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_cof.js");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"./node_modules/core-js/library/modules/_is-integer.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js"),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},"./node_modules/core-js/library/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/core-js/library/modules/_iter-call.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js");e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var s=e.return;throw void 0!==s&&n(s.call(e)),t}}},"./node_modules/core-js/library/modules/_iter-create.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_object-create.js"),o=r("./node_modules/core-js/library/modules/_property-desc.js"),s=r("./node_modules/core-js/library/modules/_set-to-string-tag.js"),i={};r("./node_modules/core-js/library/modules/_hide.js")(i,r("./node_modules/core-js/library/modules/_wks.js")("iterator"),(function(){return this})),e.exports=function(e,t,r){e.prototype=n(i,{next:o(1,r)}),s(e,t+" Iterator")}},"./node_modules/core-js/library/modules/_iter-define.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_library.js"),o=r("./node_modules/core-js/library/modules/_export.js"),s=r("./node_modules/core-js/library/modules/_redefine.js"),i=r("./node_modules/core-js/library/modules/_hide.js"),a=r("./node_modules/core-js/library/modules/_iterators.js"),u=r("./node_modules/core-js/library/modules/_iter-create.js"),l=r("./node_modules/core-js/library/modules/_set-to-string-tag.js"),d=r("./node_modules/core-js/library/modules/_object-gpo.js"),c=r("./node_modules/core-js/library/modules/_wks.js")("iterator"),f=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,r,p,m,g,y){u(r,t,p);var _,b,v,j=function(e){if(!f&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new r(this,e)}}return function(){return new r(this,e)}},w=t+" Iterator",k="values"==m,x=!1,S=e.prototype,E=S[c]||S["@@iterator"]||m&&S[m],I=E||j(m),C=m?k?j("entries"):I:void 0,M="Array"==t&&S.entries||E;if(M&&(v=d(M.call(new e)))!==Object.prototype&&v.next&&(l(v,w,!0),n||"function"==typeof v[c]||i(v,c,h)),k&&E&&"values"!==E.name&&(x=!0,I=function(){return E.call(this)}),n&&!y||!f&&!x&&S[c]||i(S,c,I),a[t]=I,a[w]=h,m)if(_={values:k?I:j("values"),keys:g?I:j("keys"),entries:C},y)for(b in _)b in S||s(S,b,_[b]);else o(o.P+o.F*(f||x),t,_);return _}},"./node_modules/core-js/library/modules/_iter-detect.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_wks.js")("iterator"),o=!1;try{var s=[7][n]();s.return=function(){o=!0},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var s=[7],i=s[n]();i.next=function(){return{done:r=!0}},s[n]=function(){return i},e(s)}catch(e){}return r}},"./node_modules/core-js/library/modules/_iter-step.js":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},"./node_modules/core-js/library/modules/_iterators.js":function(e,t){e.exports={}},"./node_modules/core-js/library/modules/_library.js":function(e,t){e.exports=!0},"./node_modules/core-js/library/modules/_meta.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_uid.js")("meta"),o=r("./node_modules/core-js/library/modules/_is-object.js"),s=r("./node_modules/core-js/library/modules/_has.js"),i=r("./node_modules/core-js/library/modules/_object-dp.js").f,a=0,u=Object.isExtensible||function(){return!0},l=!r("./node_modules/core-js/library/modules/_fails.js")((function(){return u(Object.preventExtensions({}))})),d=function(e){i(e,n,{value:{i:"O"+ ++a,w:{}}})},c=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,n)){if(!u(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!s(e,n)){if(!u(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return l&&c.NEED&&u(e)&&!s(e,n)&&d(e),e}}},"./node_modules/core-js/library/modules/_microtask.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_task.js").set,s=n.MutationObserver||n.WebKitMutationObserver,i=n.process,a=n.Promise,u="process"==r("./node_modules/core-js/library/modules/_cof.js")(i);e.exports=function(){var e,t,r,l=function(){var n,o;for(u&&(n=i.domain)&&n.exit();e;){o=e.fn,e=e.next;try{o()}catch(n){throw e?r():t=void 0,n}}t=void 0,n&&n.enter()};if(u)r=function(){i.nextTick(l)};else if(!s||n.navigator&&n.navigator.standalone)if(a&&a.resolve){var d=a.resolve(void 0);r=function(){d.then(l)}}else r=function(){o.call(n,l)};else{var c=!0,f=document.createTextNode("");new s(l).observe(f,{characterData:!0}),r=function(){f.data=c=!c}}return function(n){var o={fn:n,next:void 0};t&&(t.next=o),e||(e=o,r()),t=o}}},"./node_modules/core-js/library/modules/_new-promise-capability.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_a-function.js");function o(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new o(e)}},"./node_modules/core-js/library/modules/_object-assign.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_descriptors.js"),o=r("./node_modules/core-js/library/modules/_object-keys.js"),s=r("./node_modules/core-js/library/modules/_object-gops.js"),i=r("./node_modules/core-js/library/modules/_object-pie.js"),a=r("./node_modules/core-js/library/modules/_to-object.js"),u=r("./node_modules/core-js/library/modules/_iobject.js"),l=Object.assign;e.exports=!l||r("./node_modules/core-js/library/modules/_fails.js")((function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||Object.keys(l({},t)).join("")!=n}))?function(e,t){for(var r=a(e),l=arguments.length,d=1,c=s.f,f=i.f;l>d;)for(var h,p=u(arguments[d++]),m=c?o(p).concat(c(p)):o(p),g=m.length,y=0;g>y;)h=m[y++],n&&!f.call(p,h)||(r[h]=p[h]);return r}:l},"./node_modules/core-js/library/modules/_object-create.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js"),o=r("./node_modules/core-js/library/modules/_object-dps.js"),s=r("./node_modules/core-js/library/modules/_enum-bug-keys.js"),i=r("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO"),a=function(){},u=function(){var e,t=r("./node_modules/core-js/library/modules/_dom-create.js")("iframe"),n=s.length;for(t.style.display="none",r("./node_modules/core-js/library/modules/_html.js").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[s[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(a.prototype=n(e),r=new a,a.prototype=null,r[i]=e):r=u(),void 0===t?r:o(r,t)}},"./node_modules/core-js/library/modules/_object-dp.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js"),o=r("./node_modules/core-js/library/modules/_ie8-dom-define.js"),s=r("./node_modules/core-js/library/modules/_to-primitive.js"),i=Object.defineProperty;t.f=r("./node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperty:function(e,t,r){if(n(e),t=s(t,!0),n(r),o)try{return i(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},"./node_modules/core-js/library/modules/_object-dps.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-dp.js"),o=r("./node_modules/core-js/library/modules/_an-object.js"),s=r("./node_modules/core-js/library/modules/_object-keys.js");e.exports=r("./node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperties:function(e,t){o(e);for(var r,i=s(t),a=i.length,u=0;a>u;)n.f(e,r=i[u++],t[r]);return e}},"./node_modules/core-js/library/modules/_object-gopd.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-pie.js"),o=r("./node_modules/core-js/library/modules/_property-desc.js"),s=r("./node_modules/core-js/library/modules/_to-iobject.js"),i=r("./node_modules/core-js/library/modules/_to-primitive.js"),a=r("./node_modules/core-js/library/modules/_has.js"),u=r("./node_modules/core-js/library/modules/_ie8-dom-define.js"),l=Object.getOwnPropertyDescriptor;t.f=r("./node_modules/core-js/library/modules/_descriptors.js")?l:function(e,t){if(e=s(e),t=i(t,!0),u)try{return l(e,t)}catch(e){}if(a(e,t))return o(!n.f.call(e,t),e[t])}},"./node_modules/core-js/library/modules/_object-gopn-ext.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_to-iobject.js"),o=r("./node_modules/core-js/library/modules/_object-gopn.js").f,s={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==s.call(e)?function(e){try{return o(e)}catch(e){return i.slice()}}(e):o(n(e))}},"./node_modules/core-js/library/modules/_object-gopn.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-keys-internal.js"),o=r("./node_modules/core-js/library/modules/_enum-bug-keys.js").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},"./node_modules/core-js/library/modules/_object-gops.js":function(e,t){t.f=Object.getOwnPropertySymbols},"./node_modules/core-js/library/modules/_object-gpo.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_has.js"),o=r("./node_modules/core-js/library/modules/_to-object.js"),s=r("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},"./node_modules/core-js/library/modules/_object-keys-internal.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_has.js"),o=r("./node_modules/core-js/library/modules/_to-iobject.js"),s=r("./node_modules/core-js/library/modules/_array-includes.js")(!1),i=r("./node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var r,a=o(e),u=0,l=[];for(r in a)r!=i&&n(a,r)&&l.push(r);for(;t.length>u;)n(a,r=t[u++])&&(~s(l,r)||l.push(r));return l}},"./node_modules/core-js/library/modules/_object-keys.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-keys-internal.js"),o=r("./node_modules/core-js/library/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return n(e,o)}},"./node_modules/core-js/library/modules/_object-pie.js":function(e,t){t.f={}.propertyIsEnumerable},"./node_modules/core-js/library/modules/_object-sap.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_export.js"),o=r("./node_modules/core-js/library/modules/_core.js"),s=r("./node_modules/core-js/library/modules/_fails.js");e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],i={};i[e]=t(r),n(n.S+n.F*s((function(){r(1)})),"Object",i)}},"./node_modules/core-js/library/modules/_perform.js":function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},"./node_modules/core-js/library/modules/_promise-resolve.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js"),o=r("./node_modules/core-js/library/modules/_is-object.js"),s=r("./node_modules/core-js/library/modules/_new-promise-capability.js");e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=s.f(e);return(0,r.resolve)(t),r.promise}},"./node_modules/core-js/library/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/core-js/library/modules/_redefine-all.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_hide.js");e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:n(e,o,t[o]);return e}},"./node_modules/core-js/library/modules/_redefine.js":function(e,t,r){e.exports=r("./node_modules/core-js/library/modules/_hide.js")},"./node_modules/core-js/library/modules/_set-collection-from.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_export.js"),o=r("./node_modules/core-js/library/modules/_a-function.js"),s=r("./node_modules/core-js/library/modules/_ctx.js"),i=r("./node_modules/core-js/library/modules/_for-of.js");e.exports=function(e){n(n.S,e,{from:function(e){var t,r,n,a,u=arguments[1];return o(this),(t=void 0!==u)&&o(u),null==e?new this:(r=[],t?(n=0,a=s(u,arguments[2],2),i(e,!1,(function(e){r.push(a(e,n++))}))):i(e,!1,r.push,r),new this(r))}})}},"./node_modules/core-js/library/modules/_set-collection-of.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_export.js");e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"./node_modules/core-js/library/modules/_set-species.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_core.js"),s=r("./node_modules/core-js/library/modules/_object-dp.js"),i=r("./node_modules/core-js/library/modules/_descriptors.js"),a=r("./node_modules/core-js/library/modules/_wks.js")("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:n[e];i&&t&&!t[a]&&s.f(t,a,{configurable:!0,get:function(){return this}})}},"./node_modules/core-js/library/modules/_set-to-string-tag.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_object-dp.js").f,o=r("./node_modules/core-js/library/modules/_has.js"),s=r("./node_modules/core-js/library/modules/_wks.js")("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},"./node_modules/core-js/library/modules/_shared-key.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_shared.js")("keys"),o=r("./node_modules/core-js/library/modules/_uid.js");e.exports=function(e){return n[e]||(n[e]=o(e))}},"./node_modules/core-js/library/modules/_shared.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_core.js"),o=r("./node_modules/core-js/library/modules/_global.js"),s=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r("./node_modules/core-js/library/modules/_library.js")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/core-js/library/modules/_species-constructor.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js"),o=r("./node_modules/core-js/library/modules/_a-function.js"),s=r("./node_modules/core-js/library/modules/_wks.js")("species");e.exports=function(e,t){var r,i=n(e).constructor;return void 0===i||null==(r=n(i)[s])?t:o(r)}},"./node_modules/core-js/library/modules/_string-at.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_to-integer.js"),o=r("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return function(t,r){var s,i,a=String(o(t)),u=n(r),l=a.length;return u<0||u>=l?e?"":void 0:(s=a.charCodeAt(u))<55296||s>56319||u+1===l||(i=a.charCodeAt(u+1))<56320||i>57343?e?a.charAt(u):s:e?a.slice(u,u+2):i-56320+(s-55296<<10)+65536}}},"./node_modules/core-js/library/modules/_task.js":function(e,t,r){var n,o,s,i=r("./node_modules/core-js/library/modules/_ctx.js"),a=r("./node_modules/core-js/library/modules/_invoke.js"),u=r("./node_modules/core-js/library/modules/_html.js"),l=r("./node_modules/core-js/library/modules/_dom-create.js"),d=r("./node_modules/core-js/library/modules/_global.js"),c=d.process,f=d.setImmediate,h=d.clearImmediate,p=d.MessageChannel,m=d.Dispatch,g=0,y={},_=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){_.call(e.data)};f&&h||(f=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return y[++g]=function(){a("function"==typeof e?e:Function(e),t)},n(g),g},h=function(e){delete y[e]},"process"==r("./node_modules/core-js/library/modules/_cof.js")(c)?n=function(e){c.nextTick(i(_,e,1))}:m&&m.now?n=function(e){m.now(i(_,e,1))}:p?(s=(o=new p).port2,o.port1.onmessage=b,n=i(s.postMessage,s,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(n=function(e){d.postMessage(e+"","*")},d.addEventListener("message",b,!1)):n="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),_.call(e)}}:function(e){setTimeout(i(_,e,1),0)}),e.exports={set:f,clear:h}},"./node_modules/core-js/library/modules/_to-absolute-index.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_to-integer.js"),o=Math.max,s=Math.min;e.exports=function(e,t){return(e=n(e))<0?o(e+t,0):s(e,t)}},"./node_modules/core-js/library/modules/_to-integer.js":function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},"./node_modules/core-js/library/modules/_to-iobject.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_iobject.js"),o=r("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return n(o(e))}},"./node_modules/core-js/library/modules/_to-length.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_to-integer.js"),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},"./node_modules/core-js/library/modules/_to-object.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return Object(n(e))}},"./node_modules/core-js/library/modules/_to-primitive.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},"./node_modules/core-js/library/modules/_uid.js":function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},"./node_modules/core-js/library/modules/_user-agent.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_global.js").navigator;e.exports=n&&n.userAgent||""},"./node_modules/core-js/library/modules/_validate-collection.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js");e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},"./node_modules/core-js/library/modules/_wks-define.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_core.js"),s=r("./node_modules/core-js/library/modules/_library.js"),i=r("./node_modules/core-js/library/modules/_wks-ext.js"),a=r("./node_modules/core-js/library/modules/_object-dp.js").f;e.exports=function(e){var t=o.Symbol||(o.Symbol=s?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:i.f(e)})}},"./node_modules/core-js/library/modules/_wks-ext.js":function(e,t,r){t.f=r("./node_modules/core-js/library/modules/_wks.js")},"./node_modules/core-js/library/modules/_wks.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_shared.js")("wks"),o=r("./node_modules/core-js/library/modules/_uid.js"),s=r("./node_modules/core-js/library/modules/_global.js").Symbol,i="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=i&&s[e]||(i?s:o)("Symbol."+e))}).store=n},"./node_modules/core-js/library/modules/core.get-iterator-method.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_classof.js"),o=r("./node_modules/core-js/library/modules/_wks.js")("iterator"),s=r("./node_modules/core-js/library/modules/_iterators.js");e.exports=r("./node_modules/core-js/library/modules/_core.js").getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||s[n(e)]}},"./node_modules/core-js/library/modules/core.get-iterator.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_an-object.js"),o=r("./node_modules/core-js/library/modules/core.get-iterator-method.js");e.exports=r("./node_modules/core-js/library/modules/_core.js").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},"./node_modules/core-js/library/modules/es6.array.from.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_ctx.js"),o=r("./node_modules/core-js/library/modules/_export.js"),s=r("./node_modules/core-js/library/modules/_to-object.js"),i=r("./node_modules/core-js/library/modules/_iter-call.js"),a=r("./node_modules/core-js/library/modules/_is-array-iter.js"),u=r("./node_modules/core-js/library/modules/_to-length.js"),l=r("./node_modules/core-js/library/modules/_create-property.js"),d=r("./node_modules/core-js/library/modules/core.get-iterator-method.js");o(o.S+o.F*!r("./node_modules/core-js/library/modules/_iter-detect.js")((function(e){Array.from(e)})),"Array",{from:function(e){var t,r,o,c,f=s(e),h="function"==typeof this?this:Array,p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m,y=0,_=d(f);if(g&&(m=n(m,p>2?arguments[2]:void 0,2)),null==_||h==Array&&a(_))for(r=new h(t=u(f.length));t>y;y++)l(r,y,g?m(f[y],y):f[y]);else for(c=_.call(f),r=new h;!(o=c.next()).done;y++)l(r,y,g?i(c,m,[o.value,y],!0):o.value);return r.length=y,r}})},"./node_modules/core-js/library/modules/es6.array.iterator.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_add-to-unscopables.js"),o=r("./node_modules/core-js/library/modules/_iter-step.js"),s=r("./node_modules/core-js/library/modules/_iterators.js"),i=r("./node_modules/core-js/library/modules/_to-iobject.js");e.exports=r("./node_modules/core-js/library/modules/_iter-define.js")(Array,"Array",(function(e,t){this._t=i(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])}),"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},"./node_modules/core-js/library/modules/es6.map.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_collection-strong.js"),o=r("./node_modules/core-js/library/modules/_validate-collection.js");e.exports=r("./node_modules/core-js/library/modules/_collection.js")("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=n.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(o(this,"Map"),0===e?0:e,t)}},n,!0)},"./node_modules/core-js/library/modules/es6.number.is-integer.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_export.js");n(n.S,"Number",{isInteger:r("./node_modules/core-js/library/modules/_is-integer.js")})},"./node_modules/core-js/library/modules/es6.object.assign.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_export.js");n(n.S+n.F,"Object",{assign:r("./node_modules/core-js/library/modules/_object-assign.js")})},"./node_modules/core-js/library/modules/es6.object.create.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_export.js");n(n.S,"Object",{create:r("./node_modules/core-js/library/modules/_object-create.js")})},"./node_modules/core-js/library/modules/es6.object.define-properties.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_export.js");n(n.S+n.F*!r("./node_modules/core-js/library/modules/_descriptors.js"),"Object",{defineProperties:r("./node_modules/core-js/library/modules/_object-dps.js")})},"./node_modules/core-js/library/modules/es6.object.define-property.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_export.js");n(n.S+n.F*!r("./node_modules/core-js/library/modules/_descriptors.js"),"Object",{defineProperty:r("./node_modules/core-js/library/modules/_object-dp.js").f})},"./node_modules/core-js/library/modules/es6.object.freeze.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_is-object.js"),o=r("./node_modules/core-js/library/modules/_meta.js").onFreeze;r("./node_modules/core-js/library/modules/_object-sap.js")("freeze",(function(e){return function(t){return e&&n(t)?e(o(t)):t}}))},"./node_modules/core-js/library/modules/es6.object.get-own-property-names.js":function(e,t,r){r("./node_modules/core-js/library/modules/_object-sap.js")("getOwnPropertyNames",(function(){return r("./node_modules/core-js/library/modules/_object-gopn-ext.js").f}))},"./node_modules/core-js/library/modules/es6.object.keys.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_to-object.js"),o=r("./node_modules/core-js/library/modules/_object-keys.js");r("./node_modules/core-js/library/modules/_object-sap.js")("keys",(function(){return function(e){return o(n(e))}}))},"./node_modules/core-js/library/modules/es6.object.to-string.js":function(e,t){},"./node_modules/core-js/library/modules/es6.promise.js":function(e,t,r){"use strict";var n,o,s,i,a=r("./node_modules/core-js/library/modules/_library.js"),u=r("./node_modules/core-js/library/modules/_global.js"),l=r("./node_modules/core-js/library/modules/_ctx.js"),d=r("./node_modules/core-js/library/modules/_classof.js"),c=r("./node_modules/core-js/library/modules/_export.js"),f=r("./node_modules/core-js/library/modules/_is-object.js"),h=r("./node_modules/core-js/library/modules/_a-function.js"),p=r("./node_modules/core-js/library/modules/_an-instance.js"),m=r("./node_modules/core-js/library/modules/_for-of.js"),g=r("./node_modules/core-js/library/modules/_species-constructor.js"),y=r("./node_modules/core-js/library/modules/_task.js").set,_=r("./node_modules/core-js/library/modules/_microtask.js")(),b=r("./node_modules/core-js/library/modules/_new-promise-capability.js"),v=r("./node_modules/core-js/library/modules/_perform.js"),j=r("./node_modules/core-js/library/modules/_user-agent.js"),w=r("./node_modules/core-js/library/modules/_promise-resolve.js"),k=u.TypeError,x=u.process,S=x&&x.versions,E=S&&S.v8||"",I=u.Promise,C="process"==d(x),M=function(){},R=o=b.f,O=!!function(){try{var e=I.resolve(1),t=(e.constructor={})[r("./node_modules/core-js/library/modules/_wks.js")("species")]=function(e){e(M,M)};return(C||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==E.indexOf("6.6")&&-1===j.indexOf("Chrome/66")}catch(e){}}(),T=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var r=e._c;_((function(){for(var n=e._v,o=1==e._s,s=0,i=function(t){var r,s,i,a=o?t.ok:t.fail,u=t.resolve,l=t.reject,d=t.domain;try{a?(o||(2==e._h&&U(e),e._h=1),!0===a?r=n:(d&&d.enter(),r=a(n),d&&(d.exit(),i=!0)),r===t.promise?l(k("Promise-chain cycle")):(s=T(r))?s.call(r,u,l):u(r)):l(n)}catch(e){d&&!i&&d.exit(),l(e)}};r.length>s;)i(r[s++]);e._c=[],e._n=!1,t&&!e._h&&P(e)}))}},P=function(e){y.call(u,(function(){var t,r,n,o=e._v,s=q(e);if(s&&(t=v((function(){C?x.emit("unhandledRejection",o,e):(r=u.onunhandledrejection)?r({promise:e,reason:o}):(n=u.console)&&n.error&&n.error("Unhandled promise rejection",o)})),e._h=C||q(e)?2:1),e._a=void 0,s&&t.e)throw t.v}))},q=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){y.call(u,(function(){var t;C?x.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},N=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},B=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw k("Promise can't be resolved itself");(t=T(e))?_((function(){var n={_w:r,_d:!1};try{t.call(e,l(B,n,1),l(N,n,1))}catch(e){N.call(n,e)}})):(r._v=e,r._s=1,A(r,!1))}catch(e){N.call({_w:r,_d:!1},e)}}};O||(I=function(e){p(this,I,"Promise","_h"),h(e),n.call(this);try{e(l(B,this,1),l(N,this,1))}catch(e){N.call(this,e)}},(n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r("./node_modules/core-js/library/modules/_redefine-all.js")(I.prototype,{then:function(e,t){var r=R(g(this,I));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=C?x.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&A(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),s=function(){var e=new n;this.promise=e,this.resolve=l(B,e,1),this.reject=l(N,e,1)},b.f=R=function(e){return e===I||e===i?new s(e):o(e)}),c(c.G+c.W+c.F*!O,{Promise:I}),r("./node_modules/core-js/library/modules/_set-to-string-tag.js")(I,"Promise"),r("./node_modules/core-js/library/modules/_set-species.js")("Promise"),i=r("./node_modules/core-js/library/modules/_core.js").Promise,c(c.S+c.F*!O,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),c(c.S+c.F*(a||!O),"Promise",{resolve:function(e){return w(a&&this===i?I:this,e)}}),c(c.S+c.F*!(O&&r("./node_modules/core-js/library/modules/_iter-detect.js")((function(e){I.all(e).catch(M)}))),"Promise",{all:function(e){var t=this,r=R(t),n=r.resolve,o=r.reject,s=v((function(){var r=[],s=0,i=1;m(e,!1,(function(e){var a=s++,u=!1;r.push(void 0),i++,t.resolve(e).then((function(e){u||(u=!0,r[a]=e,--i||n(r))}),o)})),--i||n(r)}));return s.e&&o(s.v),r.promise},race:function(e){var t=this,r=R(t),n=r.reject,o=v((function(){m(e,!1,(function(e){t.resolve(e).then(r.resolve,n)}))}));return o.e&&n(o.v),r.promise}})},"./node_modules/core-js/library/modules/es6.set.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_collection-strong.js"),o=r("./node_modules/core-js/library/modules/_validate-collection.js");e.exports=r("./node_modules/core-js/library/modules/_collection.js")("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return n.def(o(this,"Set"),e=0===e?0:e,e)}},n)},"./node_modules/core-js/library/modules/es6.string.iterator.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_string-at.js")(!0);r("./node_modules/core-js/library/modules/_iter-define.js")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=n(t,r),this._i+=e.length,{value:e,done:!1})}))},"./node_modules/core-js/library/modules/es6.symbol.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_has.js"),s=r("./node_modules/core-js/library/modules/_descriptors.js"),i=r("./node_modules/core-js/library/modules/_export.js"),a=r("./node_modules/core-js/library/modules/_redefine.js"),u=r("./node_modules/core-js/library/modules/_meta.js").KEY,l=r("./node_modules/core-js/library/modules/_fails.js"),d=r("./node_modules/core-js/library/modules/_shared.js"),c=r("./node_modules/core-js/library/modules/_set-to-string-tag.js"),f=r("./node_modules/core-js/library/modules/_uid.js"),h=r("./node_modules/core-js/library/modules/_wks.js"),p=r("./node_modules/core-js/library/modules/_wks-ext.js"),m=r("./node_modules/core-js/library/modules/_wks-define.js"),g=r("./node_modules/core-js/library/modules/_enum-keys.js"),y=r("./node_modules/core-js/library/modules/_is-array.js"),_=r("./node_modules/core-js/library/modules/_an-object.js"),b=r("./node_modules/core-js/library/modules/_is-object.js"),v=r("./node_modules/core-js/library/modules/_to-object.js"),j=r("./node_modules/core-js/library/modules/_to-iobject.js"),w=r("./node_modules/core-js/library/modules/_to-primitive.js"),k=r("./node_modules/core-js/library/modules/_property-desc.js"),x=r("./node_modules/core-js/library/modules/_object-create.js"),S=r("./node_modules/core-js/library/modules/_object-gopn-ext.js"),E=r("./node_modules/core-js/library/modules/_object-gopd.js"),I=r("./node_modules/core-js/library/modules/_object-gops.js"),C=r("./node_modules/core-js/library/modules/_object-dp.js"),M=r("./node_modules/core-js/library/modules/_object-keys.js"),R=E.f,O=C.f,T=S.f,A=n.Symbol,P=n.JSON,q=P&&P.stringify,U=h("_hidden"),N=h("toPrimitive"),B={}.propertyIsEnumerable,L=d("symbol-registry"),F=d("symbols"),D=d("op-symbols"),z=Object.prototype,G="function"==typeof A&&!!I.f,H=n.QObject,V=!H||!H.prototype||!H.prototype.findChild,K=s&&l((function(){return 7!=x(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=R(z,t);n&&delete z[t],O(e,t,r),n&&e!==z&&O(z,t,n)}:O,W=function(e){var t=F[e]=x(A.prototype);return t._k=e,t},Z=G&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},J=function(e,t,r){return e===z&&J(D,t,r),_(e),t=w(t,!0),_(r),o(F,t)?(r.enumerable?(o(e,U)&&e[U][t]&&(e[U][t]=!1),r=x(r,{enumerable:k(0,!1)})):(o(e,U)||O(e,U,k(1,{})),e[U][t]=!0),K(e,t,r)):O(e,t,r)},Y=function(e,t){_(e);for(var r,n=g(t=j(t)),o=0,s=n.length;s>o;)J(e,r=n[o++],t[r]);return e},$=function(e){var t=B.call(this,e=w(e,!0));return!(this===z&&o(F,e)&&!o(D,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,U)&&this[U][e])||t)},Q=function(e,t){if(e=j(e),t=w(t,!0),e!==z||!o(F,t)||o(D,t)){var r=R(e,t);return!r||!o(F,t)||o(e,U)&&e[U][t]||(r.enumerable=!0),r}},X=function(e){for(var t,r=T(j(e)),n=[],s=0;r.length>s;)o(F,t=r[s++])||t==U||t==u||n.push(t);return n},ee=function(e){for(var t,r=e===z,n=T(r?D:j(e)),s=[],i=0;n.length>i;)!o(F,t=n[i++])||r&&!o(z,t)||s.push(F[t]);return s};G||(a((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===z&&t.call(D,r),o(this,U)&&o(this[U],e)&&(this[U][e]=!1),K(this,e,k(1,r))};return s&&V&&K(z,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),E.f=Q,C.f=J,r("./node_modules/core-js/library/modules/_object-gopn.js").f=S.f=X,r("./node_modules/core-js/library/modules/_object-pie.js").f=$,I.f=ee,s&&!r("./node_modules/core-js/library/modules/_library.js")&&a(z,"propertyIsEnumerable",$,!0),p.f=function(e){return W(h(e))}),i(i.G+i.W+i.F*!G,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)h(te[re++]);for(var ne=M(h.store),oe=0;ne.length>oe;)m(ne[oe++]);i(i.S+i.F*!G,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=A(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),i(i.S+i.F*!G,"Object",{create:function(e,t){return void 0===t?x(e):Y(x(e),t)},defineProperty:J,defineProperties:Y,getOwnPropertyDescriptor:Q,getOwnPropertyNames:X,getOwnPropertySymbols:ee});var se=l((function(){I.f(1)}));i(i.S+i.F*se,"Object",{getOwnPropertySymbols:function(e){return I.f(v(e))}}),P&&i(i.S+i.F*(!G||l((function(){var e=A();return"[null]"!=q([e])||"{}"!=q({a:e})||"{}"!=q(Object(e))}))),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(b(t)||void 0!==e)&&!Z(e))return y(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!Z(t))return t}),n[1]=t,q.apply(P,n)}}),A.prototype[N]||r("./node_modules/core-js/library/modules/_hide.js")(A.prototype,N,A.prototype.valueOf),c(A,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},"./node_modules/core-js/library/modules/es7.map.from.js":function(e,t,r){r("./node_modules/core-js/library/modules/_set-collection-from.js")("Map")},"./node_modules/core-js/library/modules/es7.map.of.js":function(e,t,r){r("./node_modules/core-js/library/modules/_set-collection-of.js")("Map")},"./node_modules/core-js/library/modules/es7.map.to-json.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_export.js");n(n.P+n.R,"Map",{toJSON:r("./node_modules/core-js/library/modules/_collection-to-json.js")("Map")})},"./node_modules/core-js/library/modules/es7.promise.finally.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_export.js"),o=r("./node_modules/core-js/library/modules/_core.js"),s=r("./node_modules/core-js/library/modules/_global.js"),i=r("./node_modules/core-js/library/modules/_species-constructor.js"),a=r("./node_modules/core-js/library/modules/_promise-resolve.js");n(n.P+n.R,"Promise",{finally:function(e){var t=i(this,o.Promise||s.Promise),r="function"==typeof e;return this.then(r?function(r){return a(t,e()).then((function(){return r}))}:e,r?function(r){return a(t,e()).then((function(){throw r}))}:e)}})},"./node_modules/core-js/library/modules/es7.promise.try.js":function(e,t,r){"use strict";var n=r("./node_modules/core-js/library/modules/_export.js"),o=r("./node_modules/core-js/library/modules/_new-promise-capability.js"),s=r("./node_modules/core-js/library/modules/_perform.js");n(n.S,"Promise",{try:function(e){var t=o.f(this),r=s(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},"./node_modules/core-js/library/modules/es7.set.from.js":function(e,t,r){r("./node_modules/core-js/library/modules/_set-collection-from.js")("Set")},"./node_modules/core-js/library/modules/es7.set.of.js":function(e,t,r){r("./node_modules/core-js/library/modules/_set-collection-of.js")("Set")},"./node_modules/core-js/library/modules/es7.set.to-json.js":function(e,t,r){var n=r("./node_modules/core-js/library/modules/_export.js");n(n.P+n.R,"Set",{toJSON:r("./node_modules/core-js/library/modules/_collection-to-json.js")("Set")})},"./node_modules/core-js/library/modules/es7.symbol.async-iterator.js":function(e,t,r){r("./node_modules/core-js/library/modules/_wks-define.js")("asyncIterator")},"./node_modules/core-js/library/modules/es7.symbol.observable.js":function(e,t,r){r("./node_modules/core-js/library/modules/_wks-define.js")("observable")},"./node_modules/core-js/library/modules/web.dom.iterable.js":function(e,t,r){r("./node_modules/core-js/library/modules/es6.array.iterator.js");for(var n=r("./node_modules/core-js/library/modules/_global.js"),o=r("./node_modules/core-js/library/modules/_hide.js"),s=r("./node_modules/core-js/library/modules/_iterators.js"),i=r("./node_modules/core-js/library/modules/_wks.js")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var l=a[u],d=n[l],c=d&&d.prototype;c&&!c[i]&&o(c,i,l),s[l]=s.Array}},"./node_modules/core-util-is/lib/util.js":function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./node_modules/d/auto-bind.js":function(e,t,r){"use strict";var n,o=r("./node_modules/type/value/is.js"),s=r("./node_modules/type/value/ensure.js"),i=r("./node_modules/type/plain-function/ensure.js"),a=r("./node_modules/es5-ext/object/copy.js"),u=r("./node_modules/es5-ext/object/normalize-options.js"),l=r("./node_modules/es5-ext/object/map.js"),d=Function.prototype.bind,c=Object.defineProperty,f=Object.prototype.hasOwnProperty;n=function(e,t,r){var n,o=s(t)&&i(t.value);return delete(n=a(t)).writable,delete n.value,n.get=function(){return!r.overwriteDefinition&&f.call(this,e)?o:(t.value=d.call(o,r.resolveContext?r.resolveContext(this):this),c(this,e,t),this[e])},n},e.exports=function(e){var t=u(arguments[1]);return o(t.resolveContext)&&i(t.resolveContext),l(e,(function(e,r){return n(r,e,t)}))}},"./node_modules/d/index.js":function(e,t,r){"use strict";var n=r("./node_modules/type/value/is.js"),o=r("./node_modules/type/plain-function/is.js"),s=r("./node_modules/es5-ext/object/assign/index.js"),i=r("./node_modules/es5-ext/object/normalize-options.js"),a=r("./node_modules/es5-ext/string/#/contains/index.js");(e.exports=function(e,t){var r,o,u,l,d;return arguments.length<2||"string"!=typeof e?(l=t,t=e,e=null):l=arguments[2],n(e)?(r=a.call(e,"c"),o=a.call(e,"e"),u=a.call(e,"w")):(r=u=!0,o=!1),d={value:t,configurable:r,enumerable:o,writable:u},l?s(i(l),d):d}).gs=function(e,t,r){var u,l,d,c;return"string"!=typeof e?(d=r,r=t,t=e,e=null):d=arguments[3],n(t)?o(t)?n(r)?o(r)||(d=r,r=void 0):r=void 0:(d=t,t=r=void 0):t=void 0,n(e)?(u=a.call(e,"c"),l=a.call(e,"e")):(u=!0,l=!1),c={get:t,set:r,configurable:u,enumerable:l},d?s(i(d),c):c}},"./node_modules/duplexify/index.js":function(e,t,r){(function(t,n){var o=r("./node_modules/readable-stream/readable-browser.js"),s=r("./node_modules/end-of-stream/index.js"),i=r("./node_modules/inherits/inherits_browser.js"),a=r("./node_modules/stream-shift/index.js"),u=t.from&&t.from!==Uint8Array.from?t.from([0]):new t([0]),l=function(e,t){e._corked?e.once("uncork",t):t()},d=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},c=function(e,t,r){if(!(this instanceof c))return new c(e,t,r);o.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};i(c,o.Duplex),c.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new c(e,t,r)},c.prototype.cork=function(){1==++this._corked&&this.emit("cork")},c.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},c.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,r=s(e,{writable:!0,readable:!1},d(this,this._forwardEnd)),o=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&n.nextTick(o),this._writable=e,this._writable.on("drain",o),this._unwrite=function(){t._writable.removeListener("drain",o),r()},this.uncork()}else this.end()},c.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,n=s(e,{writable:!1,readable:!0},d(this)),i=function(){r._forward()},a=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new o.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",i),this._readable2.on("end",a),this._unread=function(){r._readable2.removeListener("readable",i),r._readable2.removeListener("end",a),n()},this._forward()}},c.prototype._read=function(){this._drained=!0,this._forward()},c.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var e;for(this._forwarding=!0;this._drained&&null!==(e=a(this._readable2));)this.destroyed||(this._drained=this.push(e));this._forwarding=!1}},c.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;n.nextTick((function(){t._destroy(e)}))}},c.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},c.prototype._write=function(e,t,r){return this.destroyed?r():this._corked?l(this,this._write.bind(this,e,t,r)):e===u?this._finish(r):this._writable?void(!1===this._writable.write(e)?this._ondrain=r:r()):r()},c.prototype._finish=function(e){var t=this;this.emit("preend"),l(this,(function(){var r,n;r=t._forwardEnd&&t._writable,n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),l(t,e)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},c.prototype.end=function(e,t,r){return"function"==typeof e?this.end(null,null,e):"function"==typeof t?this.end(e,null,t):(this._ended=!0,e&&this.write(e),this._writableState.ending||this.write(u),o.Writable.prototype.end.call(this,r))},e.exports=c}).call(this,r("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer,r("./node_modules/process/browser.js"))},"./node_modules/end-of-stream/index.js":function(e,t,r){(function(t){var n=r("./node_modules/once/once.js"),o=function(){},s=function(e,r,i){if("function"==typeof r)return s(e,null,r);r||(r={}),i=n(i||o);var a=e._writableState,u=e._readableState,l=r.readable||!1!==r.readable&&e.readable,d=r.writable||!1!==r.writable&&e.writable,c=!1,f=function(){e.writable||h()},h=function(){d=!1,l||i.call(e)},p=function(){l=!1,d||i.call(e)},m=function(t){i.call(e,t?new Error("exited with error code: "+t):null)},g=function(t){i.call(e,t)},y=function(){t.nextTick(_)},_=function(){if(!c)return(!l||u&&u.ended&&!u.destroyed)&&(!d||a&&a.ended&&!a.destroyed)?void 0:i.call(e,new Error("premature close"))},b=function(){e.req.on("finish",h)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?d&&!a&&(e.on("end",f),e.on("close",f)):(e.on("complete",h),e.on("abort",y),e.req?b():e.on("request",b)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",m),e.on("end",p),e.on("finish",h),!1!==r.error&&e.on("error",g),e.on("close",y),function(){c=!0,e.removeListener("complete",h),e.removeListener("abort",y),e.removeListener("request",b),e.req&&e.req.removeListener("finish",h),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",h),e.removeListener("exit",m),e.removeListener("end",p),e.removeListener("error",g),e.removeListener("close",y)}};e.exports=s}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/es5-ext/array/#/clear.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/valid-value.js");e.exports=function(){return n(this).length=0,this}},"./node_modules/es5-ext/array/#/e-index-of.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/number/is-nan/index.js"),o=r("./node_modules/es5-ext/number/to-pos-integer.js"),s=r("./node_modules/es5-ext/object/valid-value.js"),i=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,u=Math.abs,l=Math.floor;e.exports=function(e){var t,r,d,c;if(!n(e))return i.apply(this,arguments);for(r=o(s(this).length),d=arguments[1],t=d=isNaN(d)?0:d>=0?l(d):o(this.length)-l(u(d));t<r;++t)if(a.call(this,t)&&(c=this[t],n(c)))return t;return-1}},"./node_modules/es5-ext/array/from/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/array/from/is-implemented.js")()?Array.from:r("./node_modules/es5-ext/array/from/shim.js")},"./node_modules/es5-ext/array/from/is-implemented.js":function(e,t,r){"use strict";e.exports=function(){var e,t,r=Array.from;return"function"==typeof r&&(t=r(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},"./node_modules/es5-ext/array/from/shim.js":function(e,t,r){"use strict";var n=r("./node_modules/es6-symbol/index.js").iterator,o=r("./node_modules/es5-ext/function/is-arguments.js"),s=r("./node_modules/es5-ext/function/is-function.js"),i=r("./node_modules/es5-ext/number/to-pos-integer.js"),a=r("./node_modules/es5-ext/object/valid-callable.js"),u=r("./node_modules/es5-ext/object/valid-value.js"),l=r("./node_modules/es5-ext/object/is-value.js"),d=r("./node_modules/es5-ext/string/is-string.js"),c=Array.isArray,f=Function.prototype.call,h={configurable:!0,enumerable:!0,writable:!0,value:null},p=Object.defineProperty;e.exports=function(e){var t,r,m,g,y,_,b,v,j,w,k=arguments[1],x=arguments[2];if(e=Object(u(e)),l(k)&&a(k),this&&this!==Array&&s(this))t=this;else{if(!k){if(o(e))return 1!==(y=e.length)?Array.apply(null,e):((g=new Array(1))[0]=e[0],g);if(c(e)){for(g=new Array(y=e.length),r=0;r<y;++r)g[r]=e[r];return g}}g=[]}if(!c(e))if(void 0!==(j=e[n])){for(b=a(j).call(e),t&&(g=new t),v=b.next(),r=0;!v.done;)w=k?f.call(k,x,v.value,r):v.value,t?(h.value=w,p(g,r,h)):g[r]=w,v=b.next(),++r;y=r}else if(d(e)){for(y=e.length,t&&(g=new t),r=0,m=0;r<y;++r)w=e[r],r+1<y&&(_=w.charCodeAt(0))>=55296&&_<=56319&&(w+=e[++r]),w=k?f.call(k,x,w,m):w,t?(h.value=w,p(g,m,h)):g[m]=w,++m;y=m}if(void 0===y)for(y=i(e.length),t&&(g=new t(y)),r=0;r<y;++r)w=k?f.call(k,x,e[r],r):e[r],t?(h.value=w,p(g,r,h)):g[r]=w;return t&&(h.value=null,g.length=y),g}},"./node_modules/es5-ext/function/is-arguments.js":function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call(function(){return arguments}());e.exports=function(e){return n.call(e)===o}},"./node_modules/es5-ext/function/is-function.js":function(e,t,r){"use strict";var n=Object.prototype.toString,o=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return"function"==typeof e&&o(n.call(e))}},"./node_modules/es5-ext/function/noop.js":function(e,t,r){"use strict";e.exports=function(){}},"./node_modules/es5-ext/global.js":function(e,t){e.exports=function(){if(this)return this;Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0});try{return __global__}finally{delete Object.prototype.__global__}}()},"./node_modules/es5-ext/math/sign/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/math/sign/is-implemented.js")()?Math.sign:r("./node_modules/es5-ext/math/sign/shim.js")},"./node_modules/es5-ext/math/sign/is-implemented.js":function(e,t,r){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}},"./node_modules/es5-ext/math/sign/shim.js":function(e,t,r){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},"./node_modules/es5-ext/number/is-nan/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/number/is-nan/is-implemented.js")()?Number.isNaN:r("./node_modules/es5-ext/number/is-nan/shim.js")},"./node_modules/es5-ext/number/is-nan/is-implemented.js":function(e,t,r){"use strict";e.exports=function(){var e=Number.isNaN;return"function"==typeof e&&(!e({})&&e(NaN)&&!e(34))}},"./node_modules/es5-ext/number/is-nan/shim.js":function(e,t,r){"use strict";e.exports=function(e){return e!=e}},"./node_modules/es5-ext/number/to-integer.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/math/sign/index.js"),o=Math.abs,s=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?n(e)*s(o(e)):e}},"./node_modules/es5-ext/number/to-pos-integer.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/number/to-integer.js"),o=Math.max;e.exports=function(e){return o(0,n(e))}},"./node_modules/es5-ext/object/_iterate.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/valid-callable.js"),o=r("./node_modules/es5-ext/object/valid-value.js"),s=Function.prototype.bind,i=Function.prototype.call,a=Object.keys,u=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(r,l){var d,c=arguments[2],f=arguments[3];return r=Object(o(r)),n(l),d=a(r),f&&d.sort("function"==typeof f?s.call(f,r):void 0),"function"!=typeof e&&(e=d[e]),i.call(e,d,(function(e,n){return u.call(r,e)?i.call(l,c,r[e],e,r,n):t}))}}},"./node_modules/es5-ext/object/assign/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/object/assign/is-implemented.js")()?Object.assign:r("./node_modules/es5-ext/object/assign/shim.js")},"./node_modules/es5-ext/object/assign/is-implemented.js":function(e,t,r){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},"./node_modules/es5-ext/object/assign/shim.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/keys/index.js"),o=r("./node_modules/es5-ext/object/valid-value.js"),s=Math.max;e.exports=function(e,t){var r,i,a,u=s(arguments.length,2);for(e=Object(o(e)),a=function(n){try{e[n]=t[n]}catch(e){r||(r=e)}},i=1;i<u;++i)t=arguments[i],n(t).forEach(a);if(void 0!==r)throw r;return e}},"./node_modules/es5-ext/object/copy.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/array/from/index.js"),o=r("./node_modules/es5-ext/object/assign/index.js"),s=r("./node_modules/es5-ext/object/valid-value.js");e.exports=function(e){var t=Object(s(e)),r=arguments[1],i=Object(arguments[2]);if(t!==e&&!r)return t;var a={};return r?n(r,(function(t){(i.ensure||t in e)&&(a[t]=e[t])})):o(a,e),a}},"./node_modules/es5-ext/object/create.js":function(e,t,r){"use strict";var n,o,s,i,a=Object.create;r("./node_modules/es5-ext/object/set-prototype-of/is-implemented.js")()||(n=r("./node_modules/es5-ext/object/set-prototype-of/shim.js")),e.exports=n?1!==n.level?a:(o={},s={},i={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(e){s[e]="__proto__"!==e?i:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(o,s),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:o}),function(e,t){return a(null===e?o:e,t)}):a},"./node_modules/es5-ext/object/for-each.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/object/_iterate.js")("forEach")},"./node_modules/es5-ext/object/is-object.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/is-value.js"),o={function:!0,object:!0};e.exports=function(e){return n(e)&&o[typeof e]||!1}},"./node_modules/es5-ext/object/is-value.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/function/noop.js")();e.exports=function(e){return e!==n&&null!==e}},"./node_modules/es5-ext/object/keys/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/object/keys/is-implemented.js")()?Object.keys:r("./node_modules/es5-ext/object/keys/shim.js")},"./node_modules/es5-ext/object/keys/is-implemented.js":function(e,t,r){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},"./node_modules/es5-ext/object/keys/shim.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/is-value.js"),o=Object.keys;e.exports=function(e){return o(n(e)?Object(e):e)}},"./node_modules/es5-ext/object/map.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/valid-callable.js"),o=r("./node_modules/es5-ext/object/for-each.js"),s=Function.prototype.call;e.exports=function(e,t){var r={},i=arguments[2];return n(t),o(e,(function(e,n,o,a){r[n]=s.call(t,i,e,n,o,a)})),r}},"./node_modules/es5-ext/object/normalize-options.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/is-value.js"),o=Array.prototype.forEach,s=Object.create,i=function(e,t){var r;for(r in e)t[r]=e[r]};e.exports=function(e){var t=s(null);return o.call(arguments,(function(e){n(e)&&i(Object(e),t)})),t}},"./node_modules/es5-ext/object/primitive-set.js":function(e,t,r){"use strict";var n=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return n.call(arguments,(function(e){t[e]=!0})),t}},"./node_modules/es5-ext/object/set-prototype-of/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/object/set-prototype-of/is-implemented.js")()?Object.setPrototypeOf:r("./node_modules/es5-ext/object/set-prototype-of/shim.js")},"./node_modules/es5-ext/object/set-prototype-of/is-implemented.js":function(e,t,r){"use strict";var n=Object.create,o=Object.getPrototypeOf,s={};e.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||n;return"function"==typeof e&&o(e(t(null),s))===s}},"./node_modules/es5-ext/object/set-prototype-of/shim.js":function(e,t,r){"use strict";var n,o=r("./node_modules/es5-ext/object/is-object.js"),s=r("./node_modules/es5-ext/object/valid-value.js"),i=Object.prototype.isPrototypeOf,a=Object.defineProperty,u={configurable:!0,enumerable:!1,writable:!0,value:void 0};n=function(e,t){if(s(e),null===t||o(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=function(e){var t,r;return e?(2===e.level?e.set?(r=e.set,t=function(e,t){return r.call(n(e,t),t),e}):t=function(e,t){return n(e,t).__proto__=t,e}:t=function e(t,r){var o;return n(t,r),(o=i.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===r&&(r=e.nullPolyfill),t.__proto__=r,o&&a(e.nullPolyfill,"__proto__",u),t},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:e.level})):null}(function(){var e,t=Object.create(null),r={},n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(n){try{(e=n.set).call(t,r)}catch(e){}if(Object.getPrototypeOf(t)===r)return{set:e,level:2}}return t.__proto__=r,Object.getPrototypeOf(t)===r?{level:2}:((t={}).__proto__=r,Object.getPrototypeOf(t)===r&&{level:1})}()),r("./node_modules/es5-ext/object/create.js")},"./node_modules/es5-ext/object/valid-callable.js":function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},"./node_modules/es5-ext/object/valid-value.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/object/is-value.js");e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},"./node_modules/es5-ext/string/#/contains/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/string/#/contains/is-implemented.js")()?String.prototype.contains:r("./node_modules/es5-ext/string/#/contains/shim.js")},"./node_modules/es5-ext/string/#/contains/is-implemented.js":function(e,t,r){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}},"./node_modules/es5-ext/string/#/contains/shim.js":function(e,t,r){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},"./node_modules/es5-ext/string/is-string.js":function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||n.call(e)===o)||!1}},"./node_modules/es6-iterator/array.js":function(e,t,r){"use strict";var n,o=r("./node_modules/es5-ext/object/set-prototype-of/index.js"),s=r("./node_modules/es5-ext/string/#/contains/index.js"),i=r("./node_modules/d/index.js"),a=r("./node_modules/es6-symbol/index.js"),u=r("./node_modules/es6-iterator/index.js"),l=Object.defineProperty;n=e.exports=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");u.call(this,e),t=t?s.call(t,"key+value")?"key+value":s.call(t,"key")?"key":"value":"value",l(this,"__kind__",i("",t))},o&&o(n,u),delete n.prototype.constructor,n.prototype=Object.create(u.prototype,{_resolve:i((function(e){return"value"===this.__kind__?this.__list__[e]:"key+value"===this.__kind__?[e,this.__list__[e]]:e}))}),l(n.prototype,a.toStringTag,i("c","Array Iterator"))},"./node_modules/es6-iterator/for-of.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/function/is-arguments.js"),o=r("./node_modules/es5-ext/object/valid-callable.js"),s=r("./node_modules/es5-ext/string/is-string.js"),i=r("./node_modules/es6-iterator/get.js"),a=Array.isArray,u=Function.prototype.call,l=Array.prototype.some;e.exports=function(e,t){var r,d,c,f,h,p,m,g,y=arguments[2];if(a(e)||n(e)?r="array":s(e)?r="string":e=i(e),o(t),c=function(){f=!0},"array"!==r)if("string"!==r)for(d=e.next();!d.done;){if(u.call(t,y,d.value,c),f)return;d=e.next()}else for(p=e.length,h=0;h<p&&(m=e[h],h+1<p&&(g=m.charCodeAt(0))>=55296&&g<=56319&&(m+=e[++h]),u.call(t,y,m,c),!f);++h);else l.call(e,(function(e){return u.call(t,y,e,c),f}))}},"./node_modules/es6-iterator/get.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/function/is-arguments.js"),o=r("./node_modules/es5-ext/string/is-string.js"),s=r("./node_modules/es6-iterator/array.js"),i=r("./node_modules/es6-iterator/string.js"),a=r("./node_modules/es6-iterator/valid-iterable.js"),u=r("./node_modules/es6-symbol/index.js").iterator;e.exports=function(e){return"function"==typeof a(e)[u]?e[u]():n(e)?new s(e):o(e)?new i(e):new s(e)}},"./node_modules/es6-iterator/index.js":function(e,t,r){"use strict";var n,o=r("./node_modules/es5-ext/array/#/clear.js"),s=r("./node_modules/es5-ext/object/assign/index.js"),i=r("./node_modules/es5-ext/object/valid-callable.js"),a=r("./node_modules/es5-ext/object/valid-value.js"),u=r("./node_modules/d/index.js"),l=r("./node_modules/d/auto-bind.js"),d=r("./node_modules/es6-symbol/index.js"),c=Object.defineProperty,f=Object.defineProperties;e.exports=n=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");f(this,{__list__:u("w",a(e)),__context__:u("w",t),__nextIndex__:u("w",0)}),t&&(i(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete n.prototype.constructor,f(n.prototype,s({_next:u((function(){var e;if(this.__list__)return this.__redo__&&void 0!==(e=this.__redo__.shift())?e:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:u((function(){return this._createResult(this._next())})),_createResult:u((function(e){return void 0===e?{done:!0,value:void 0}:{done:!1,value:this._resolve(e)}})),_resolve:u((function(e){return this.__list__[e]})),_unBind:u((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:u((function(){return"[object "+(this[d.toStringTag]||"Object")+"]"}))},l({_onAdd:u((function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(t,r){t>=e&&(this.__redo__[r]=++t)}),this),this.__redo__.push(e)):c(this,"__redo__",u("c",[e])))})),_onDelete:u((function(e){var t;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(t=this.__redo__.indexOf(e))&&this.__redo__.splice(t,1),this.__redo__.forEach((function(t,r){t>e&&(this.__redo__[r]=--t)}),this)))})),_onClear:u((function(){this.__redo__&&o.call(this.__redo__),this.__nextIndex__=0}))}))),c(n.prototype,d.iterator,u((function(){return this})))},"./node_modules/es6-iterator/is-iterable.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/function/is-arguments.js"),o=r("./node_modules/es5-ext/object/is-value.js"),s=r("./node_modules/es5-ext/string/is-string.js"),i=r("./node_modules/es6-symbol/index.js").iterator,a=Array.isArray;e.exports=function(e){return!!o(e)&&(!!a(e)||(!!s(e)||(!!n(e)||"function"==typeof e[i])))}},"./node_modules/es6-iterator/string.js":function(e,t,r){"use strict";var n,o=r("./node_modules/es5-ext/object/set-prototype-of/index.js"),s=r("./node_modules/d/index.js"),i=r("./node_modules/es6-symbol/index.js"),a=r("./node_modules/es6-iterator/index.js"),u=Object.defineProperty;n=e.exports=function(e){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");e=String(e),a.call(this,e),u(this,"__length__",s("",e.length))},o&&o(n,a),delete n.prototype.constructor,n.prototype=Object.create(a.prototype,{_next:s((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:s((function(e){var t,r=this.__list__[e];return this.__nextIndex__===this.__length__?r:(t=r.charCodeAt(0))>=55296&&t<=56319?r+this.__list__[this.__nextIndex__++]:r}))}),u(n.prototype,i.toStringTag,s("c","String Iterator"))},"./node_modules/es6-iterator/valid-iterable.js":function(e,t,r){"use strict";var n=r("./node_modules/es6-iterator/is-iterable.js");e.exports=function(e){if(!n(e))throw new TypeError(e+" is not iterable");return e}},"./node_modules/es6-map/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es6-map/is-implemented.js")()?Map:r("./node_modules/es6-map/polyfill.js")},"./node_modules/es6-map/is-implemented.js":function(e,t,r){"use strict";e.exports=function(){var e,t;if("function"!=typeof Map)return!1;try{e=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(e)&&(3===e.size&&("function"==typeof e.clear&&("function"==typeof e.delete&&("function"==typeof e.entries&&("function"==typeof e.forEach&&("function"==typeof e.get&&("function"==typeof e.has&&("function"==typeof e.keys&&("function"==typeof e.set&&("function"==typeof e.values&&(!1===(t=e.entries().next()).done&&(!!t.value&&("raz"===t.value[0]&&"one"===t.value[1])))))))))))))}},"./node_modules/es6-map/is-native-implemented.js":function(e,t,r){"use strict";e.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},"./node_modules/es6-map/lib/iterator-kinds.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es5-ext/object/primitive-set.js")("key","value","key+value")},"./node_modules/es6-map/lib/iterator.js":function(e,t,r){"use strict";var n,o=r("./node_modules/es5-ext/object/set-prototype-of/index.js"),s=r("./node_modules/d/index.js"),i=r("./node_modules/es6-iterator/index.js"),a=r("./node_modules/es6-symbol/index.js").toStringTag,u=r("./node_modules/es6-map/lib/iterator-kinds.js"),l=Object.defineProperties,d=i.prototype._unBind;n=e.exports=function(e,t){if(!(this instanceof n))return new n(e,t);i.call(this,e.__mapKeysData__,e),t&&u[t]||(t="key+value"),l(this,{__kind__:s("",t),__values__:s("w",e.__mapValuesData__)})},o&&o(n,i),n.prototype=Object.create(i.prototype,{constructor:s(n),_resolve:s((function(e){return"value"===this.__kind__?this.__values__[e]:"key"===this.__kind__?this.__list__[e]:[this.__list__[e],this.__values__[e]]})),_unBind:s((function(){this.__values__=null,d.call(this)})),toString:s((function(){return"[object Map Iterator]"}))}),Object.defineProperty(n.prototype,a,s("c","Map Iterator"))},"./node_modules/es6-map/polyfill.js":function(e,t,r){"use strict";var n,o=r("./node_modules/es5-ext/array/#/clear.js"),s=r("./node_modules/es5-ext/array/#/e-index-of.js"),i=r("./node_modules/es5-ext/object/set-prototype-of/index.js"),a=r("./node_modules/es5-ext/object/valid-callable.js"),u=r("./node_modules/es5-ext/object/valid-value.js"),l=r("./node_modules/d/index.js"),d=r("./node_modules/event-emitter/index.js"),c=r("./node_modules/es6-symbol/index.js"),f=r("./node_modules/es6-iterator/valid-iterable.js"),h=r("./node_modules/es6-iterator/for-of.js"),p=r("./node_modules/es6-map/lib/iterator.js"),m=r("./node_modules/es6-map/is-native-implemented.js"),g=Function.prototype.call,y=Object.defineProperties,_=Object.getPrototypeOf;e.exports=n=function(){var e,t,r,o=arguments[0];if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");return r=m&&i&&Map!==n?i(new Map,_(this)):this,null!=o&&f(o),y(r,{__mapKeysData__:l("c",e=[]),__mapValuesData__:l("c",t=[])}),o?(h(o,(function(r){var n=u(r)[0];r=r[1],-1===s.call(e,n)&&(e.push(n),t.push(r))}),r),r):r},m&&(i&&i(n,Map),n.prototype=Object.create(Map.prototype,{constructor:l(n)})),d(y(n.prototype,{clear:l((function(){this.__mapKeysData__.length&&(o.call(this.__mapKeysData__),o.call(this.__mapValuesData__),this.emit("_clear"))})),delete:l((function(e){var t=s.call(this.__mapKeysData__,e);return-1!==t&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)})),entries:l((function(){return new p(this,"key+value")})),forEach:l((function(e){var t,r,n=arguments[1];for(a(e),r=(t=this.entries())._next();void 0!==r;)g.call(e,n,this.__mapValuesData__[r],this.__mapKeysData__[r],this),r=t._next()})),get:l((function(e){var t=s.call(this.__mapKeysData__,e);if(-1!==t)return this.__mapValuesData__[t]})),has:l((function(e){return-1!==s.call(this.__mapKeysData__,e)})),keys:l((function(){return new p(this,"key")})),set:l((function(e,t){var r,n=s.call(this.__mapKeysData__,e);return-1===n&&(n=this.__mapKeysData__.push(e)-1,r=!0),this.__mapValuesData__[n]=t,r&&this.emit("_add",n,e),this})),size:l.gs((function(){return this.__mapKeysData__.length})),values:l((function(){return new p(this,"value")})),toString:l((function(){return"[object Map]"}))})),Object.defineProperty(n.prototype,c.iterator,l((function(){return this.entries()}))),Object.defineProperty(n.prototype,c.toStringTag,l("c","Map"))},"./node_modules/es6-symbol/index.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es6-symbol/is-implemented.js")()?r("./node_modules/es5-ext/global.js").Symbol:r("./node_modules/es6-symbol/polyfill.js")},"./node_modules/es6-symbol/is-implemented.js":function(e,t,r){"use strict";var n=r("./node_modules/es5-ext/global.js"),o={object:!0,symbol:!0};e.exports=function(){var e,t=n.Symbol;if("function"!=typeof t)return!1;e=t("test symbol");try{String(e)}catch(e){return!1}return!!o[typeof t.iterator]&&(!!o[typeof t.toPrimitive]&&!!o[typeof t.toStringTag])}},"./node_modules/es6-symbol/is-symbol.js":function(e,t,r){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},"./node_modules/es6-symbol/lib/private/generate-name.js":function(e,t,r){"use strict";var n=r("./node_modules/d/index.js"),o=Object.create,s=Object.defineProperty,i=Object.prototype,a=o(null);e.exports=function(e){for(var t,r,o=0;a[e+(o||"")];)++o;return a[e+=o||""]=!0,s(i,t="@@"+e,n.gs(null,(function(e){r||(r=!0,s(this,t,n(e)),r=!1)}))),t}},"./node_modules/es6-symbol/lib/private/setup/standard-symbols.js":function(e,t,r){"use strict";var n=r("./node_modules/d/index.js"),o=r("./node_modules/es5-ext/global.js").Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:n("",o&&o.hasInstance||e("hasInstance")),isConcatSpreadable:n("",o&&o.isConcatSpreadable||e("isConcatSpreadable")),iterator:n("",o&&o.iterator||e("iterator")),match:n("",o&&o.match||e("match")),replace:n("",o&&o.replace||e("replace")),search:n("",o&&o.search||e("search")),species:n("",o&&o.species||e("species")),split:n("",o&&o.split||e("split")),toPrimitive:n("",o&&o.toPrimitive||e("toPrimitive")),toStringTag:n("",o&&o.toStringTag||e("toStringTag")),unscopables:n("",o&&o.unscopables||e("unscopables"))})}},"./node_modules/es6-symbol/lib/private/setup/symbol-registry.js":function(e,t,r){"use strict";var n=r("./node_modules/d/index.js"),o=r("./node_modules/es6-symbol/validate-symbol.js"),s=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:n((function(t){return s[t]?s[t]:s[t]=e(String(t))})),keyFor:n((function(e){var t;for(t in o(e),s)if(s[t]===e)return t}))})}},"./node_modules/es6-symbol/polyfill.js":function(e,t,r){"use strict";var n,o,s,i=r("./node_modules/d/index.js"),a=r("./node_modules/es6-symbol/validate-symbol.js"),u=r("./node_modules/es5-ext/global.js").Symbol,l=r("./node_modules/es6-symbol/lib/private/generate-name.js"),d=r("./node_modules/es6-symbol/lib/private/setup/standard-symbols.js"),c=r("./node_modules/es6-symbol/lib/private/setup/symbol-registry.js"),f=Object.create,h=Object.defineProperties,p=Object.defineProperty;if("function"==typeof u)try{String(u()),s=!0}catch(e){}else u=null;o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return n(e)},e.exports=n=function e(t){var r;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return s?u(t):(r=f(o.prototype),t=void 0===t?"":String(t),h(r,{__description__:i("",t),__name__:i("",l(t))}))},d(n),c(n),h(o.prototype,{constructor:i(n),toString:i("",(function(){return this.__name__}))}),h(n.prototype,{toString:i((function(){return"Symbol ("+a(this).__description__+")"})),valueOf:i((function(){return a(this)}))}),p(n.prototype,n.toPrimitive,i("",(function(){var e=a(this);return"symbol"==typeof e?e:e.toString()}))),p(n.prototype,n.toStringTag,i("c","Symbol")),p(o.prototype,n.toStringTag,i("c",n.prototype[n.toStringTag])),p(o.prototype,n.toPrimitive,i("c",n.prototype[n.toPrimitive]))},"./node_modules/es6-symbol/validate-symbol.js":function(e,t,r){"use strict";var n=r("./node_modules/es6-symbol/is-symbol.js");e.exports=function(e){if(!n(e))throw new TypeError(e+" is not a symbol");return e}},"./node_modules/event-emitter/index.js":function(e,t,r){"use strict";var n,o,s,i,a,u,l,d=r("./node_modules/d/index.js"),c=r("./node_modules/es5-ext/object/valid-callable.js"),f=Function.prototype.apply,h=Function.prototype.call,p=Object.create,m=Object.defineProperty,g=Object.defineProperties,y=Object.prototype.hasOwnProperty,_={configurable:!0,enumerable:!1,writable:!0};o=function(e,t){var r,o;return c(t),o=this,n.call(this,e,r=function(){s.call(o,e,r),f.call(t,this,arguments)}),r.__eeOnceListener__=t,this},a={on:n=function(e,t){var r;return c(t),y.call(this,"__ee__")?r=this.__ee__:(r=_.value=p(null),m(this,"__ee__",_),_.value=null),r[e]?"object"==typeof r[e]?r[e].push(t):r[e]=[r[e],t]:r[e]=t,this},once:o,off:s=function(e,t){var r,n,o,s;if(c(t),!y.call(this,"__ee__"))return this;if(!(r=this.__ee__)[e])return this;if("object"==typeof(n=r[e]))for(s=0;o=n[s];++s)o!==t&&o.__eeOnceListener__!==t||(2===n.length?r[e]=n[s?0:1]:n.splice(s,1));else n!==t&&n.__eeOnceListener__!==t||delete r[e];return this},emit:i=function(e){var t,r,n,o,s;if(y.call(this,"__ee__")&&(o=this.__ee__[e]))if("object"==typeof o){for(r=arguments.length,s=new Array(r-1),t=1;t<r;++t)s[t-1]=arguments[t];for(o=o.slice(),t=0;n=o[t];++t)f.call(n,this,s)}else switch(arguments.length){case 1:h.call(o,this);break;case 2:h.call(o,this,arguments[1]);break;case 3:h.call(o,this,arguments[1],arguments[2]);break;default:for(r=arguments.length,s=new Array(r-1),t=1;t<r;++t)s[t-1]=arguments[t];f.call(o,this,s)}}},u={on:d(n),once:d(o),off:d(s),emit:d(i)},l=g({},u),e.exports=t=function(e){return null==e?p(l):g(Object(e),u)},t.methods=a},"./node_modules/ieee754/index.js":function(e,t){t.read=function(e,t,r,n,o){var s,i,a=8*o-n-1,u=(1<<a)-1,l=u>>1,d=-7,c=r?o-1:0,f=r?-1:1,h=e[t+c];for(c+=f,s=h&(1<<-d)-1,h>>=-d,d+=a;d>0;s=256*s+e[t+c],c+=f,d-=8);for(i=s&(1<<-d)-1,s>>=-d,d+=n;d>0;i=256*i+e[t+c],c+=f,d-=8);if(0===s)s=1-l;else{if(s===u)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,n),s-=l}return(h?-1:1)*i*Math.pow(2,s-n)},t.write=function(e,t,r,n,o,s){var i,a,u,l=8*s-o-1,d=(1<<l)-1,c=d>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:s-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=d):(i=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-i))<1&&(i--,u*=2),(t+=i+c>=1?f/u:f*Math.pow(2,1-c))*u>=2&&(i++,u/=2),i+c>=d?(a=0,i=d):i+c>=1?(a=(t*u-1)*Math.pow(2,o),i+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,o),i=0));o>=8;e[r+h]=255&a,h+=p,a/=256,o-=8);for(i=i<<o|a,l+=o;l>0;e[r+h]=255&i,h+=p,i/=256,l-=8);e[r+h-p]|=128*m}},"./node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},"./node_modules/isarray/index.js":function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},"./node_modules/long/src/long.js":function(e,t){e.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function o(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=o;var s={},i={};function a(e,t){var r,n,o;return t?(o=0<=(e>>>=0)&&e<256)&&(n=i[e])?n:(r=l(e,(0|e)<0?-1:0,!0),o&&(i[e]=r),r):(o=-128<=(e|=0)&&e<128)&&(n=s[e])?n:(r=l(e,e<0?-1:0,!1),o&&(s[e]=r),r)}function u(e,t){if(isNaN(e))return t?_:y;if(t){if(e<0)return _;if(e>=p)return k}else{if(e<=-m)return x;if(e+1>=m)return w}return e<0?u(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=u,n.fromBits=l;var d=Math.pow;function c(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return y;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return c(e.substring(1),t,r).neg();for(var o=u(d(r,8)),s=y,i=0;i<e.length;i+=8){var a=Math.min(8,e.length-i),l=parseInt(e.substring(i,i+a),r);if(a<8){var f=u(d(r,a));s=s.mul(f).add(u(l))}else s=(s=s.mul(o)).add(u(l))}return s.unsigned=t,s}function f(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?c(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=f;var h=4294967296,p=h*h,m=p/2,g=a(1<<24),y=a(0);n.ZERO=y;var _=a(0,!0);n.UZERO=_;var b=a(1);n.ONE=b;var v=a(1,!0);n.UONE=v;var j=a(-1);n.NEG_ONE=j;var w=l(-1,2147483647,!1);n.MAX_VALUE=w;var k=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var x=l(0,-2147483648,!1);n.MIN_VALUE=x;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(x)){var t=u(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=u(d(e,6),this.unsigned),s=this,i="";;){var a=s.div(o),l=(s.sub(a.mul(o)).toInt()>>>0).toString(e);if((s=a).isZero())return l+i;for(;l.length<6;)l="0"+l;i=""+l+i}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(x)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1==(1&this.low)},S.isEven=function(){return 0==(1&this.low)},S.equals=function(e){return o(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(o(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(x)?x:this.not().add(b)},S.neg=S.negate,S.add=function(e){o(e)||(e=f(e));var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,s=65535&this.low,i=e.high>>>16,a=65535&e.high,u=e.low>>>16,d=0,c=0,h=0,p=0;return h+=(p+=s+(65535&e.low))>>>16,c+=(h+=n+u)>>>16,d+=(c+=r+a)>>>16,d+=t+i,l((h&=65535)<<16|(p&=65535),(d&=65535)<<16|(c&=65535),this.unsigned)},S.subtract=function(e){return o(e)||(e=f(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return y;if(o(e)||(e=f(e)),r)return l(r.mul(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned);if(e.isZero())return y;if(this.eq(x))return e.isOdd()?x:y;if(e.eq(x))return this.isOdd()?x:y;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,n=65535&this.high,s=this.low>>>16,i=65535&this.low,a=e.high>>>16,d=65535&e.high,c=e.low>>>16,h=65535&e.low,p=0,m=0,_=0,b=0;return _+=(b+=i*h)>>>16,m+=(_+=s*h)>>>16,_&=65535,m+=(_+=i*c)>>>16,p+=(m+=n*h)>>>16,m&=65535,p+=(m+=s*c)>>>16,m&=65535,p+=(m+=i*d)>>>16,p+=t*h+n*c+s*d+i*a,l((_&=65535)<<16|(b&=65535),(p&=65535)<<16|(m&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(o(e)||(e=f(e)),e.isZero())throw Error("division by zero");var t,n,s;if(r)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?r.div_u:r.div_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_:y;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return _;if(e.gt(this.shru(1)))return v;s=_}else{if(this.eq(x))return e.eq(b)||e.eq(j)?x:e.eq(x)?b:(t=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?b:j:(n=this.sub(e.mul(t)),s=t.add(n.div(e)));if(e.eq(x))return this.unsigned?_:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=y}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),a=i<=48?1:d(2,i-48),c=u(t),h=c.mul(e);h.isNegative()||h.gt(n);)h=(c=u(t-=a,this.unsigned)).mul(e);c.isZero()&&(c=b),s=s.add(c),n=n.sub(h)}return s},S.div=S.divide,S.modulo=function(e){return o(e)||(e=f(e)),r?l((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return l(~this.low,~this.high,this.unsigned)},S.and=function(e){return o(e)||(e=f(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return o(e)||(e=f(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return o(e)||(e=f(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return o(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(o(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},"./node_modules/node-libs-browser/node_modules/buffer/index.js":function(e,t,r){"use strict";(function(e){var n=r("./node_modules/base64-js/index.js"),o=r("./node_modules/ieee754/index.js"),s=r("./node_modules/isarray/index.js");function i(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(i()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return l(this,e,t,r)}function l(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,r,n):"string"==typeof t?function(e,t,r){"string"==typeof r&&""!==r||(r="utf8");if(!u.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),o=(e=a(e,n)).write(t,r);o!==n&&(e=e.slice(0,o));return e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r=0|h(t.length);return 0===(e=a(e,r)).length?e:(t.copy(e,0,0,r),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?a(e,0):f(e,t);if("Buffer"===t.type&&s(t.data))return f(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t){if(d(t),e=a(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function f(e,t){var r=t.length<0?0:0|h(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function h(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return D(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(e).length;default:if(n)return D(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:_(e,t,r,n,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):_(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,o){var s,i=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,a/=2,u/=2,r/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o){var d=-1;for(s=r;s<a;s++)if(l(e,s)===l(t,-1===d?0:s-d)){if(-1===d&&(d=s),s-d+1===u)return d*i}else-1!==d&&(s-=s-d),d=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){for(var c=!0,f=0;f<u;f++)if(l(e,s+f)!==l(t,f)){c=!1;break}if(c)return s}return-1}function b(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var s=t.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var i=0;i<n;++i){var a=parseInt(t.substr(2*i,2),16);if(isNaN(a))return i;e[r+i]=a}return i}function v(e,t,r,n){return G(D(t,e.length-r),e,r,n)}function j(e,t,r,n){return G(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return j(e,t,r,n)}function k(e,t,r,n){return G(z(t),e,r,n)}function x(e,t,r,n){return G(function(e,t){for(var r,n,o,s=[],i=0;i<e.length&&!((t-=2)<0);++i)r=e.charCodeAt(i),n=r>>8,o=r%256,s.push(o),s.push(n);return s}(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var s,i,a,u,l=e[o],d=null,c=l>239?4:l>223?3:l>191?2:1;if(o+c<=r)switch(c){case 1:l<128&&(d=l);break;case 2:128==(192&(s=e[o+1]))&&(u=(31&l)<<6|63&s)>127&&(d=u);break;case 3:s=e[o+1],i=e[o+2],128==(192&s)&&128==(192&i)&&(u=(15&l)<<12|(63&s)<<6|63&i)>2047&&(u<55296||u>57343)&&(d=u);break;case 4:s=e[o+1],i=e[o+2],a=e[o+3],128==(192&s)&&128==(192&i)&&128==(192&a)&&(u=(15&l)<<18|(63&s)<<12|(63&i)<<6|63&a)>65535&&u<1114112&&(d=u)}null===d?(d=65533,c=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),o+=c}return function(e){var t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=I));return r}(n)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=i(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return l(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return function(e,t,r,n){return d(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}(null,e,t,r)},u.allocUnsafe=function(e){return c(null,e)},u.allocUnsafeSlow=function(e){return c(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,o=0,s=Math.min(r,n);o<s;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=u.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(o>>>=0)-(n>>>=0),i=(r>>>=0)-(t>>>=0),a=Math.min(s,i),l=this.slice(n,o),d=e.slice(t,r),c=0;c<a;++c)if(l[c]!==d[c]){s=l[c],i=d[c];break}return s<i?-1:i<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return v(this,e,t,r);case"ascii":return j(this,e,t,r);case"latin1":case"binary":return w(this,e,t,r);case"base64":return k(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function C(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function M(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function R(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",s=t;s<r;++s)o+=F(e[s]);return o}function O(e,t,r){for(var n=e.slice(t,r),o="",s=0;s<n.length;s+=2)o+=String.fromCharCode(n[s]+256*n[s+1]);return o}function T(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,r,n,o,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,s=Math.min(e.length-r,2);o<s;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function q(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,s=Math.min(e.length-r,4);o<s;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function U(e,t,r,n,o,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,s){return s||U(e,0,r,4),o.write(e,t,r,n,23,4),r+4}function B(e,t,r,n,s){return s||U(e,0,r,8),o.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;r=new u(o,void 0);for(var s=0;s<o;++s)r[s]=this[s+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e],o=1,s=0;++s<t&&(o*=256);)n+=this[e+s]*o;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},u.prototype.readUInt8=function(e,t){return t||T(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||T(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||T(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||T(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||T(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=this[e],o=1,s=0;++s<t&&(o*=256);)n+=this[e+s]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||T(e,t,this.length);for(var n=t,o=1,s=this[e+--n];n>0&&(o*=256);)s+=this[e+--n]*o;return s>=(o*=128)&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return t||T(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||T(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){t||T(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return t||T(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||T(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||T(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||T(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||T(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||T(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||A(this,e,t,r,Math.pow(2,8*r)-1,0);var o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t|=0,r|=0,n)||A(this,e,t,r,Math.pow(2,8*r)-1,0);var o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):q(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):q(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);A(this,e,t,r,o-1,-o)}var s=0,i=1,a=0;for(this[t]=255&e;++s<r&&(i*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/i>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);A(this,e,t,r,o-1,-o)}var s=r-1,i=1,a=0;for(this[t+s]=255&e;--s>=0&&(i*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/i>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):q(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):q(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return B(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return B(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,s=n-r;if(this===e&&r<t&&t<n)for(o=s-1;o>=0;--o)e[o+t]=this[o+r];else if(s<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+s),t);return s},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var i=u.isBuffer(e)?e:D(new u(e,n).toString()),a=i.length;for(s=0;s<r-t;++s)this[s+t]=i[s%a]}return this};var L=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function D(e,t){var r;t=t||1/0;for(var n=e.length,o=null,s=[],i=0;i<n;++i){if((r=e.charCodeAt(i))>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(i+1===n){(t-=3)>-1&&s.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&s.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function z(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(L,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/node-libs-browser/node_modules/events/events.js":function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,s=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var o,s,i,a;if("function"!=typeof r)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r);if(void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),i=s[t]),void 0===i)i=s[t]=r,++e._eventsCount;else if("function"==typeof i?i=s[t]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),(o=l(e))>0&&i.length>o&&!i.warned){i.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=i.length,a=u,console&&console.warn&&console.warn(a)}return e}function c(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,s(this.listener,this.target,e))}function f(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=c.bind(n);return o.listener=r,n.wrapFn=o,o}function h(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):m(o,o.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)s(u,this,t);else{var l=u.length,d=m(u,l);for(r=0;r<l;++r)s(d[r],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,o,s,i;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===t||r[s].listener===t){i=r[s].listener,o=s;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,i||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(o=s[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},"./node_modules/node-libs-browser/node_modules/timers-browserify/main.js":function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function s(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new s(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new s(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r("./node_modules/setimmediate/setImmediate.js"),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/node-libs-browser/node_modules/util/node_modules/inherits/inherits_browser.js":function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},"./node_modules/node-libs-browser/node_modules/util/support/isBufferBrowser.js":function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},"./node_modules/node-libs-browser/node_modules/util/util.js":function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,s=n.length,i=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),u=n[r];r<s;u=n[++r])m(u)||!v(u)?i+=" "+u:i+=" "+a(u);return i},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var s,i={};function a(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),p(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),d(n,e,n.depth)}function u(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function l(e,t){return e}function d(e,r,n){if(e.customInspect&&r&&k(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return y(o)||(o=d(e,o,n)),o}var s=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,r);if(s)return s;var i=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(r)),w(r)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return c(r);if(0===i.length){if(k(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(j(r))return e.stylize(Date.prototype.toString.call(r),"date");if(w(r))return c(r)}var l,v="",x=!1,S=["{","}"];(h(r)&&(x=!0,S=["[","]"]),k(r))&&(v=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(v=" "+RegExp.prototype.toString.call(r)),j(r)&&(v=" "+Date.prototype.toUTCString.call(r)),w(r)&&(v=" "+c(r)),0!==i.length||x&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=x?function(e,t,r,n,o){for(var s=[],i=0,a=t.length;i<a;++i)C(t,String(i))?s.push(f(e,t,r,n,String(i),!0)):s.push("");return o.forEach((function(o){o.match(/^\d+$/)||s.push(f(e,t,r,n,o,!0))})),s}(e,r,n,a,i):i.map((function(t){return f(e,r,n,a,t,x)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(l,v,S)):S[0]+v+S[1]}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,r,n,o,s){var i,a,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),C(n,o)||(i="["+o+"]"),a||(e.seen.indexOf(u.value)<0?(a=m(r)?d(e,u.value,null):d(e,u.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),_(i)){if(s&&o.match(/^\d+$/))return a;(i=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+a}function h(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function y(e){return"string"==typeof e}function _(e){return void 0===e}function b(e){return v(e)&&"[object RegExp]"===x(e)}function v(e){return"object"==typeof e&&null!==e}function j(e){return v(e)&&"[object Date]"===x(e)}function w(e){return v(e)&&("[object Error]"===x(e)||e instanceof Error)}function k(e){return"function"==typeof e}function x(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(_(s)&&(s=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!i[r])if(new RegExp("\\b"+r+"\\b","i").test(s)){var n=e.pid;i[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else i[r]=function(){};return i[r]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=b,t.isObject=v,t.isDate=j,t.isError=w,t.isFunction=k,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r("./node_modules/node-libs-browser/node_modules/util/support/isBufferBrowser.js");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function I(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),E[e.getMonth()],t].join(" ")}function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",I(),t.format.apply(t,arguments))},t.inherits=r("./node_modules/node-libs-browser/node_modules/util/node_modules/inherits/inherits_browser.js"),t._extend=function(e,t){if(!t||!v(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var M="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(M&&e[M]){var t;if("function"!=typeof(t=e[M]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,M,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],s=0;s<arguments.length;s++)o.push(arguments[s]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),M&&Object.defineProperty(t,M,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=M,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var s=this,i=function(){return o.apply(s,arguments)};t.apply(this,r).then((function(t){e.nextTick(i,null,t)}),(function(t){e.nextTick(R,t,i)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/once/once.js":function(e,t,r){var n=r("./node_modules/wrappy/wrappy.js");function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function s(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(o),e.exports.strict=n(s),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})}))},"./node_modules/pako/index.js":function(e,t,r){"use strict";var n={};(0,r("./node_modules/pako/lib/utils/common.js").assign)(n,r("./node_modules/pako/lib/deflate.js"),r("./node_modules/pako/lib/inflate.js"),r("./node_modules/pako/lib/zlib/constants.js")),e.exports=n},"./node_modules/pako/lib/deflate.js":function(e,t,r){"use strict";var n=r("./node_modules/pako/lib/zlib/deflate.js"),o=r("./node_modules/pako/lib/utils/common.js"),s=r("./node_modules/pako/lib/utils/strings.js"),i=r("./node_modules/pako/lib/zlib/messages.js"),a=r("./node_modules/pako/lib/zlib/zstream.js"),u=Object.prototype.toString,l=0,d=-1,c=0,f=8;function h(e){if(!(this instanceof h))return new h(e);this.options=o.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==l)throw new Error(i[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==l)throw new Error(i[r]);this._dict_set=!0}}function p(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||i[r.err];return r.result}h.prototype.push=function(e,t){var r,i,a=this.strm,d=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=s.string2buf(e):"[object ArrayBuffer]"===u.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new o.Buf8(d),a.next_out=0,a.avail_out=d),1!==(r=n.deflate(a,i))&&r!==l)return this.onEnd(r),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(s.buf2binstring(o.shrinkBuf(a.output,a.next_out))):this.onData(o.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==r);return 4===i?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===l):2!==i||(this.onEnd(l),a.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=h,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},"./node_modules/pako/lib/inflate.js":function(e,t,r){"use strict";var n=r("./node_modules/pako/lib/zlib/inflate.js"),o=r("./node_modules/pako/lib/utils/common.js"),s=r("./node_modules/pako/lib/utils/strings.js"),i=r("./node_modules/pako/lib/zlib/constants.js"),a=r("./node_modules/pako/lib/zlib/messages.js"),u=r("./node_modules/pako/lib/zlib/zstream.js"),l=r("./node_modules/pako/lib/zlib/gzheader.js"),d=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==i.Z_OK)throw new Error(a[r]);if(this.header=new l,n.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===d.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n.inflateSetDictionary(this.strm,t.dictionary))!==i.Z_OK))throw new Error(a[r])}function f(e,t){var r=new c(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}c.prototype.push=function(e,t){var r,a,u,l,c,f=this.strm,h=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?i.Z_FINISH:i.Z_NO_FLUSH,"string"==typeof e?f.input=s.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new o.Buf8(h),f.next_out=0,f.avail_out=h),(r=n.inflate(f,i.Z_NO_FLUSH))===i.Z_NEED_DICT&&p&&(r=n.inflateSetDictionary(this.strm,p)),r===i.Z_BUF_ERROR&&!0===m&&(r=i.Z_OK,m=!1),r!==i.Z_STREAM_END&&r!==i.Z_OK)return this.onEnd(r),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&r!==i.Z_STREAM_END&&(0!==f.avail_in||a!==i.Z_FINISH&&a!==i.Z_SYNC_FLUSH)||("string"===this.options.to?(u=s.utf8border(f.output,f.next_out),l=f.next_out-u,c=s.buf2string(f.output,u),f.next_out=l,f.avail_out=h-l,l&&o.arraySet(f.output,f.output,u,l,0),this.onData(c)):this.onData(o.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((f.avail_in>0||0===f.avail_out)&&r!==i.Z_STREAM_END);return r===i.Z_STREAM_END&&(a=i.Z_FINISH),a===i.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===i.Z_OK):a!==i.Z_SYNC_FLUSH||(this.onEnd(i.Z_OK),f.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===i.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=c,t.inflate=f,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},t.ungzip=f},"./node_modules/pako/lib/utils/common.js":function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)o(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,r,n,o){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),o);else for(var s=0;s<n;s++)e[o+s]=t[r+s]},flattenChunks:function(e){var t,r,n,o,s,i;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;for(i=new Uint8Array(n),o=0,t=0,r=e.length;t<r;t++)s=e[t],i.set(s,o),o+=s.length;return i}},i={arraySet:function(e,t,r,n,o){for(var s=0;s<n;s++)e[o+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,s)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(n)},"./node_modules/pako/lib/utils/strings.js":function(e,t,r){"use strict";var n=r("./node_modules/pako/lib/utils/common.js"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var i=new n.Buf8(256),a=0;a<256;a++)i[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function u(e,t){if(t<65534&&(e.subarray&&s||!e.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",i=0;i<t;i++)r+=String.fromCharCode(e[i]);return r}i[254]=i[254]=1,t.string2buf=function(e){var t,r,o,s,i,a=e.length,u=0;for(s=0;s<a;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(o=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(o-56320),s++),u+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(u),i=0,s=0;i<u;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(o=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(o-56320),s++),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|63&r):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|63&r):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|63&r);return t},t.buf2binstring=function(e){return u(e,e.length)},t.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,o=t.length;r<o;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,n,o,s,a=t||e.length,l=new Array(2*a);for(n=0,r=0;r<a;)if((o=e[r++])<128)l[n++]=o;else if((s=i[o])>4)l[n++]=65533,r+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&r<a;)o=o<<6|63&e[r++],s--;s>1?l[n++]=65533:o<65536?l[n++]=o:(o-=65536,l[n++]=55296|o>>10&1023,l[n++]=56320|1023&o)}return u(l,n)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+i[e[r]]>t?r:t}},"./node_modules/pako/lib/zlib/adler32.js":function(e,t,r){"use strict";e.exports=function(e,t,r,n){for(var o=65535&e|0,s=e>>>16&65535|0,i=0;0!==r;){r-=i=r>2e3?2e3:r;do{s=s+(o=o+t[n++]|0)|0}while(--i);o%=65521,s%=65521}return o|s<<16|0}},"./node_modules/pako/lib/zlib/constants.js":function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/pako/lib/zlib/crc32.js":function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,o){var s=n,i=o+r;e^=-1;for(var a=o;a<i;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}},"./node_modules/pako/lib/zlib/deflate.js":function(e,t,r){"use strict";var n,o=r("./node_modules/pako/lib/utils/common.js"),s=r("./node_modules/pako/lib/zlib/trees.js"),i=r("./node_modules/pako/lib/zlib/adler32.js"),a=r("./node_modules/pako/lib/zlib/crc32.js"),u=r("./node_modules/pako/lib/zlib/messages.js"),l=0,d=1,c=3,f=4,h=5,p=0,m=1,g=-2,y=-3,_=-5,b=-1,v=1,j=2,w=3,k=4,x=0,S=2,E=8,I=9,C=15,M=8,R=286,O=30,T=19,A=2*R+1,P=15,q=3,U=258,N=U+q+1,B=32,L=42,F=69,D=73,z=91,G=103,H=113,V=666,K=1,W=2,Z=3,J=4,Y=3;function $(e,t){return e.msg=u[t],t}function Q(e){return(e<<1)-(e>4?9:0)}function X(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(o.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function te(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function re(e,t){e.pending_buf[e.pending++]=t}function ne(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function oe(e,t){var r,n,o=e.max_chain_length,s=e.strstart,i=e.prev_length,a=e.nice_match,u=e.strstart>e.w_size-N?e.strstart-(e.w_size-N):0,l=e.window,d=e.w_mask,c=e.prev,f=e.strstart+U,h=l[s+i-1],p=l[s+i];e.prev_length>=e.good_match&&(o>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(r=t)+i]===p&&l[r+i-1]===h&&l[r]===l[s]&&l[++r]===l[s+1]){s+=2,r++;do{}while(l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&s<f);if(n=U-(f-s),s=f-U,n>i){if(e.match_start=t,i=n,n>=a)break;h=l[s+i-1],p=l[s+i]}}}while((t=c[t&d])>u&&0!=--o);return i<=e.lookahead?i:e.lookahead}function se(e){var t,r,n,s,u,l,d,c,f,h,p=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-N)){o.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;do{n=e.head[--t],e.head[t]=n>=p?n-p:0}while(--r);t=r=p;do{n=e.prev[--t],e.prev[t]=n>=p?n-p:0}while(--r);s+=p}if(0===e.strm.avail_in)break;if(l=e.strm,d=e.window,c=e.strstart+e.lookahead,f=s,h=void 0,(h=l.avail_in)>f&&(h=f),r=0===h?0:(l.avail_in-=h,o.arraySet(d,l.input,l.next_in,h,c),1===l.state.wrap?l.adler=i(l.adler,d,h,c):2===l.state.wrap&&(l.adler=a(l.adler,d,h,c)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=r,e.lookahead+e.insert>=q)for(u=e.strstart-e.insert,e.ins_h=e.window[u],e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[u+q-1])&e.hash_mask,e.prev[u&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=u,u++,e.insert--,!(e.lookahead+e.insert<q)););}while(e.lookahead<N&&0!==e.strm.avail_in)}function ie(e,t){for(var r,n;;){if(e.lookahead<N){if(se(e),e.lookahead<N&&t===l)return K;if(0===e.lookahead)break}if(r=0,e.lookahead>=q&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+q-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-N&&(e.match_length=oe(e,r)),e.match_length>=q)if(n=s._tr_tally(e,e.strstart-e.match_start,e.match_length-q),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=q){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+q-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(te(e,!1),0===e.strm.avail_out))return K}return e.insert=e.strstart<q-1?e.strstart:q-1,t===f?(te(e,!0),0===e.strm.avail_out?Z:J):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?K:W}function ae(e,t){for(var r,n,o;;){if(e.lookahead<N){if(se(e),e.lookahead<N&&t===l)return K;if(0===e.lookahead)break}if(r=0,e.lookahead>=q&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+q-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=q-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-N&&(e.match_length=oe(e,r),e.match_length<=5&&(e.strategy===v||e.match_length===q&&e.strstart-e.match_start>4096)&&(e.match_length=q-1)),e.prev_length>=q&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-q,n=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-q),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+q-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=q-1,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return K}else if(e.match_available){if((n=s._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return K}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<q-1?e.strstart:q-1,t===f?(te(e,!0),0===e.strm.avail_out?Z:J):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?K:W}function ue(e,t,r,n,o){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=o}function le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*A),this.dyn_dtree=new o.Buf16(2*(2*O+1)),this.bl_tree=new o.Buf16(2*(2*T+1)),X(this.dyn_ltree),X(this.dyn_dtree),X(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(P+1),this.heap=new o.Buf16(2*R+1),X(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*R+1),X(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function de(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=S,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?L:H,e.adler=2===t.wrap?0:1,t.last_flush=l,s._tr_init(t),p):$(e,g)}function ce(e){var t,r=de(e);return r===p&&((t=e.state).window_size=2*t.w_size,X(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=q-1,t.match_available=0,t.ins_h=0),r}function fe(e,t,r,n,s,i){if(!e)return g;var a=1;if(t===b&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),s<1||s>I||r!==E||n<8||n>15||t<0||t>9||i<0||i>k)return $(e,g);8===n&&(n=9);var u=new le;return e.state=u,u.strm=e,u.wrap=a,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=s+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+q-1)/q),u.window=new o.Buf8(2*u.w_size),u.head=new o.Buf16(u.hash_size),u.prev=new o.Buf16(u.w_size),u.lit_bufsize=1<<s+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new o.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=t,u.strategy=i,u.method=r,ce(e)}n=[new ue(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(se(e),0===e.lookahead&&t===l)return K;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,te(e,!1),0===e.strm.avail_out))return K;if(e.strstart-e.block_start>=e.w_size-N&&(te(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?Z:J):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),K)})),new ue(4,4,8,4,ie),new ue(4,5,16,8,ie),new ue(4,6,32,32,ie),new ue(4,4,16,16,ae),new ue(8,16,32,32,ae),new ue(8,16,128,128,ae),new ue(8,32,128,256,ae),new ue(32,128,258,1024,ae),new ue(32,258,258,4096,ae)],t.deflateInit=function(e,t){return fe(e,t,E,C,M,x)},t.deflateInit2=fe,t.deflateReset=ce,t.deflateResetKeep=de,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?g:(e.state.gzhead=t,p):g},t.deflate=function(e,t){var r,o,i,u;if(!e||!e.state||t>h||t<0)return e?$(e,g):g;if(o=e.state,!e.output||!e.input&&0!==e.avail_in||o.status===V&&t!==f)return $(e,0===e.avail_out?_:g);if(o.strm=e,r=o.last_flush,o.last_flush=t,o.status===L)if(2===o.wrap)e.adler=0,re(o,31),re(o,139),re(o,8),o.gzhead?(re(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),re(o,255&o.gzhead.time),re(o,o.gzhead.time>>8&255),re(o,o.gzhead.time>>16&255),re(o,o.gzhead.time>>24&255),re(o,9===o.level?2:o.strategy>=j||o.level<2?4:0),re(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(re(o,255&o.gzhead.extra.length),re(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=a(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=F):(re(o,0),re(o,0),re(o,0),re(o,0),re(o,0),re(o,9===o.level?2:o.strategy>=j||o.level<2?4:0),re(o,Y),o.status=H);else{var y=E+(o.w_bits-8<<4)<<8;y|=(o.strategy>=j||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(y|=B),y+=31-y%31,o.status=H,ne(o,y),0!==o.strstart&&(ne(o,e.adler>>>16),ne(o,65535&e.adler)),e.adler=1}if(o.status===F)if(o.gzhead.extra){for(i=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>i&&(e.adler=a(e.adler,o.pending_buf,o.pending-i,i)),ee(e),i=o.pending,o.pending!==o.pending_buf_size));)re(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>i&&(e.adler=a(e.adler,o.pending_buf,o.pending-i,i)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=D)}else o.status=D;if(o.status===D)if(o.gzhead.name){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(e.adler=a(e.adler,o.pending_buf,o.pending-i,i)),ee(e),i=o.pending,o.pending===o.pending_buf_size)){u=1;break}u=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,re(o,u)}while(0!==u);o.gzhead.hcrc&&o.pending>i&&(e.adler=a(e.adler,o.pending_buf,o.pending-i,i)),0===u&&(o.gzindex=0,o.status=z)}else o.status=z;if(o.status===z)if(o.gzhead.comment){i=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>i&&(e.adler=a(e.adler,o.pending_buf,o.pending-i,i)),ee(e),i=o.pending,o.pending===o.pending_buf_size)){u=1;break}u=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,re(o,u)}while(0!==u);o.gzhead.hcrc&&o.pending>i&&(e.adler=a(e.adler,o.pending_buf,o.pending-i,i)),0===u&&(o.status=G)}else o.status=G;if(o.status===G&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&ee(e),o.pending+2<=o.pending_buf_size&&(re(o,255&e.adler),re(o,e.adler>>8&255),e.adler=0,o.status=H)):o.status=H),0!==o.pending){if(ee(e),0===e.avail_out)return o.last_flush=-1,p}else if(0===e.avail_in&&Q(t)<=Q(r)&&t!==f)return $(e,_);if(o.status===V&&0!==e.avail_in)return $(e,_);if(0!==e.avail_in||0!==o.lookahead||t!==l&&o.status!==V){var b=o.strategy===j?function(e,t){for(var r;;){if(0===e.lookahead&&(se(e),0===e.lookahead)){if(t===l)return K;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?Z:J):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?K:W}(o,t):o.strategy===w?function(e,t){for(var r,n,o,i,a=e.window;;){if(e.lookahead<=U){if(se(e),e.lookahead<=U&&t===l)return K;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=q&&e.strstart>0&&(n=a[o=e.strstart-1])===a[++o]&&n===a[++o]&&n===a[++o]){i=e.strstart+U;do{}while(n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&n===a[++o]&&o<i);e.match_length=U-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=q?(r=s._tr_tally(e,1,e.match_length-q),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(te(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===f?(te(e,!0),0===e.strm.avail_out?Z:J):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?K:W}(o,t):n[o.level].func(o,t);if(b!==Z&&b!==J||(o.status=V),b===K||b===Z)return 0===e.avail_out&&(o.last_flush=-1),p;if(b===W&&(t===d?s._tr_align(o):t!==h&&(s._tr_stored_block(o,0,0,!1),t===c&&(X(o.head),0===o.lookahead&&(o.strstart=0,o.block_start=0,o.insert=0))),ee(e),0===e.avail_out))return o.last_flush=-1,p}return t!==f?p:o.wrap<=0?m:(2===o.wrap?(re(o,255&e.adler),re(o,e.adler>>8&255),re(o,e.adler>>16&255),re(o,e.adler>>24&255),re(o,255&e.total_in),re(o,e.total_in>>8&255),re(o,e.total_in>>16&255),re(o,e.total_in>>24&255)):(ne(o,e.adler>>>16),ne(o,65535&e.adler)),ee(e),o.wrap>0&&(o.wrap=-o.wrap),0!==o.pending?p:m)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==L&&t!==F&&t!==D&&t!==z&&t!==G&&t!==H&&t!==V?$(e,g):(e.state=null,t===H?$(e,y):p):g},t.deflateSetDictionary=function(e,t){var r,n,s,a,u,l,d,c,f=t.length;if(!e||!e.state)return g;if(2===(a=(r=e.state).wrap)||1===a&&r.status!==L||r.lookahead)return g;for(1===a&&(e.adler=i(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(X(r.head),r.strstart=0,r.block_start=0,r.insert=0),c=new o.Buf8(r.w_size),o.arraySet(c,t,f-r.w_size,r.w_size,0),t=c,f=r.w_size),u=e.avail_in,l=e.next_in,d=e.input,e.avail_in=f,e.next_in=0,e.input=t,se(r);r.lookahead>=q;){n=r.strstart,s=r.lookahead-(q-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+q-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--s);r.strstart=n,r.lookahead=q-1,se(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=q-1,r.match_available=0,e.next_in=l,e.input=d,e.avail_in=u,r.wrap=a,p},t.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/gzheader.js":function(e,t,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},"./node_modules/pako/lib/zlib/inffast.js":function(e,t,r){"use strict";e.exports=function(e,t){var r,n,o,s,i,a,u,l,d,c,f,h,p,m,g,y,_,b,v,j,w,k,x,S,E;r=e.state,n=e.next_in,S=e.input,o=n+(e.avail_in-5),s=e.next_out,E=e.output,i=s-(t-e.avail_out),a=s+(e.avail_out-257),u=r.dmax,l=r.wsize,d=r.whave,c=r.wnext,f=r.window,h=r.hold,p=r.bits,m=r.lencode,g=r.distcode,y=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{p<15&&(h+=S[n++]<<p,p+=8,h+=S[n++]<<p,p+=8),b=m[h&y];t:for(;;){if(h>>>=v=b>>>24,p-=v,0===(v=b>>>16&255))E[s++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=m[(65535&b)+(h&(1<<v)-1)];continue t}if(32&v){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}j=65535&b,(v&=15)&&(p<v&&(h+=S[n++]<<p,p+=8),j+=h&(1<<v)-1,h>>>=v,p-=v),p<15&&(h+=S[n++]<<p,p+=8,h+=S[n++]<<p,p+=8),b=g[h&_];r:for(;;){if(h>>>=v=b>>>24,p-=v,!(16&(v=b>>>16&255))){if(0==(64&v)){b=g[(65535&b)+(h&(1<<v)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(w=65535&b,p<(v&=15)&&(h+=S[n++]<<p,(p+=8)<v&&(h+=S[n++]<<p,p+=8)),(w+=h&(1<<v)-1)>u){e.msg="invalid distance too far back",r.mode=30;break e}if(h>>>=v,p-=v,w>(v=s-i)){if((v=w-v)>d&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(k=0,x=f,0===c){if(k+=l-v,v<j){j-=v;do{E[s++]=f[k++]}while(--v);k=s-w,x=E}}else if(c<v){if(k+=l+c-v,(v-=c)<j){j-=v;do{E[s++]=f[k++]}while(--v);if(k=0,c<j){j-=v=c;do{E[s++]=f[k++]}while(--v);k=s-w,x=E}}}else if(k+=c-v,v<j){j-=v;do{E[s++]=f[k++]}while(--v);k=s-w,x=E}for(;j>2;)E[s++]=x[k++],E[s++]=x[k++],E[s++]=x[k++],j-=3;j&&(E[s++]=x[k++],j>1&&(E[s++]=x[k++]))}else{k=s-w;do{E[s++]=E[k++],E[s++]=E[k++],E[s++]=E[k++],j-=3}while(j>2);j&&(E[s++]=E[k++],j>1&&(E[s++]=E[k++]))}break}}break}}while(n<o&&s<a);n-=j=p>>3,h&=(1<<(p-=j<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<o?o-n+5:5-(n-o),e.avail_out=s<a?a-s+257:257-(s-a),r.hold=h,r.bits=p}},"./node_modules/pako/lib/zlib/inflate.js":function(e,t,r){"use strict";var n=r("./node_modules/pako/lib/utils/common.js"),o=r("./node_modules/pako/lib/zlib/adler32.js"),s=r("./node_modules/pako/lib/zlib/crc32.js"),i=r("./node_modules/pako/lib/zlib/inffast.js"),a=r("./node_modules/pako/lib/zlib/inftrees.js"),u=0,l=1,d=2,c=4,f=5,h=6,p=0,m=1,g=2,y=-2,_=-3,b=-4,v=-5,j=8,w=1,k=2,x=3,S=4,E=5,I=6,C=7,M=8,R=9,O=10,T=11,A=12,P=13,q=14,U=15,N=16,B=17,L=18,F=19,D=20,z=21,G=22,H=23,V=24,K=25,W=26,Z=27,J=28,Y=29,$=30,Q=31,X=32,ee=852,te=592,re=15;function ne(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function oe(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function se(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=w,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(ee),t.distcode=t.distdyn=new n.Buf32(te),t.sane=1,t.back=-1,p):y}function ie(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,se(e)):y}function ae(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?y:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,ie(e))):y}function ue(e,t){var r,n;return e?(n=new oe,e.state=n,n.window=null,(r=ae(e,t))!==p&&(e.state=null),r):y}var le,de,ce=!0;function fe(e){if(ce){var t;for(le=new n.Buf32(512),de=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(l,e.lens,0,288,le,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(d,e.lens,0,32,de,0,e.work,{bits:5}),ce=!1}e.lencode=le,e.lenbits=9,e.distcode=de,e.distbits=5}function he(e,t,r,o){var s,i=e.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new n.Buf8(i.wsize)),o>=i.wsize?(n.arraySet(i.window,t,r-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):((s=i.wsize-i.wnext)>o&&(s=o),n.arraySet(i.window,t,r-o,s,i.wnext),(o-=s)?(n.arraySet(i.window,t,r-o,o,0),i.wnext=o,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0}t.inflateReset=ie,t.inflateReset2=ae,t.inflateResetKeep=se,t.inflateInit=function(e){return ue(e,re)},t.inflateInit2=ue,t.inflate=function(e,t){var r,ee,te,re,oe,se,ie,ae,ue,le,de,ce,pe,me,ge,ye,_e,be,ve,je,we,ke,xe,Se,Ee=0,Ie=new n.Buf8(4),Ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return y;(r=e.state).mode===A&&(r.mode=P),oe=e.next_out,te=e.output,ie=e.avail_out,re=e.next_in,ee=e.input,se=e.avail_in,ae=r.hold,ue=r.bits,le=se,de=ie,ke=p;e:for(;;)switch(r.mode){case w:if(0===r.wrap){r.mode=P;break}for(;ue<16;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}if(2&r.wrap&&35615===ae){r.check=0,Ie[0]=255&ae,Ie[1]=ae>>>8&255,r.check=s(r.check,Ie,2,0),ae=0,ue=0,r.mode=k;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&ae)<<8)+(ae>>8))%31){e.msg="incorrect header check",r.mode=$;break}if((15&ae)!==j){e.msg="unknown compression method",r.mode=$;break}if(ue-=4,we=8+(15&(ae>>>=4)),0===r.wbits)r.wbits=we;else if(we>r.wbits){e.msg="invalid window size",r.mode=$;break}r.dmax=1<<we,e.adler=r.check=1,r.mode=512&ae?O:A,ae=0,ue=0;break;case k:for(;ue<16;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}if(r.flags=ae,(255&r.flags)!==j){e.msg="unknown compression method",r.mode=$;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=$;break}r.head&&(r.head.text=ae>>8&1),512&r.flags&&(Ie[0]=255&ae,Ie[1]=ae>>>8&255,r.check=s(r.check,Ie,2,0)),ae=0,ue=0,r.mode=x;case x:for(;ue<32;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}r.head&&(r.head.time=ae),512&r.flags&&(Ie[0]=255&ae,Ie[1]=ae>>>8&255,Ie[2]=ae>>>16&255,Ie[3]=ae>>>24&255,r.check=s(r.check,Ie,4,0)),ae=0,ue=0,r.mode=S;case S:for(;ue<16;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}r.head&&(r.head.xflags=255&ae,r.head.os=ae>>8),512&r.flags&&(Ie[0]=255&ae,Ie[1]=ae>>>8&255,r.check=s(r.check,Ie,2,0)),ae=0,ue=0,r.mode=E;case E:if(1024&r.flags){for(;ue<16;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}r.length=ae,r.head&&(r.head.extra_len=ae),512&r.flags&&(Ie[0]=255&ae,Ie[1]=ae>>>8&255,r.check=s(r.check,Ie,2,0)),ae=0,ue=0}else r.head&&(r.head.extra=null);r.mode=I;case I:if(1024&r.flags&&((ce=r.length)>se&&(ce=se),ce&&(r.head&&(we=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,ee,re,ce,we)),512&r.flags&&(r.check=s(r.check,ee,ce,re)),se-=ce,re+=ce,r.length-=ce),r.length))break e;r.length=0,r.mode=C;case C:if(2048&r.flags){if(0===se)break e;ce=0;do{we=ee[re+ce++],r.head&&we&&r.length<65536&&(r.head.name+=String.fromCharCode(we))}while(we&&ce<se);if(512&r.flags&&(r.check=s(r.check,ee,ce,re)),se-=ce,re+=ce,we)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=M;case M:if(4096&r.flags){if(0===se)break e;ce=0;do{we=ee[re+ce++],r.head&&we&&r.length<65536&&(r.head.comment+=String.fromCharCode(we))}while(we&&ce<se);if(512&r.flags&&(r.check=s(r.check,ee,ce,re)),se-=ce,re+=ce,we)break e}else r.head&&(r.head.comment=null);r.mode=R;case R:if(512&r.flags){for(;ue<16;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}if(ae!==(65535&r.check)){e.msg="header crc mismatch",r.mode=$;break}ae=0,ue=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=A;break;case O:for(;ue<32;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}e.adler=r.check=ne(ae),ae=0,ue=0,r.mode=T;case T:if(0===r.havedict)return e.next_out=oe,e.avail_out=ie,e.next_in=re,e.avail_in=se,r.hold=ae,r.bits=ue,g;e.adler=r.check=1,r.mode=A;case A:if(t===f||t===h)break e;case P:if(r.last){ae>>>=7&ue,ue-=7&ue,r.mode=Z;break}for(;ue<3;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}switch(r.last=1&ae,ue-=1,3&(ae>>>=1)){case 0:r.mode=q;break;case 1:if(fe(r),r.mode=D,t===h){ae>>>=2,ue-=2;break e}break;case 2:r.mode=B;break;case 3:e.msg="invalid block type",r.mode=$}ae>>>=2,ue-=2;break;case q:for(ae>>>=7&ue,ue-=7&ue;ue<32;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}if((65535&ae)!=(ae>>>16^65535)){e.msg="invalid stored block lengths",r.mode=$;break}if(r.length=65535&ae,ae=0,ue=0,r.mode=U,t===h)break e;case U:r.mode=N;case N:if(ce=r.length){if(ce>se&&(ce=se),ce>ie&&(ce=ie),0===ce)break e;n.arraySet(te,ee,re,ce,oe),se-=ce,re+=ce,ie-=ce,oe+=ce,r.length-=ce;break}r.mode=A;break;case B:for(;ue<14;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}if(r.nlen=257+(31&ae),ae>>>=5,ue-=5,r.ndist=1+(31&ae),ae>>>=5,ue-=5,r.ncode=4+(15&ae),ae>>>=4,ue-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=$;break}r.have=0,r.mode=L;case L:for(;r.have<r.ncode;){for(;ue<3;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}r.lens[Ce[r.have++]]=7&ae,ae>>>=3,ue-=3}for(;r.have<19;)r.lens[Ce[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,xe={bits:r.lenbits},ke=a(u,r.lens,0,19,r.lencode,0,r.work,xe),r.lenbits=xe.bits,ke){e.msg="invalid code lengths set",r.mode=$;break}r.have=0,r.mode=F;case F:for(;r.have<r.nlen+r.ndist;){for(;ye=(Ee=r.lencode[ae&(1<<r.lenbits)-1])>>>16&255,_e=65535&Ee,!((ge=Ee>>>24)<=ue);){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}if(_e<16)ae>>>=ge,ue-=ge,r.lens[r.have++]=_e;else{if(16===_e){for(Se=ge+2;ue<Se;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}if(ae>>>=ge,ue-=ge,0===r.have){e.msg="invalid bit length repeat",r.mode=$;break}we=r.lens[r.have-1],ce=3+(3&ae),ae>>>=2,ue-=2}else if(17===_e){for(Se=ge+3;ue<Se;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}ue-=ge,we=0,ce=3+(7&(ae>>>=ge)),ae>>>=3,ue-=3}else{for(Se=ge+7;ue<Se;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}ue-=ge,we=0,ce=11+(127&(ae>>>=ge)),ae>>>=7,ue-=7}if(r.have+ce>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=$;break}for(;ce--;)r.lens[r.have++]=we}}if(r.mode===$)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=$;break}if(r.lenbits=9,xe={bits:r.lenbits},ke=a(l,r.lens,0,r.nlen,r.lencode,0,r.work,xe),r.lenbits=xe.bits,ke){e.msg="invalid literal/lengths set",r.mode=$;break}if(r.distbits=6,r.distcode=r.distdyn,xe={bits:r.distbits},ke=a(d,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,xe),r.distbits=xe.bits,ke){e.msg="invalid distances set",r.mode=$;break}if(r.mode=D,t===h)break e;case D:r.mode=z;case z:if(se>=6&&ie>=258){e.next_out=oe,e.avail_out=ie,e.next_in=re,e.avail_in=se,r.hold=ae,r.bits=ue,i(e,de),oe=e.next_out,te=e.output,ie=e.avail_out,re=e.next_in,ee=e.input,se=e.avail_in,ae=r.hold,ue=r.bits,r.mode===A&&(r.back=-1);break}for(r.back=0;ye=(Ee=r.lencode[ae&(1<<r.lenbits)-1])>>>16&255,_e=65535&Ee,!((ge=Ee>>>24)<=ue);){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}if(ye&&0==(240&ye)){for(be=ge,ve=ye,je=_e;ye=(Ee=r.lencode[je+((ae&(1<<be+ve)-1)>>be)])>>>16&255,_e=65535&Ee,!(be+(ge=Ee>>>24)<=ue);){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}ae>>>=be,ue-=be,r.back+=be}if(ae>>>=ge,ue-=ge,r.back+=ge,r.length=_e,0===ye){r.mode=W;break}if(32&ye){r.back=-1,r.mode=A;break}if(64&ye){e.msg="invalid literal/length code",r.mode=$;break}r.extra=15&ye,r.mode=G;case G:if(r.extra){for(Se=r.extra;ue<Se;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}r.length+=ae&(1<<r.extra)-1,ae>>>=r.extra,ue-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=H;case H:for(;ye=(Ee=r.distcode[ae&(1<<r.distbits)-1])>>>16&255,_e=65535&Ee,!((ge=Ee>>>24)<=ue);){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}if(0==(240&ye)){for(be=ge,ve=ye,je=_e;ye=(Ee=r.distcode[je+((ae&(1<<be+ve)-1)>>be)])>>>16&255,_e=65535&Ee,!(be+(ge=Ee>>>24)<=ue);){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}ae>>>=be,ue-=be,r.back+=be}if(ae>>>=ge,ue-=ge,r.back+=ge,64&ye){e.msg="invalid distance code",r.mode=$;break}r.offset=_e,r.extra=15&ye,r.mode=V;case V:if(r.extra){for(Se=r.extra;ue<Se;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}r.offset+=ae&(1<<r.extra)-1,ae>>>=r.extra,ue-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=$;break}r.mode=K;case K:if(0===ie)break e;if(ce=de-ie,r.offset>ce){if((ce=r.offset-ce)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=$;break}ce>r.wnext?(ce-=r.wnext,pe=r.wsize-ce):pe=r.wnext-ce,ce>r.length&&(ce=r.length),me=r.window}else me=te,pe=oe-r.offset,ce=r.length;ce>ie&&(ce=ie),ie-=ce,r.length-=ce;do{te[oe++]=me[pe++]}while(--ce);0===r.length&&(r.mode=z);break;case W:if(0===ie)break e;te[oe++]=r.length,ie--,r.mode=z;break;case Z:if(r.wrap){for(;ue<32;){if(0===se)break e;se--,ae|=ee[re++]<<ue,ue+=8}if(de-=ie,e.total_out+=de,r.total+=de,de&&(e.adler=r.check=r.flags?s(r.check,te,de,oe-de):o(r.check,te,de,oe-de)),de=ie,(r.flags?ae:ne(ae))!==r.check){e.msg="incorrect data check",r.mode=$;break}ae=0,ue=0}r.mode=J;case J:if(r.wrap&&r.flags){for(;ue<32;){if(0===se)break e;se--,ae+=ee[re++]<<ue,ue+=8}if(ae!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=$;break}ae=0,ue=0}r.mode=Y;case Y:ke=m;break e;case $:ke=_;break e;case Q:return b;case X:default:return y}return e.next_out=oe,e.avail_out=ie,e.next_in=re,e.avail_in=se,r.hold=ae,r.bits=ue,(r.wsize||de!==e.avail_out&&r.mode<$&&(r.mode<Z||t!==c))&&he(e,e.output,e.next_out,de-e.avail_out)?(r.mode=Q,b):(le-=e.avail_in,de-=e.avail_out,e.total_in+=le,e.total_out+=de,r.total+=de,r.wrap&&de&&(e.adler=r.check=r.flags?s(r.check,te,de,e.next_out-de):o(r.check,te,de,e.next_out-de)),e.data_type=r.bits+(r.last?64:0)+(r.mode===A?128:0)+(r.mode===D||r.mode===U?256:0),(0===le&&0===de||t===c)&&ke===p&&(ke=v),ke)},t.inflateEnd=function(e){if(!e||!e.state)return y;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?y:(r.head=t,t.done=!1,p):y},t.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&r.mode!==T?y:r.mode===T&&o(1,t,n,0)!==r.check?_:he(e,t,n,n)?(r.mode=Q,b):(r.havedict=1,p):y},t.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/pako/lib/zlib/inftrees.js":function(e,t,r){"use strict";var n=r("./node_modules/pako/lib/utils/common.js"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],i=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,u,l,d,c,f){var h,p,m,g,y,_,b,v,j,w=f.bits,k=0,x=0,S=0,E=0,I=0,C=0,M=0,R=0,O=0,T=0,A=null,P=0,q=new n.Buf16(16),U=new n.Buf16(16),N=null,B=0;for(k=0;k<=15;k++)q[k]=0;for(x=0;x<u;x++)q[t[r+x]]++;for(I=w,E=15;E>=1&&0===q[E];E--);if(I>E&&(I=E),0===E)return l[d++]=20971520,l[d++]=20971520,f.bits=1,0;for(S=1;S<E&&0===q[S];S++);for(I<S&&(I=S),R=1,k=1;k<=15;k++)if(R<<=1,(R-=q[k])<0)return-1;if(R>0&&(0===e||1!==E))return-1;for(U[1]=0,k=1;k<15;k++)U[k+1]=U[k]+q[k];for(x=0;x<u;x++)0!==t[r+x]&&(c[U[t[r+x]]++]=x);if(0===e?(A=N=c,_=19):1===e?(A=o,P-=257,N=s,B-=257,_=256):(A=i,N=a,_=-1),T=0,x=0,k=S,y=d,C=I,M=0,m=-1,g=(O=1<<I)-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){b=k-M,c[x]<_?(v=0,j=c[x]):c[x]>_?(v=N[B+c[x]],j=A[P+c[x]]):(v=96,j=0),h=1<<k-M,S=p=1<<C;do{l[y+(T>>M)+(p-=h)]=b<<24|v<<16|j|0}while(0!==p);for(h=1<<k-1;T&h;)h>>=1;if(0!==h?(T&=h-1,T+=h):T=0,x++,0==--q[k]){if(k===E)break;k=t[r+c[x]]}if(k>I&&(T&g)!==m){for(0===M&&(M=I),y+=S,R=1<<(C=k-M);C+M<E&&!((R-=q[C+M])<=0);)C++,R<<=1;if(O+=1<<C,1===e&&O>852||2===e&&O>592)return 1;l[m=T&g]=I<<24|C<<16|y-d|0}}return 0!==T&&(l[y+T]=k-M<<24|64<<16|0),f.bits=I,0}},"./node_modules/pako/lib/zlib/messages.js":function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/pako/lib/zlib/trees.js":function(e,t,r){"use strict";var n=r("./node_modules/pako/lib/utils/common.js"),o=4,s=0,i=1,a=2;function u(e){for(var t=e.length;--t>=0;)e[t]=0}var l=0,d=1,c=2,f=29,h=256,p=h+1+f,m=30,g=19,y=2*p+1,_=15,b=16,v=7,j=256,w=16,k=17,x=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],M=new Array(2*(p+2));u(M);var R=new Array(2*m);u(R);var O=new Array(512);u(O);var T=new Array(256);u(T);var A=new Array(f);u(A);var P,q,U,N=new Array(m);function B(e,t,r,n,o){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=o,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function F(e){return e<256?O[e]:O[256+(e>>>7)]}function D(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function z(e,t,r){e.bi_valid>b-r?(e.bi_buf|=t<<e.bi_valid&65535,D(e,e.bi_buf),e.bi_buf=t>>b-e.bi_valid,e.bi_valid+=r-b):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function G(e,t,r){z(e,r[2*t],r[2*t+1])}function H(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function V(e,t,r){var n,o,s=new Array(_+1),i=0;for(n=1;n<=_;n++)s[n]=i=i+r[n-1]<<1;for(o=0;o<=t;o++){var a=e[2*o+1];0!==a&&(e[2*o]=H(s[a]++,a))}}function K(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<g;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*j]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function W(e){e.bi_valid>8?D(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Z(e,t,r,n){var o=2*t,s=2*r;return e[o]<e[s]||e[o]===e[s]&&n[t]<=n[r]}function J(e,t,r){for(var n=e.heap[r],o=r<<1;o<=e.heap_len&&(o<e.heap_len&&Z(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Z(t,n,e.heap[o],e.depth));)e.heap[r]=e.heap[o],r=o,o<<=1;e.heap[r]=n}function Y(e,t,r){var n,o,s,i,a=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],o=e.pending_buf[e.l_buf+a],a++,0===n?G(e,o,t):(G(e,(s=T[o])+h+1,t),0!==(i=S[s])&&z(e,o-=A[s],i),G(e,s=F(--n),r),0!==(i=E[s])&&z(e,n-=N[s],i))}while(a<e.last_lit);G(e,j,t)}function $(e,t){var r,n,o,s=t.dyn_tree,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=y,r=0;r<u;r++)0!==s[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(o=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[o]=0,e.opt_len--,a&&(e.static_len-=i[2*o+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)J(e,s,r);o=u;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],J(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*o]=s[2*r]+s[2*n],e.depth[o]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=o,e.heap[1]=o++,J(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,o,s,i,a,u=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,c=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,h=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=_;s++)e.bl_count[s]=0;for(u[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<y;r++)(s=u[2*u[2*(n=e.heap[r])+1]+1]+1)>p&&(s=p,m++),u[2*n+1]=s,n>l||(e.bl_count[s]++,i=0,n>=h&&(i=f[n-h]),a=u[2*n],e.opt_len+=a*(s+i),c&&(e.static_len+=a*(d[2*n+1]+i)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(s=p;0!==s;s--)for(n=e.bl_count[s];0!==n;)(o=e.heap[--r])>l||(u[2*o+1]!==s&&(e.opt_len+=(s-u[2*o+1])*u[2*o],u[2*o+1]=s),n--)}}(e,t),V(s,l,e.bl_count)}function Q(e,t,r){var n,o,s=-1,i=t[1],a=0,u=7,l=4;for(0===i&&(u=138,l=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)o=i,i=t[2*(n+1)+1],++a<u&&o===i||(a<l?e.bl_tree[2*o]+=a:0!==o?(o!==s&&e.bl_tree[2*o]++,e.bl_tree[2*w]++):a<=10?e.bl_tree[2*k]++:e.bl_tree[2*x]++,a=0,s=o,0===i?(u=138,l=3):o===i?(u=6,l=3):(u=7,l=4))}function X(e,t,r){var n,o,s=-1,i=t[1],a=0,u=7,l=4;for(0===i&&(u=138,l=3),n=0;n<=r;n++)if(o=i,i=t[2*(n+1)+1],!(++a<u&&o===i)){if(a<l)do{G(e,o,e.bl_tree)}while(0!=--a);else 0!==o?(o!==s&&(G(e,o,e.bl_tree),a--),G(e,w,e.bl_tree),z(e,a-3,2)):a<=10?(G(e,k,e.bl_tree),z(e,a-3,3)):(G(e,x,e.bl_tree),z(e,a-11,7));a=0,s=o,0===i?(u=138,l=3):o===i?(u=6,l=3):(u=7,l=4)}}u(N);var ee=!1;function te(e,t,r,o){z(e,(l<<1)+(o?1:0),3),function(e,t,r,o){W(e),o&&(D(e,r),D(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}t._tr_init=function(e){ee||(!function(){var e,t,r,n,o,s=new Array(_+1);for(r=0,n=0;n<f-1;n++)for(A[n]=r,e=0;e<1<<S[n];e++)T[r++]=n;for(T[r-1]=n,o=0,n=0;n<16;n++)for(N[n]=o,e=0;e<1<<E[n];e++)O[o++]=n;for(o>>=7;n<m;n++)for(N[n]=o<<7,e=0;e<1<<E[n]-7;e++)O[256+o++]=n;for(t=0;t<=_;t++)s[t]=0;for(e=0;e<=143;)M[2*e+1]=8,e++,s[8]++;for(;e<=255;)M[2*e+1]=9,e++,s[9]++;for(;e<=279;)M[2*e+1]=7,e++,s[7]++;for(;e<=287;)M[2*e+1]=8,e++,s[8]++;for(V(M,p+1,s),e=0;e<m;e++)R[2*e+1]=5,R[2*e]=H(e,5);P=new B(M,S,h+1,p,_),q=new B(R,E,0,m,_),U=new B(new Array(0),I,0,g,v)}(),ee=!0),e.l_desc=new L(e.dyn_ltree,P),e.d_desc=new L(e.dyn_dtree,q),e.bl_desc=new L(e.bl_tree,U),e.bi_buf=0,e.bi_valid=0,K(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,r,n){var u,l,f=0;e.level>0?(e.strm.data_type===a&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return s;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return i;for(t=32;t<h;t++)if(0!==e.dyn_ltree[2*t])return i;return s}(e)),$(e,e.l_desc),$(e,e.d_desc),f=function(e){var t;for(Q(e,e.dyn_ltree,e.l_desc.max_code),Q(e,e.dyn_dtree,e.d_desc.max_code),$(e,e.bl_desc),t=g-1;t>=3&&0===e.bl_tree[2*C[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),u=e.opt_len+3+7>>>3,(l=e.static_len+3+7>>>3)<=u&&(u=l)):u=l=r+5,r+4<=u&&-1!==t?te(e,t,r,n):e.strategy===o||l===u?(z(e,(d<<1)+(n?1:0),3),Y(e,M,R)):(z(e,(c<<1)+(n?1:0),3),function(e,t,r,n){var o;for(z(e,t-257,5),z(e,r-1,5),z(e,n-4,4),o=0;o<n;o++)z(e,e.bl_tree[2*C[o]+1],3);X(e,e.dyn_ltree,t-1),X(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,f+1),Y(e,e.dyn_ltree,e.dyn_dtree)),K(e),n&&W(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(T[r]+h+1)]++,e.dyn_dtree[2*F(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){z(e,d<<1,3),G(e,j,M),function(e){16===e.bi_valid?(D(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},"./node_modules/pako/lib/zlib/zstream.js":function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},"./node_modules/process-nextick-args/index.js":function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var s,i,a=arguments.length;switch(a){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,o)}));default:for(s=new Array(a-1),i=0;i<s.length;)s[i++]=arguments[i];return t.nextTick((function(){e.apply(null,s)}))}}}:e.exports=t}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/process/browser.js":function(e,t){var r,n,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var u,l=[],d=!1,c=-1;function f(){d&&u&&(d=!1,u.length?l=u.concat(l):c=-1,l.length&&h())}function h(){if(!d){var e=a(f);d=!0;for(var t=l.length;t;){for(u=l,l=[];++c<t;)u&&u[c].run();c=-1,t=l.length}u=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||d||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"./node_modules/punycode/punycode.js":function(e,t,r){(function(e,n){var o;!function(s){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n&&n;i.global!==i&&i.window!==i&&i.self;var a,u=2147483647,l=36,d=1,c=26,f=38,h=700,p=72,m=128,g="-",y=/^xn--/,_=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},j=l-d,w=Math.floor,k=String.fromCharCode;function x(e){throw new RangeError(v[e])}function S(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function E(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+S((e=e.replace(b,".")).split("."),t).join(".")}function I(e){for(var t,r,n=[],o=0,s=e.length;o<s;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<s?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function C(e){return S(e,(function(e){var t="";return e>65535&&(t+=k((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=k(e)})).join("")}function M(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,r){var n=0;for(e=r?w(e/h):e>>1,e+=w(e/t);e>j*c>>1;n+=l)e=w(e/j);return w(n+(j+1)*e/(e+f))}function O(e){var t,r,n,o,s,i,a,f,h,y,_,b=[],v=e.length,j=0,k=m,S=p;for((r=e.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&x("not-basic"),b.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<v;){for(s=j,i=1,a=l;o>=v&&x("invalid-input"),((f=(_=e.charCodeAt(o++))-48<10?_-22:_-65<26?_-65:_-97<26?_-97:l)>=l||f>w((u-j)/i))&&x("overflow"),j+=f*i,!(f<(h=a<=S?d:a>=S+c?c:a-S));a+=l)i>w(u/(y=l-h))&&x("overflow"),i*=y;S=R(j-s,t=b.length+1,0==s),w(j/t)>u-k&&x("overflow"),k+=w(j/t),j%=t,b.splice(j++,0,k)}return C(b)}function T(e){var t,r,n,o,s,i,a,f,h,y,_,b,v,j,S,E=[];for(b=(e=I(e)).length,t=m,r=0,s=p,i=0;i<b;++i)(_=e[i])<128&&E.push(k(_));for(n=o=E.length,o&&E.push(g);n<b;){for(a=u,i=0;i<b;++i)(_=e[i])>=t&&_<a&&(a=_);for(a-t>w((u-r)/(v=n+1))&&x("overflow"),r+=(a-t)*v,t=a,i=0;i<b;++i)if((_=e[i])<t&&++r>u&&x("overflow"),_==t){for(f=r,h=l;!(f<(y=h<=s?d:h>=s+c?c:h-s));h+=l)S=f-y,j=l-y,E.push(k(M(y+S%j,0))),f=w(S/j);E.push(k(M(f,0))),s=R(r,v,n==o),r=0,++n}++r,++t}return E.join("")}a={version:"1.4.1",ucs2:{decode:I,encode:C},decode:O,encode:T,toASCII:function(e){return E(e,(function(e){return _.test(e)?"xn--"+T(e):e}))},toUnicode:function(e){return E(e,(function(e){return y.test(e)?O(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return a}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r("./node_modules/webpack/buildin/module.js")(e),r("./node_modules/webpack/buildin/global.js"))},"./node_modules/querystring-es3/decode.js":function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,s){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var a=/\+/g;e=e.split(t);var u=1e3;s&&"number"==typeof s.maxKeys&&(u=s.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var d=0;d<l;++d){var c,f,h,p,m=e[d].replace(a,"%20"),g=m.indexOf(r);g>=0?(c=m.substr(0,g),f=m.substr(g+1)):(c=m,f=""),h=decodeURIComponent(c),p=decodeURIComponent(f),n(i,h)?o(i[h])?i[h].push(p):i[h]=[i[h],p]:i[h]=p}return i};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},"./node_modules/querystring-es3/encode.js":function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?s(i(e),(function(i){var a=encodeURIComponent(n(i))+r;return o(e[i])?s(e[i],(function(e){return a+encodeURIComponent(n(e))})).join(t):a+encodeURIComponent(n(e[i]))})).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},"./node_modules/querystring-es3/index.js":function(e,t,r){"use strict";t.decode=t.parse=r("./node_modules/querystring-es3/decode.js"),t.encode=t.stringify=r("./node_modules/querystring-es3/encode.js")},"./node_modules/readable-stream/duplex-browser.js":function(e,t,r){e.exports=r("./node_modules/readable-stream/lib/_stream_duplex.js")},"./node_modules/readable-stream/lib/_stream_duplex.js":function(e,t,r){"use strict";var n=r("./node_modules/process-nextick-args/index.js"),o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=c;var s=r("./node_modules/core-util-is/lib/util.js");s.inherits=r("./node_modules/inherits/inherits_browser.js");var i=r("./node_modules/readable-stream/lib/_stream_readable.js"),a=r("./node_modules/readable-stream/lib/_stream_writable.js");s.inherits(c,i);for(var u=o(a.prototype),l=0;l<u.length;l++){var d=u[l];c.prototype[d]||(c.prototype[d]=a.prototype[d])}function c(e){if(!(this instanceof c))return new c(e);i.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),c.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},"./node_modules/readable-stream/lib/_stream_passthrough.js":function(e,t,r){"use strict";e.exports=s;var n=r("./node_modules/readable-stream/lib/_stream_transform.js"),o=r("./node_modules/core-util-is/lib/util.js");function s(e){if(!(this instanceof s))return new s(e);n.call(this,e)}o.inherits=r("./node_modules/inherits/inherits_browser.js"),o.inherits(s,n),s.prototype._transform=function(e,t,r){r(null,e)}},"./node_modules/readable-stream/lib/_stream_readable.js":function(e,t,r){"use strict";(function(t,n){var o=r("./node_modules/process-nextick-args/index.js");e.exports=b;var s,i=r("./node_modules/isarray/index.js");b.ReadableState=_;r("./node_modules/node-libs-browser/node_modules/events/events.js").EventEmitter;var a=function(e,t){return e.listeners(t).length},u=r("./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),l=r("./node_modules/safe-buffer/index.js").Buffer,d=t.Uint8Array||function(){};var c=r("./node_modules/core-util-is/lib/util.js");c.inherits=r("./node_modules/inherits/inherits_browser.js");var f=r(0),h=void 0;h=f&&f.debuglog?f.debuglog("stream"):function(){};var p,m=r("./node_modules/readable-stream/lib/internal/streams/BufferList.js"),g=r("./node_modules/readable-stream/lib/internal/streams/destroy.js");c.inherits(b,u);var y=["error","close","destroy","pause","resume"];function _(e,t){e=e||{};var n=t instanceof(s=s||r("./node_modules/readable-stream/lib/_stream_duplex.js"));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,i=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(i||0===i)?i:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function b(e){if(s=s||r("./node_modules/readable-stream/lib/_stream_duplex.js"),!(this instanceof b))return new b(e);this._readableState=new _(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function v(e,t,r,n,o){var s,i=e._readableState;null===t?(i.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,x(e)}(e,i)):(o||(s=function(e,t){var r;n=t,l.isBuffer(n)||n instanceof d||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(i,t)),s?e.emit("error",s):i.objectMode||t&&t.length>0?("string"==typeof t||i.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),n?i.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):j(e,i,t,!0):i.ended?e.emit("error",new Error("stream.push() after EOF")):(i.reading=!1,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?j(e,i,t,!1):E(e,i)):j(e,i,t,!1))):n||(i.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(i)}function j(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&x(e)),E(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),r=!0),v(this,e,t,!1,r)},b.prototype.unshift=function(e){return v(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return p||(p=r("./node_modules/string_decoder/lib/string_decoder.js").StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var w=8388608;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=w?e=w:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(h("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(S,e):S(e))}function S(e){h("emit readable"),e.emit("readable"),R(e)}function E(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(I,e,t))}function I(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(h("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function C(e){h("readable nexttick read 0"),e.read(0)}function M(e,t){t.reading||(h("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(h("flow",t.flowing);t.flowing&&null!==e.read(););}function O(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,o=r.data;e-=o.length;for(;r=r.next;){var s=r.data,i=e>s.length?s.length:e;if(i===s.length?o+=s:o+=s.slice(0,e),0===(e-=i)){i===s.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(i));break}++n}return t.length-=n,o}(e,t):function(e,t){var r=l.allocUnsafe(e),n=t.head,o=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var s=n.data,i=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,i),0===(e-=i)){i===s.length?(++o,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(i));break}++o}return t.length-=o,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function T(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}b.prototype.read=function(e){h("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?T(this):x(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&T(this),null;var n,o=t.needReadable;return h("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&h("length less than watermark",o=!0),t.ended||t.reading?h("reading or ended",o=!1):o&&(h("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(n=e>0?O(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&T(this)),null!==n&&this.emit("data",n),n},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,h("pipe count=%d opts=%j",s.pipesCount,t);var u=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?d:b;function l(t,n){h("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,h("cleanup"),e.removeListener("close",y),e.removeListener("finish",_),e.removeListener("drain",c),e.removeListener("error",g),e.removeListener("unpipe",l),r.removeListener("end",d),r.removeListener("end",b),r.removeListener("data",m),f=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function d(){h("onend"),e.end()}s.endEmitted?o.nextTick(u):r.once("end",u),e.on("unpipe",l);var c=function(e){return function(){var t=e._readableState;h("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,R(e))}}(r);e.on("drain",c);var f=!1;var p=!1;function m(t){h("ondata"),p=!1,!1!==e.write(t)||p||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==P(s.pipes,e))&&!f&&(h("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(t){h("onerror",t),b(),e.removeListener("error",g),0===a(e,"error")&&e.emit("error",t)}function y(){e.removeListener("finish",_),b()}function _(){h("onfinish"),e.removeListener("close",y),b()}function b(){h("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",g),e.once("close",y),e.once("finish",_),e.emit("pipe",r),s.flowing||(h("pipe resume"),r.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<o;s++)n[s].emit("unpipe",this,r);return this}var i=P(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},b.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&x(this):o.nextTick(C,this))}return r},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(h("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(M,e,t))}(this,e)),this},b.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var o in e.on("end",(function(){if(h("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(h("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var s=0;s<y.length;s++)e.on(y[s],this.emit.bind(this,y[s]));return this._read=function(t){h("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=O}).call(this,r("./node_modules/webpack/buildin/global.js"),r("./node_modules/process/browser.js"))},"./node_modules/readable-stream/lib/_stream_transform.js":function(e,t,r){"use strict";e.exports=i;var n=r("./node_modules/readable-stream/lib/_stream_duplex.js"),o=r("./node_modules/core-util-is/lib/util.js");function s(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);n.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=r("./node_modules/inherits/inherits_browser.js"),o.inherits(i,n),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},i.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},"./node_modules/readable-stream/lib/_stream_writable.js":function(e,t,r){"use strict";(function(t,n,o){var s=r("./node_modules/process-nextick-args/index.js");function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=_;var a,u=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?n:s.nextTick;_.WritableState=y;var l=r("./node_modules/core-util-is/lib/util.js");l.inherits=r("./node_modules/inherits/inherits_browser.js");var d={deprecate:r("./node_modules/util-deprecate/browser.js")},c=r("./node_modules/readable-stream/lib/internal/streams/stream-browser.js"),f=r("./node_modules/safe-buffer/index.js").Buffer,h=o.Uint8Array||function(){};var p,m=r("./node_modules/readable-stream/lib/internal/streams/destroy.js");function g(){}function y(e,t){a=a||r("./node_modules/readable-stream/lib/_stream_duplex.js"),e=e||{};var n=t instanceof a;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,l=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(l||0===l)?l:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(s.nextTick(o,n),s.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(o(n),e._writableState.errorEmitted=!0,e.emit("error",n),x(e,t))}(e,r,n,t,o);else{var i=w(r);i||r.corked||r.bufferProcessing||!r.bufferedRequest||j(e,r),n?u(v,e,r,i,o):v(e,r,i,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function _(e){if(a=a||r("./node_modules/readable-stream/lib/_stream_duplex.js"),!(p.call(_,this)||this instanceof a))return new _(e);this._writableState=new y(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function b(e,t,r,n,o,s,i){t.writelen=n,t.writecb=i,t.writing=!0,t.sync=!0,r?e._writev(o,t.onwrite):e._write(o,s,t.onwrite),t.sync=!1}function v(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),x(e,t)}function j(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,b(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,d=r.encoding,c=r.callback;if(b(e,t,!1,t.objectMode?1:l.length,l,d,c),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var r=w(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,s.nextTick(k,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}l.inherits(_,c),y.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(y.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!p.call(this,e)||this===_&&(e&&e._writableState instanceof y)}})):p=function(e){return e instanceof this},_.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},_.prototype.write=function(e,t,r){var n,o=this._writableState,i=!1,a=!o.objectMode&&(n=e,f.isBuffer(n)||n instanceof h);return a&&!f.isBuffer(e)&&(e=function(e){return f.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof r&&(r=g),o.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),s.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o=!0,i=!1;return null===r?i=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),s.nextTick(n,i),o=!1),o}(this,o,e,r))&&(o.pendingcb++,i=function(e,t,r,n,o,s){if(!r){var i=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=f.from(t,r));return t}(t,n,o);n!==i&&(r=!0,o="buffer",n=i)}var a=t.objectMode?1:n.length;t.length+=a;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,a,n,o,s);return u}(this,o,a,e,t,r)),i},_.prototype.cork=function(){this._writableState.corked++},_.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||j(this,e))},_.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(_.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),_.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},_.prototype._writev=null,_.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,x(e,t),r&&(t.finished?s.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r("./node_modules/process/browser.js"),r("./node_modules/node-libs-browser/node_modules/timers-browserify/main.js").setImmediate,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/readable-stream/lib/internal/streams/BufferList.js":function(e,t,r){"use strict";var n=r("./node_modules/safe-buffer/index.js").Buffer,o=r(1);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,o,s=n.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,r=s,o=a,t.copy(r,o),a+=i.data.length,i=i.next;return s},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},"./node_modules/readable-stream/lib/internal/streams/destroy.js":function(e,t,r){"use strict";var n=r("./node_modules/process-nextick-args/index.js");function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return s||i?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},"./node_modules/readable-stream/lib/internal/streams/stream-browser.js":function(e,t,r){e.exports=r("./node_modules/node-libs-browser/node_modules/events/events.js").EventEmitter},"./node_modules/readable-stream/readable-browser.js":function(e,t,r){(t=e.exports=r("./node_modules/readable-stream/lib/_stream_readable.js")).Stream=t,t.Readable=t,t.Writable=r("./node_modules/readable-stream/lib/_stream_writable.js"),t.Duplex=r("./node_modules/readable-stream/lib/_stream_duplex.js"),t.Transform=r("./node_modules/readable-stream/lib/_stream_transform.js"),t.PassThrough=r("./node_modules/readable-stream/lib/_stream_passthrough.js")},"./node_modules/reinterval/index.js":function(e,t,r){"use strict";function n(e,t,r){var n=this;this._callback=e,this._args=r,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,e,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}e.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var t=0;t<e.length;t++)e[t]=arguments[t+2]}return new n(arguments[0],arguments[1],e)}},"./node_modules/safe-buffer/index.js":function(e,t,r){var n=r("./node_modules/node-libs-browser/node_modules/buffer/index.js"),o=n.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function i(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=i),s(o,i),i.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},i.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},"./node_modules/setimmediate/setImmediate.js":function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,o,s,i,a,u=1,l={},d=!1,c=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){p(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(e){s.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(o=c.documentElement,n=function(e){var t=c.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(p,0,e)}:(i="setImmediate$"+Math.random()+"$",a=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&p(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),n=function(t){e.postMessage(i+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return l[u]=o,n(u),u++},f.clearImmediate=h}function h(e){delete l[e]}function p(e){if(d)setTimeout(p,0,e);else{var t=l[e];if(t){d=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(r,n)}}(t)}finally{h(e),d=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r("./node_modules/webpack/buildin/global.js"),r("./node_modules/process/browser.js"))},"./node_modules/stream-shift/index.js":function(e,t){e.exports=function(e){var t=e._readableState;return t?t.objectMode?e.read():e.read(function(e){if(e.buffer.length)return e.buffer.head?e.buffer.head.data.length:e.buffer[0].length;return e.length}(t)):null}},"./node_modules/string_decoder/lib/string_decoder.js":function(e,t,r){"use strict";var n=r("./node_modules/safe-buffer/index.js").Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=d,this.end=c,t=3;break;default:return this.write=f,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function i(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function d(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var o=i(t[n]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--n<r||-2===o)return 0;if((o=i(t[n]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--n<r||-2===o)return 0;if((o=i(t[n]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},"./node_modules/type/function/is.js":function(e,t,r){"use strict";var n=r("./node_modules/type/prototype/is.js");e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!n(e)}},"./node_modules/type/lib/resolve-exception.js":function(e,t,r){"use strict";var n=r("./node_modules/type/value/is.js"),o=r("./node_modules/type/object/is.js"),s=r("./node_modules/type/string/coerce.js"),i=r("./node_modules/type/lib/to-short-string.js"),a=function(e,t){return e.replace("%v",i(t))};e.exports=function(e,t,r){if(!o(r))throw new TypeError(a(t,e));if(!n(e)){if("default"in r)return r.default;if(r.isOptional)return null}var i=s(r.errorMessage);throw n(i)||(i=t),new TypeError(a(i,e))}},"./node_modules/type/lib/safe-to-string.js":function(e,t,r){"use strict";e.exports=function(e){try{return e.toString()}catch(t){try{return String(e)}catch(e){return null}}}},"./node_modules/type/lib/to-short-string.js":function(e,t,r){"use strict";var n=r("./node_modules/type/lib/safe-to-string.js"),o=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=n(e);return null===t?"<Non-coercible to string value>":(t.length>100&&(t=t.slice(0,99)+"…"),t=t.replace(o,(function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},"./node_modules/type/object/is.js":function(e,t,r){"use strict";var n=r("./node_modules/type/value/is.js"),o={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!n(e)&&hasOwnProperty.call(o,typeof e)}},"./node_modules/type/plain-function/ensure.js":function(e,t,r){"use strict";var n=r("./node_modules/type/lib/resolve-exception.js"),o=r("./node_modules/type/plain-function/is.js");e.exports=function(e){return o(e)?e:n(e,"%v is not a plain function",arguments[1])}},"./node_modules/type/plain-function/is.js":function(e,t,r){"use strict";var n=r("./node_modules/type/function/is.js"),o=/^\s*class[\s{/}]/,s=Function.prototype.toString;e.exports=function(e){return!!n(e)&&!o.test(s.call(e))}},"./node_modules/type/prototype/is.js":function(e,t,r){"use strict";var n=r("./node_modules/type/object/is.js");e.exports=function(e){if(!n(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},"./node_modules/type/string/coerce.js":function(e,t,r){"use strict";var n=r("./node_modules/type/value/is.js"),o=r("./node_modules/type/object/is.js"),s=Object.prototype.toString;e.exports=function(e){if(!n(e))return null;if(o(e)){var t=e.toString;if("function"!=typeof t)return null;if(t===s)return null}try{return""+e}catch(e){return null}}},"./node_modules/type/value/ensure.js":function(e,t,r){"use strict";var n=r("./node_modules/type/lib/resolve-exception.js"),o=r("./node_modules/type/value/is.js");e.exports=function(e){return o(e)?e:n(e,"Cannot use %v",arguments[1])}},"./node_modules/type/value/is.js":function(e,t,r){"use strict";e.exports=function(e){return null!=e}},"./node_modules/url/url.js":function(e,t,r){"use strict";var n=r("./node_modules/punycode/punycode.js"),o=r("./node_modules/url/util.js");function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){o.isString(e)&&(e=b(e));return e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(l),c=["%","/","?",";","#"].concat(d),f=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=r("./node_modules/querystring-es3/index.js");function b(e,t,r){if(e&&o.isObject(e)&&e instanceof s)return e;var n=new s;return n.parse(e,t,r),n}s.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(a);if(b=b.trim(),!r&&1===e.split("#").length){var v=u.exec(b);if(v)return this.path=b,this.href=b,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var j=i.exec(b);if(j){var w=(j=j[0]).toLowerCase();this.protocol=w,b=b.substr(j.length)}if(r||j||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===b.substr(0,2);!k||j&&g[j]||(b=b.substr(2),this.slashes=!0)}if(!g[j]&&(k||j&&!y[j])){for(var x,S,E=-1,I=0;I<f.length;I++){-1!==(C=b.indexOf(f[I]))&&(-1===E||C<E)&&(E=C)}-1!==(S=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(x=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(x)),E=-1;for(I=0;I<c.length;I++){var C;-1!==(C=b.indexOf(c[I]))&&(-1===E||C<E)&&(E=C)}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var R=this.hostname.split(/\./),O=(I=0,R.length);I<O;I++){var T=R[I];if(T&&!T.match(h)){for(var A="",P=0,q=T.length;P<q;P++)T.charCodeAt(P)>127?A+="x":A+=T[P];if(!A.match(h)){var U=R.slice(0,I),N=R.slice(I+1),B=T.match(p);B&&(U.push(B[1]),N.unshift(B[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=n.toASCII(this.hostname));var L=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+L,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(I=0,O=d.length;I<O;I++){var D=d[I];if(-1!==b.indexOf(D)){var z=encodeURIComponent(D);z===D&&(z=escape(D)),b=b.split(D).join(z)}}var G=b.indexOf("#");-1!==G&&(this.hash=b.substr(G),b=b.slice(0,G));var H=b.indexOf("?");if(-1!==H?(this.search=b.substr(H),this.query=b.substr(H+1),t&&(this.query=_.parse(this.query)),b=b.slice(0,H)):t&&(this.search="",this.query={}),b&&(this.pathname=b),y[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){L=this.pathname||"";var V=this.search||"";this.path=L+V}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,i="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(i=_.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},s.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(o.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var r=new s,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var d=u[l];"protocol"!==d&&(r[d]=e[d])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){for(var c=Object.keys(e),f=0;f<c.length;f++){var h=c[f];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",_=r.search||"";r.path=m+_}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),j=v||b||r.host&&e.pathname,w=j,k=r.pathname&&r.pathname.split("/")||[],x=(p=e.pathname&&e.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(x&&(r.hostname="",r.port=null,r.host&&(""===k[0]?k[0]=r.host:k.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),j=j&&(""===p[0]||""===k[0])),v)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,k=p;else if(p.length)k||(k=[]),k.pop(),k=k.concat(p),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(x)r.hostname=r.host=k.shift(),(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift());return r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!k.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var S=k.slice(-1)[0],E=(r.host||e.host||k.length>1)&&("."===S||".."===S)||""===S,I=0,C=k.length;C>=0;C--)"."===(S=k[C])?k.splice(C,1):".."===S?(k.splice(C,1),I++):I&&(k.splice(C,1),I--);if(!j&&!w)for(;I--;I)k.unshift("..");!j||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),E&&"/"!==k.join("/").substr(-1)&&k.push("");var M,R=""===k[0]||k[0]&&"/"===k[0].charAt(0);x&&(r.hostname=r.host=R?"":k.length?k.shift():"",(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift()));return(j=j||r.host&&k.length)&&!R&&k.unshift(""),k.length?r.pathname=k.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},"./node_modules/url/util.js":function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},"./node_modules/util-deprecate/browser.js":function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./node_modules/webpack/buildin/module.js":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"./node_modules/websocket-stream/stream.js":function(e,t,r){"use strict";(function(t,n){var o=r("./node_modules/readable-stream/readable-browser.js").Transform,s=r("./node_modules/duplexify/index.js"),i=r("./node_modules/websocket-stream/ws-fallback.js"),a=r("./node_modules/safe-buffer/index.js").Buffer;e.exports=function(e,r,u){var l,d,c="browser"===t.title,f=!!n.WebSocket,h=c?function e(t,r,n){if(d.bufferedAmount>m)return void setTimeout(e,g,t,r,n);y&&"string"==typeof t&&(t=a.from(t,"utf8"));try{d.send(t)}catch(e){return n(e)}n()}:function(e,t,r){if(d.readyState!==d.OPEN)return void r();y&&"string"==typeof e&&(e=a.from(e,"utf8"));d.send(e,r)};r&&!Array.isArray(r)&&"object"==typeof r&&(u=r,r=null,("string"==typeof u.protocol||Array.isArray(u.protocol))&&(r=u.protocol));u||(u={});void 0===u.objectMode&&(u.objectMode=!(!0===u.binary||void 0===u.binary));var p=function(e,t,r){var n=new o({objectMode:e.objectMode});return n._write=t,n._flush=r,n}(u,h,(function(e){d.close(),e()}));u.objectMode||(p._writev=_);var m=u.browserBufferSize||524288,g=u.browserBufferTimeout||1e3;"object"==typeof e?d=e:(d=f&&c?new i(e,r):new i(e,r,u)).binaryType="arraybuffer";d.readyState===d.OPEN?l=p:(l=l=s(void 0,void 0,u),u.objectMode||(l._writev=_),d.onopen=function(){l.setReadable(p),l.setWritable(p),l.emit("connect")});l.socket=d,d.onclose=function(){l.end(),l.destroy()},d.onerror=function(e){l.destroy(e)},d.onmessage=function(e){var t=e.data;t=t instanceof ArrayBuffer?a.from(t):a.from(t,"utf8");p.push(t)},p.on("close",(function(){d.close()}));var y=!u.objectMode;function _(e,t){for(var r=new Array(e.length),n=0;n<e.length;n++)"string"==typeof e[n].chunk?r[n]=a.from(e[n],"utf8"):r[n]=e[n].chunk;this._write(a.concat(r),"binary",t)}return l}}).call(this,r("./node_modules/process/browser.js"),r("./node_modules/webpack/buildin/global.js"))},"./node_modules/websocket-stream/ws-fallback.js":function(e,t){var r=null;"undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof MozWebSocket?r=MozWebSocket:"undefined"!=typeof window&&(r=window.WebSocket||window.MozWebSocket),e.exports=r},"./node_modules/wrappy/wrappy.js":function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),o=e[e.length-1];return"function"==typeof n&&n!==o&&Object.keys(o).forEach((function(e){n[e]=o[e]})),n}}},"./node_modules/xtend/immutable.js":function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var o in n)r.call(n,o)&&(e[o]=n[o])}return e};var r=Object.prototype.hasOwnProperty},"./weichatPb/protobuf.js":function(e,t,r){"use strict";e.exports=function(){var e={};function t(t,r,n){return"function"==typeof r?(n=r,r=new e.Root):r||(r=new e.Root),r.load(t,n)}function n(t,r){return r||(r=new e.Root),r.loadSync(t)}function o(t,r,n){return"function"==typeof r?(n=r,r=new e.Root):r||(r=new e.Root),r.parseFromPbString(t,n)}function s(){e.converter._configure(),e.decoder._configure(),e.encoder._configure(),e.Field._configure(),e.MapField._configure(),e.Message._configure(),e.Namespace._configure(),e.Method._configure(),e.ReflectionObject._configure(),e.OneOf._configure(),e.parse._configure(),e.Reader._configure(),e.Root._configure(),e.Service._configure(),e.verifier._configure(),e.Type._configure(),e.types._configure(),e.wrappers._configure(),e.Writer._configure()}if(e.build="minimal",e.Writer=r("./weichatPb/src/writer.js"),e.encoder=r("./weichatPb/src/encoder.js"),e.Reader=r("./weichatPb/src/reader.js"),e.util=r("./weichatPb/src/util.js"),e.rpc=r("./weichatPb/src/rpc/service.js"),e.roots=r("./weichatPb/src/roots.js"),e.verifier=r("./weichatPb/src/verifier.js"),e.tokenize=r("./weichatPb/src/tokenize.js"),e.parse=r("./weichatPb/src/parse.js"),e.common=r("./weichatPb/src/common.js"),e.ReflectionObject=r("./weichatPb/src/object.js"),e.Namespace=r("./weichatPb/src/namespace.js"),e.Root=r("./weichatPb/src/root.js"),e.Enum=r("./weichatPb/src/enum.js"),e.Type=r("./weichatPb/src/type.js"),e.Field=r("./weichatPb/src/field.js"),e.OneOf=r("./weichatPb/src/oneof.js"),e.MapField=r("./weichatPb/src/mapField.js"),e.Service=r("./weichatPb/src/service.js"),e.Method=r("./weichatPb/src/method.js"),e.converter=r("./weichatPb/src/converter.js"),e.decoder=r("./weichatPb/src/decoder.js"),e.Message=r("./weichatPb/src/message.js"),e.wrappers=r("./weichatPb/src/wrappers.js"),e.types=r("./weichatPb/src/types.js"),e.util=r("./weichatPb/src/util.js"),e.configure=s,e.load=t,e.loadSync=n,e.parseFromPbString=o,s(),arguments&&arguments.length)for(var i=0;i<arguments.length;i++){var a=arguments[i];if(a.hasOwnProperty("exports"))return void(a.exports=e)}return e}()},"./weichatPb/src/EventEmitter.js":function(e,t,r){"use strict";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},"./weichatPb/src/asPromise.js":function(e,t,r){"use strict";var n,o=r("./node_modules/babel-runtime/core-js/promise.js"),s=(n=o)&&n.__esModule?n:{default:n};e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,o=2,i=!0;for(;o<arguments.length;)r[n++]=arguments[o++];return new s.default((function(o,s){r[n]=function(e){if(i)if(i=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,s(e))}}))}},"./weichatPb/src/base64.js":function(e,t,r){"use strict";var n=e.exports;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var o=new Array(64),s=new Array(123),i=0;i<64;)s[o[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(e,t,r){for(var n,s=null,i=[],a=0,u=0;t<r;){var l=e[t++];switch(u){case 0:i[a++]=o[l>>2],n=(3&l)<<4,u=1;break;case 1:i[a++]=o[n|l>>4],n=(15&l)<<2,u=2;break;case 2:i[a++]=o[n|l>>6],i[a++]=o[63&l],u=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,i)),a=0)}return u&&(i[a++]=o[n],i[a++]=61,1===u&&(i[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,i.slice(0,a))),s.join("")):String.fromCharCode.apply(String,i.slice(0,a))};n.decode=function(e,t,r){for(var n,o=r,i=0,a=0;a<e.length;){var u=e.charCodeAt(a++);if(61===u&&i>1)break;if(void 0===(u=s[u]))throw Error("invalid encoding");switch(i){case 0:n=u,i=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,i=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,i=3;break;case 3:t[r++]=(3&n)<<6|u,i=0}}if(1===i)throw Error("invalid encoding");return r-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},"./weichatPb/src/common.js":function(e,t,r){"use strict";e.exports=s;var n,o=/\/|\./;function s(e,t){o.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),s[e]=t}s("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),s("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),s("timestamp",{Timestamp:n}),s("empty",{Empty:{fields:{}}}),s("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),s("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),s("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),s.get=function(e){return s[e]||null}},"./weichatPb/src/converter.js":function(e,t,r){"use strict";var n=s(r("./node_modules/babel-runtime/helpers/typeof.js")),o=s(r("./node_modules/babel-runtime/core-js/object/keys.js"));function s(e){return e&&e.__esModule?e:{default:e}}var i,a,u=e.exports;function l(e,t,r,s){var u=s.m,l=s.d,d=s.types,c=s.ksi,f=void 0!==c;if(e.resolvedType)if(e.resolvedType instanceof i){for(var h=f?l[r][c]:l[r],p=e.resolvedType.values,m=(0,o.default)(p),g=0;g<m.length;g++)if(!(e.repeated&&p[m[g]]===e.typeDefault||m[g]!=h&&p[m[g]]!=h)){f?u[r][c]=p[m[g]]:u[r]=p[m[g]];break}}else{if("object"!==(0,n.default)(f?l[r][c]:l[r]))throw TypeError(e.fullName+": object expected");f?u[r][c]=d[t].fromObject(l[r][c]):u[r]=d[t].fromObject(l[r])}else{var y=!1;switch(e.type){case"double":case"float":f?u[r][c]=Number(l[r][c]):u[r]=Number(l[r]);break;case"uint32":case"fixed32":f?u[r][c]=l[r][c]>>>0:u[r]=l[r]>>>0;break;case"int32":case"sint32":case"sfixed32":f?u[r][c]=0|l[r][c]:u[r]=0|l[r];break;case"uint64":y=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":a.Long?f?u[r][c]=a.Long.fromValue(l[r][c]).unsigned=y:u[r]=a.Long.fromValue(l[r]).unsigned=y:"string"==typeof(f?l[r][c]:l[r])?f?u[r][c]=parseInt(l[r][c],10):u[r]=parseInt(l[r],10):"number"==typeof(f?l[r][c]:l[r])?f?u[r][c]=l[r][c]:u[r]=l[r]:"object"===(0,n.default)(f?l[r][c]:l[r])&&(f?u[r][c]=new a.LongBits(l[r][c].low>>>0,l[r][c].high>>>0).toNumber(y):u[r]=new a.LongBits(l[r].low>>>0,l[r].high>>>0).toNumber(y));break;case"bytes":"string"==typeof(f?l[r][c]:l[r])?f?a.base64.decode(l[r][c],u[r][c]=a.newBuffer(a.base64.length(l[r][c])),0):a.base64.decode(l[r],u[r]=a.newBuffer(a.base64.length(l[r])),0):(f?l[r][c]:l[r]).length&&(f?u[r][c]=l[r][c]:u[r]=l[r]);break;case"string":f?u[r][c]=String(l[r][c]):u[r]=String(l[r]);break;case"bool":f?u[r][c]=Boolean(l[r][c]):u[r]=Boolean(l[r])}}}function d(e,t,r,n){var o=n.m,s=n.d,u=n.types,l=n.ksi,d=n.o,c=void 0!==l;if(e.resolvedType)e.resolvedType instanceof i?c?s[r][l]=d.enums===String?u[t].values[o[r][l]]:o[r][l]:s[r]=d.enums===String?u[t].values[o[r]]:o[r]:c?s[r][l]=u[t].toObject(o[r][l],d):s[r]=u[t].toObject(o[r],d);else{var f=!1;switch(e.type){case"double":case"float":c?s[r][l]=d.json&&!isFinite(o[r][l])?String(o[r][l]):o[r][l]:s[r]=d.json&&!isFinite(o[r])?String(o[r]):o[r];break;case"uint64":f=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":"number"==typeof o[r][l]?c?s[r][l]=d.longs===String?String(o[r][l]):o[r][l]:s[r]=d.longs===String?String(o[r]):o[r]:c?s[r][l]=d.longs===String?a.Long.prototype.toString.call(o[r][l]):d.longs===Number?new a.LongBits(o[r][l].low>>>0,o[r][l].high>>>0).toNumber(f):o[r][l]:s[r]=d.longs===String?a.Long.prototype.toString.call(o[r]):d.longs===Number?new a.LongBits(o[r].low>>>0,o[r].high>>>0).toNumber(f):o[r];break;case"bytes":c?s[r][l]=d.bytes===String?a.base64.encode(o[r][l],0,o[r][l].length):d.bytes===Array?Array.prototype.slice.call(o[r][l]):o[r][l]:s[r]=d.bytes===String?a.base64.encode(o[r],0,o[r].length):d.bytes===Array?Array.prototype.slice.call(o[r]):o[r];break;default:c?s[r][l]=o[r][l]:s[r]=o[r]}}}u._configure=function(){i=r("./weichatPb/src/enum.js"),a=r("./weichatPb/src/util.js")},u.fromObject=function(e){var t=e.fieldsArray;return function(e){return function(r){if(r instanceof this.ctor)return r;if(!t.length)return new this.ctor;for(var s=new this.ctor,u=0;u<t.length;++u){var d,c=t[u].resolve(),f=c.name;if(c.map){if(r[f]){if("object"!==(0,n.default)(r[f]))throw TypeError(c.fullName+": object expected");s[f]={}}var h=(0,o.default)(r[f]);for(d=0;d<h.length;++d)l(c,u,f,a.merge(a.copy(e),{m:s,d:r,ksi:h[d]}))}else if(c.repeated){if(r[f]){if(!Array.isArray(r[f]))throw TypeError(c.fullName+": array expected");for(s[f]=[],d=0;d<r[f].length;++d)l(c,u,f,a.merge(a.copy(e),{m:s,d:r,ksi:d}))}}else(c.resolvedType instanceof i||null!=r[f])&&l(c,u,f,a.merge(a.copy(e),{m:s,d:r}))}return s}}},u.toObject=function(e){var t=e.fieldsArray.slice().sort(a.compareFieldsById);return function(r){return t.length?function(n,s){s=s||{};for(var u,l,c={},f=[],h=[],p=[],m=0;m<t.length;++m)t[m].partOf||(t[m].resolve().repeated?f:t[m].map?h:p).push(t[m]);if(f.length&&(s.arrays||s.defaults))for(m=0;m<f.length;++m)c[f[m].name]=[];if(h.length&&(s.objects||s.defaults))for(m=0;m<h.length;++m)c[h[m].name]={};if(p.length&&s.defaults)for(m=0;m<p.length;++m)if(l=(u=p[m]).name,u.resolvedType instanceof i)c[l]=s.enums=String?u.resolvedType.valuesById[u.typeDefault]:u.typeDefault;else if(u.long)if(a.Long){var g=new a.Long(u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned);c[l]=s.longs===String?g.toString():s.longs===Number?g.toNumber():g}else c[l]=s.longs===String?u.typeDefault.toString():u.typeDefault.toNumber();else u.bytes?c[l]=s.bytes===String?String.fromCharCode.apply(String,u.typeDefault):Array.prototype.slice.call(u.typeDefault).join("*..*").split("*..*"):c[l]=u.typeDefault;var y=!1;for(m=0;m<t.length;++m){l=(u=t[m]).name;var _,b,v=e._fieldsArray.indexOf(u);if(u.map){if(y||(y=!0),n[l]&&(_=(0,o.default)(n[l]).length))for(c[l]={},b=0;b<_.length;++b)d(u,v,l,a.merge(a.copy(r),{m:n,d:c,ksi:_[b],o:s}))}else if(u.repeated){if(n[l]&&n[l].length)for(c[l]=[],b=0;b<n[l].length;++b)d(u,v,l,a.merge(a.copy(r),{m:n,d:c,ksi:b,o:s}))}else null!=n[l]&&n.hasOwnProperty(l)&&d(u,v,l,a.merge(a.copy(r),{m:n,d:c,o:s})),u.partOf&&s.oneofs&&(c[u.partOf.name]=l)}return c}:function(){return{}}}}},"./weichatPb/src/decoder.js":function(e,t,r){"use strict";var n,o,s,i,a=r("./node_modules/babel-runtime/helpers/typeof.js"),u=(n=a)&&n.__esModule?n:{default:n};function l(e){return"missing required '"+e.name+"'"}function d(e){return function(t){var r=t.Reader,n=t.types,a=t.util;return function(t,d){t instanceof r||(t=r.create(t));for(var c,f=void 0===d?t.len:t.pos+d,h=new this.ctor;t.pos<f;){var p=t.uint32();if(e.group&&4==(7&p))break;for(var m=p>>>3,g=0,y=!1;g<e.fieldsArray.length;++g){var _=e._fieldsArray[g].resolve(),b=_.name,v=_.resolvedType instanceof o?"int32":_.type;if(m==_.id){if(y=!0,_.map)t.skip().pos++,h[b]===a.emptyObject&&(h[b]={}),c=t[_.keyType](),t.pos++,null!=s.long[_.keyType]?null==s.basic[v]?h[b]["object"===(void 0===c?"undefined":(0,u.default)(c))?a.longToHash(c):c]=n[g].decode(t,t.uint32()):h[b]["object"===(void 0===c?"undefined":(0,u.default)(c))?a.longToHash(c):c]=t[v]():null==s.basic[v]?h[b]=n[g].decode(t,t.uint32()):h[b]=t[v]();else if(_.repeated)if(h[b]&&h[b].length||(h[b]=[]),null!=s.packed[v]&&2==(7&p))for(var j=t.uint32()+t.pos;t.pos<j;)h[b].push(t[v]());else null==s.basic[v]?_.resolvedType.group?h[b].push(n[g].decode(t)):h[b].push(n[g].decode(t,t.uint32())):h[b].push(t[v]());else null==s.basic[v]?_.resolvedType.group?h[b]=n[g].decode(t):h[b]=n[g].decode(t,t.uint32()):h[b]=t[v]();break}}y||(console.log("t",p),t.skipType(7&p))}for(g=0;g<e._fieldsArray.length;++g){var w=e._fieldsArray[g];if(w.required&&!h.hasOwnProperty(w.name))throw i.ProtocolError(l(w),{instance:h})}return h}}}e.exports=d,d._configure=function(){o=r("./weichatPb/src/enum.js"),s=r("./weichatPb/src/types.js"),i=r("./weichatPb/src/util.js")}},"./weichatPb/src/encoder.js":function(e,t,r){"use strict";var n,o,s,i=r("./node_modules/babel-runtime/core-js/object/keys.js"),a=(n=i)&&n.__esModule?n:{default:n};function u(e){return function(t){var r=t.Writer,n=t.types,i=t.util;return function(t,u){u=u||r.create();for(var l=e.fieldsArray.slice().sort(i.compareFieldsById),d=0;d<l.length;d++){var c=l[d],f=e._fieldsArray.indexOf(c),h=c.resolvedType instanceof o?"uint32":c.type,p=s.basic[h],m=t[c.name];if(c.resolvedType instanceof o&&"string"==typeof m&&(m=n[f].values[m]),c.map){if(null!=m&&t.hasOwnProperty(c.name))for(var g=(0,a.default)(m),y=0;y<g.length;++y)u.uint32((c.id<<3|2)>>>0).fork().uint32(8|s.mapKey[c.keyType])[c.keyType](g[y]),void 0===p?n[f].encode(m[g[y]],u.uint32(18).fork()).ldelim().ldelim():u.uint32(16|p)[h](m[g[y]]).ldelim()}else if(c.repeated){if(m&&m.length)if(c.packed&&void 0!==s.packed[h]){u.uint32((c.id<<3|2)>>>0).fork();for(var _=0;_<m.length;_++)u[h](m[_]);u.ldelim()}else for(var b=0;b<m.length;b++)void 0===p?c.resolvedType.group?n[f].encode(m[b],u.uint32((c.id<<3|3)>>>0)).uint32((c.id<<3|4)>>>0):n[f].encode(m[b],u.uint32((c.id<<3|2)>>>0).fork()).ldelim():u.uint32((c.id<<3|p)>>>0)[h](m[b])}else(!c.optional||null!=m&&t.hasOwnProperty(c.name))&&(c.optional||null!=m&&t.hasOwnProperty(c.name)||console.warn("注意啦!!!很大概率会报错 类型:",t.$type?t.$type.name:"不晓得","没有设置对应的属性:",c.name,"检查是不是proto文件属性设置为了required"),void 0===p?c.resolvedType.group?n[f].encode(m,u.uint32((c.id<<3|3)>>>0)).uint32((c.id<<3|4)>>>0):n[f].encode(m,u.uint32((c.id<<3|2)>>>0).fork()).ldelim():u.uint32((c.id<<3|p)>>>0)[h](m))}return u}}}e.exports=u,u._configure=function(){o=r("./weichatPb/src/enum.js"),s=r("./weichatPb/src/types.js")}},"./weichatPb/src/enum.js":function(e,t,r){"use strict";var n=i(r("./node_modules/babel-runtime/core-js/object/keys.js")),o=i(r("./node_modules/babel-runtime/helpers/typeof.js")),s=i(r("./node_modules/babel-runtime/core-js/object/create.js"));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=l;var a=r("./weichatPb/src/object.js");((l.prototype=(0,s.default)(a.prototype)).constructor=l).className="Enum";var u=r("./weichatPb/src/namespace.js");function l(e,t,r,i,u){if(a.call(this,e,r),t&&"object"!==(void 0===t?"undefined":(0,o.default)(t)))throw TypeError("values must be an object");if(this.valuesById={},this.values=(0,s.default)(this.valuesById),this.comment=i,this.comments=u||{},this.reserved=void 0,t)for(var l=(0,n.default)(t),d=0;d<l.length;++d)"number"==typeof t[l[d]]&&(this.valuesById[this.values[l[d]]=t[l[d]]]=l[d])}l.fromJSON=function(e,t){var r=new l(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return util.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},l.prototype.add=function(e,t,r){if(!util.isString(e))throw TypeError("name must be a string");if(!util.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},l.prototype.remove=function(e){if(!util.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},l.prototype.isReservedId=function(e){return u.isReservedId(this.reserved,e)},l.prototype.isReservedName=function(e){return u.isReservedName(this.reserved,e)}},"./weichatPb/src/field.js":function(e,t,r){"use strict";var n=a(r("./node_modules/babel-runtime/helpers/typeof.js")),o=a(r("./node_modules/babel-runtime/core-js/object/freeze.js")),s=a(r("./node_modules/babel-runtime/core-js/object/keys.js")),i=a(r("./node_modules/babel-runtime/core-js/object/create.js"));function a(e){return e&&e.__esModule?e:{default:e}}e.exports=p;var u,l,d,c,f=r("./weichatPb/src/object.js");((p.prototype=(0,i.default)(f.prototype)).constructor=p).className="Field";var h=/^required|optional|repeated$/;function p(e,t,r,n,o,s,i){if(d.isObject(n)?(i=o,s=n,n=o=void 0):d.isObject(o)&&(i=s,s=o,o=void 0),f.call(this,e,s),!d.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!d.isString(r))throw TypeError("type must be a string");if(void 0!==n&&!h.test(n=n.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==o&&!d.isString(o))throw TypeError("extend must be a string");this.rule=n&&"optional"!==n?n:void 0,this.type=r,this.id=t,this.extend=o||void 0,this.required="required"===n,this.optional=!this.required,this.repeated="repeated"===n,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!d.Long&&void 0!==l.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=i}p.fromJSON=function(e,t){return new p(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(p.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),p.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),f.prototype.setOption.call(this,e,t,r)},p.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return d.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},p.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=l.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof c?this.typeDefault=null:this.typeDefault=this.resolvedType.values[(0,s.default)(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof u&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof u)||delete this.options.packed,(0,s.default)(this.options).length||(this.options=void 0)),this.long)this.typeDefault=d.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),o.default&&(0,o.default)(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;d.utf8.write(this.typeDefault,e=d.newBuffer(d.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=d.emptyObject:this.repeated?this.defaultValue=d.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof c&&(this.parent.ctor.prototype[this.name]=this.defaultValue),f.prototype.resolve.call(this)},p.d=function(e,t,r,o){return"function"==typeof t?t=d.decorateType(t).name:t&&"object"===(void 0===t?"undefined":(0,n.default)(t))&&(t=d.decorateEnum(t).name),function(n,s){d.decorateType(n.constructor).add(new p(s,e,t,r,{default:o}))}},p._configure=function(){c=r("./weichatPb/src/type.js"),u=r("./weichatPb/src/enum.js"),l=r("./weichatPb/src/types.js"),d=r("./weichatPb/src/util.js")}},"./weichatPb/src/float.js":function(e,t,r){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function s(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function i(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:s,e.writeFloatBE=n?s:o,e.readFloatLE=n?i:a,e.readFloatBE=n?a:i}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var s=Math.floor(Math.log(t)/Math.LN2);e((o<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=2*(n>>31)+1,s=n>>>23&255,i=8388607&n;return 255===s?i?NaN:o*(1/0):0===s?1401298464324817e-60*o*i:o*Math.pow(2,s-150)*(i+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,s),e.readFloatLE=r.bind(null,i),e.readFloatBE=r.bind(null,a)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function s(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function i(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:s,e.writeDoubleBE=n?s:o,e.readDoubleLE=n?i:a,e.readDoubleBE=n?a:i}():function(){function t(e,t,r,n,o,s){var i=n<0?1:0;if(i&&(n=-n),0===n)e(0,o,s+t),e(1/n>0?0:2147483648,o,s+r);else if(isNaN(n))e(0,o,s+t),e(2146959360,o,s+r);else if(n>17976931348623157e292)e(0,o,s+t),e((i<<31|2146435072)>>>0,o,s+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,o,s+t),e((i<<31|a/4294967296)>>>0,o,s+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(a=n*Math.pow(2,-u))>>>0,o,s+t),e((i<<31|u+1023<<20|1048576*a&1048575)>>>0,o,s+r)}}}function r(e,t,r,n,o){var s=e(n,o+t),i=e(n,o+r),a=2*(i>>31)+1,u=i>>>20&2047,l=4294967296*(1048575&i)+s;return 2047===u?l?NaN:a*(1/0):0===u?5e-324*a*l:a*Math.pow(2,u-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,s,4,0),e.readDoubleLE=r.bind(null,i,0,4),e.readDoubleBE=r.bind(null,a,4,0)}(),e}function o(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function s(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function a(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},"./weichatPb/src/long.js":function(e,t,r){"use strict";e.exports=o;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function o(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function s(e){return!0===(e&&e.__isLong__)}o.prototype.__isLong__,Object.defineProperty(o.prototype,"__isLong__",{value:!0}),o.isLong=s;var i={},a={};function u(e,t){var r,n,o;return t?(o=0<=(e>>>=0)&&e<256)&&(n=a[e])?n:(r=d(e,(0|e)<0?-1:0,!0),o&&(a[e]=r),r):(o=-128<=(e|=0)&&e<128)&&(n=i[e])?n:(r=d(e,e<0?-1:0,!1),o&&(i[e]=r),r)}function l(e,t){if(isNaN(e))return t?b:_;if(t){if(e<0)return b;if(e>=m)return x}else{if(e<=-g)return S;if(e+1>=g)return k}return e<0?l(-e,t).neg():d(e%p|0,e/p|0,t)}function d(e,t,r){return new o(e,t,r)}o.fromInt=u,o.fromNumber=l,o.fromBits=d;var c=Math.pow;function f(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return _;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return f(e.substring(1),t,r).neg();for(var o=l(c(r,8)),s=_,i=0;i<e.length;i+=8){var a=Math.min(8,e.length-i),u=parseInt(e.substring(i,i+a),r);if(a<8){var d=l(c(r,a));s=s.mul(d).add(l(u))}else s=(s=s.mul(o)).add(l(u))}return s.unsigned=t,s}function h(e,t){return"number"==typeof e?l(e,t):"string"==typeof e?f(e,t):d(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}o.fromString=f,o.fromValue=h;var p=4294967296,m=p*p,g=m/2,y=u(1<<24),_=u(0);o.ZERO=_;var b=u(0,!0);o.UZERO=b;var v=u(1);o.ONE=v;var j=u(1,!0);o.UONE=j;var w=u(-1);o.NEG_ONE=w;var k=d(-1,2147483647,!1);o.MAX_VALUE=k;var x=d(-1,-1,!0);o.MAX_UNSIGNED_VALUE=x;var S=d(0,-2147483648,!1);o.MIN_VALUE=S;var E=o.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=l(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=l(c(e,6),this.unsigned),s=this,i="";;){var a=s.div(o),u=(s.sub(a.mul(o)).toInt()>>>0).toString(e);if((s=a).isZero())return u+i;for(;u.length<6;)u="0"+u;i=""+u+i}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1==(1&this.low)},E.isEven=function(){return 0==(1&this.low)},E.equals=function(e){return s(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&(this.high===e.high&&this.low===e.low)},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(s(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(v)},E.neg=E.negate,E.add=function(e){s(e)||(e=h(e));var t=this.high>>>16,r=65535&this.high,n=this.low>>>16,o=65535&this.low,i=e.high>>>16,a=65535&e.high,u=e.low>>>16,l=0,c=0,f=0,p=0;return f+=(p+=o+(65535&e.low))>>>16,c+=(f+=n+u)>>>16,l+=(c+=r+a)>>>16,l+=t+i,d((f&=65535)<<16|(p&=65535),(l&=65535)<<16|(c&=65535),this.unsigned)},E.subtract=function(e){return s(e)||(e=h(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return _;if(s(e)||(e=h(e)),n)return d(n.mul(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned);if(e.isZero())return _;if(this.eq(S))return e.isOdd()?S:_;if(e.eq(S))return this.isOdd()?S:_;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return l(this.toNumber()*e.toNumber(),this.unsigned);var t=this.high>>>16,r=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,u=65535&e.high,c=e.low>>>16,f=65535&e.low,p=0,m=0,g=0,b=0;return g+=(b+=i*f)>>>16,m+=(g+=o*f)>>>16,g&=65535,m+=(g+=i*c)>>>16,p+=(m+=r*f)>>>16,m&=65535,p+=(m+=o*c)>>>16,m&=65535,p+=(m+=i*u)>>>16,p+=t*f+r*c+o*u+i*a,d((g&=65535)<<16|(b&=65535),(p&=65535)<<16|(m&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(s(e)||(e=h(e)),e.isZero())throw Error("division by zero");var t,r,o;if(n)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?d((this.unsigned?n.div_u:n.div_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:_;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return j;o=b}else{if(this.eq(S))return e.eq(v)||e.eq(w)?S:e.eq(S)?v:(t=this.shr(1).div(e).shl(1)).eq(_)?e.isNegative()?v:w:(r=this.sub(e.mul(t)),o=t.add(r.div(e)));if(e.eq(S))return this.unsigned?b:_;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=_}for(r=this;r.gte(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(t)/Math.LN2),a=i<=48?1:c(2,i-48),u=l(t),f=u.mul(e);f.isNegative()||f.gt(r);)f=(u=l(t-=a,this.unsigned)).mul(e);u.isZero()&&(u=v),o=o.add(u),r=r.sub(f)}return o},E.div=E.divide,E.modulo=function(e){return s(e)||(e=h(e)),n?d((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,e.low,e.high),n.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return d(~this.low,~this.high,this.unsigned)},E.and=function(e){return s(e)||(e=h(e)),d(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return s(e)||(e=h(e)),d(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return s(e)||(e=h(e)),d(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?d(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):d(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return s(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?d(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):d(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(s(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?d(this.low>>>e|t<<32-e,t>>>e,this.unsigned):d(32===e?t:t>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?d(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:d(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},o.fromBytes=function(e,t,r){return r?o.fromBytesLE(e,t):o.fromBytesBE(e,t)},o.fromBytesLE=function(e,t){return new o(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},o.fromBytesBE=function(e,t){return new o(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},"./weichatPb/src/longBits.js":function(e,t,r){"use strict";e.exports=o;var n=r("./weichatPb/src/util.js");function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=o.zero=new o(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var i=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){return"number"==typeof e?o.fromNumber(e):"string"==typeof e||e instanceof String?o.fromNumber(parseInt(e,10)):e.low||e.high?new o(e.low>>>0,e.high>>>0):s},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;o.fromHash=function(e){return e===i?s:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},"./weichatPb/src/mapField.js":function(e,t,r){"use strict";var n=s(r("./node_modules/babel-runtime/helpers/typeof.js")),o=s(r("./node_modules/babel-runtime/core-js/object/create.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=l;var i,a,u=r("./weichatPb/src/field.js");function l(e,t,r,n,o,s){if(u.call(this,e,t,n,void 0,void 0,o,s),!a.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}((l.prototype=(0,o.default)(u.prototype)).constructor=l).className="MapField",l.fromJSON=function(e,t){return new l(e,t.id,t.keyType,t.type,t.options,t.comment)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return u.prototype.resolve.call(this)},l.d=function(e,t,r){return"function"==typeof r?r=a.decorateType(r).name:r&&"object"===(void 0===r?"undefined":(0,n.default)(r))&&(r=a.decorateEnum(r).name),function(n,o){a.decorateType(n.constructor).add(new l(o,e,t,r))}},l._configure=function(){i=r("./weichatPb/src/types.js"),a=r("./weichatPb/src/util.js")}},"./weichatPb/src/message.js":function(e,t,r){"use strict";var n,o,s=r("./node_modules/babel-runtime/core-js/object/keys.js"),i=(n=s)&&n.__esModule?n:{default:n};function a(e){if(e)for(var t=(0,i.default)(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}e.exports=a,a.create=function(e){return this.$type.create(e)},a.encode=function(e,t){return arguments.length?1==arguments.length?this.$type.encode(arguments[0]):this.$type.encode(arguments[0],arguments[1]):this.$type.encode(this)},a.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},a.decode=function(e){return this.$type.decode(e)},a.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},a.verify=function(e){return this.$type.verify(e)},a.fromObject=function(e){return this.$type.fromObject(e)},a.toObject=function(e,t){return e=e||this,this.$type.toObject(e,t)},a.prototype.toJSON=function(){return this.$type.toObject(this,o.toJSONOptions)},a.set=function(e,t){a[e]=t},a.get=function(e){return a[e]},a._configure=function(){o=r("./weichatPb/src/util.js")}},"./weichatPb/src/method.js":function(e,t,r){"use strict";var n,o=r("./node_modules/babel-runtime/core-js/object/create.js"),s=(n=o)&&n.__esModule?n:{default:n};e.exports=u;var i,a=r("./weichatPb/src/object.js");function u(e,t,r,n,o,s,u,l){if(i.isObject(o)?(u=o,o=s=void 0):i.isObject(s)&&(u=s,s=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(n))throw TypeError("responseType must be a string");a.call(this,e,u),this.type=t||"rpc",this.requestType=r,this.requestStream=!!o||void 0,this.responseType=n,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l}((u.prototype=(0,s.default)(a.prototype)).constructor=u).className="Method",u.fromJSON=function(e,t){return new u(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment)},u.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0])},u.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),a.prototype.resolve.call(this))},u._configure=function(){i=r("./weichatPb/src/util.js")}},"./weichatPb/src/namespace.js":function(e,t,r){"use strict";var n=s(r("./node_modules/babel-runtime/core-js/object/keys.js")),o=s(r("./node_modules/babel-runtime/core-js/object/create.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=h;var i,a,u,l,d,c=r("./weichatPb/src/object.js");function f(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function h(e,t){c.call(this,e,t),this.nested=void 0,this._nestedArray=null}function p(e){return e._nestedArray=null,e}((h.prototype=(0,o.default)(c.prototype)).constructor=h).className="Namespace",h.fromJSON=function(e,t){return new h(e,t.options).addJSON(t.nested)},h.arrayToJSON=f,h.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>=t)return!0;return!1},h.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(h.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),h.prototype.toJSON=function(e){return u.toObject(["options",this.options,"nested",f(this.nestedArray,e)])},h.prototype.addJSON=function(e){if(e)for(var t,r=(0,n.default)(e),o=0;o<r.length;++o)t=e[r[o]],this.add((void 0!==t.fields?l.fromJSON:void 0!==t.values?i.fromJSON:void 0!==t.methods?d.fromJSON:void 0!==t.id?a.fromJSON:h.fromJSON)(r[o],t));return this},h.prototype.get=function(e){return this.nested&&this.nested[e]||null},h.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof i)return this.nested[e].values;throw Error("no such enum: "+e)},h.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof l||e instanceof i||e instanceof d||e instanceof h))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof h&&e instanceof h)||t instanceof l||t instanceof d)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),p(this)},h.prototype.remove=function(e){if(!(e instanceof c))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],(0,n.default)(this.nested).length||(this.nested=void 0),e.onRemove(this),p(this)},h.prototype.define=function(e,t){if(u.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof h))throw Error("path conflicts with non-namespace objects")}else r.add(r=new h(n))}return t&&r.addJSON(t),r},h.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof h?e[t++].resolveAll():e[t++].resolve();return this.resolve()},h.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof h&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof h&&(n=this._nestedArray[o].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},h.prototype.lookupType=function(e){var t=this.lookup(e,[l]);if(!t)throw Error("no such type: "+e);return t},h.prototype.lookupEnum=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},h.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[l,i]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},h.prototype.lookupService=function(e){var t=this.lookup(e,[d]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},h._configure=function(){i=r("./weichatPb/src/enum.js"),a=r("./weichatPb/src/field.js"),u=r("./weichatPb/src/util.js"),l=r("./weichatPb/src/type.js"),d=r("./weichatPb/src/service.js")}},"./weichatPb/src/object.js":function(e,t,r){"use strict";var n,o,s=a(r("./node_modules/babel-runtime/core-js/object/keys.js")),i=a(r("./node_modules/babel-runtime/core-js/object/define-properties.js"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!n.isString(e))throw TypeError("name must be a string");if(t&&!n.isObject(t))throw TypeError("options must be an object");this.options=t,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}e.exports=u,u.className="ReflectionObject",(0,i.default)(u.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),u.prototype.toJSON=function(){throw Error()},u.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof o&&t._handleAdd(this)},u.prototype.onRemove=function(e){var t=e.root;t instanceof o&&t._handleRemove(this),this.parent=null,this.resolved=!1},u.prototype.resolve=function(){return this.resolved?this:(this.root instanceof o&&(this.resolved=!0),this)},u.prototype.getOption=function(e){if(this.options)return this.options[e]},u.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},u.prototype.setOptions=function(e,t){if(e)for(var r=(0,s.default)(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},u.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},u._configure=function(e){o=r("./weichatPb/src/root.js"),n=r("./weichatPb/src/util.js")}},"./weichatPb/src/oneof.js":function(e,t,r){"use strict";var n=s(r("./node_modules/babel-runtime/core-js/object/define-property.js")),o=s(r("./node_modules/babel-runtime/core-js/object/create.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=l;var i,a,u=r("./weichatPb/src/object.js");function l(e,t,r,n){if(Array.isArray(t)||(r=t,t=void 0),u.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=n}function d(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}((l.prototype=(0,o.default)(u.prototype)).constructor=l).className="OneOf",l.fromJSON=function(e,t){return new l(e,t.oneof,t.options,t.comment)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},l.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,d(this),this},l.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},l.prototype.onAdd=function(e){u.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}d(this)},l.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);u.prototype.onRemove.call(this,e)},l.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){a.decorateType(t.constructor).add(new l(r,e)),(0,n.default)(t,r,{get:a.oneOfGetter(e),set:a.oneOfSetter(e)})}},l._configure=function(){i=r("./weichatPb/src/field.js"),a=r("./weichatPb/src/util.js")}},"./weichatPb/src/parse.js":function(e,t,r){"use strict";var n,o,s,i,a,u,l,d,c,f,h;e.exports=x,x.filename=null,x.defaults={keepCase:!1};var p=/^[1-9][0-9]*$/,m=/^-?[1-9][0-9]*$/,g=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,_=/^0[0-7]+$/,b=/^-?0[0-7]+$/,v=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,j=/^[a-zA-Z_][a-zA-Z_0-9]*$/,w=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)+$/,k=/^(?:\.[a-zA-Z][a-zA-Z_0-9]*)+$/;function x(e,t,r){t instanceof o||(r=t,t=new o),r||(r=x.defaults);var S,E,I,C,M,R=n(e,r.alternateCommentMode||!1),O=R.next,T=R.push,A=R.peek,P=R.skip,q=R.cmnt,U=!0,N=!1,B=t,L=r.keepCase?function(e){return e}:h.camelCase;function F(e,t,r){var n=x.filename;return r||(x.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+R.line+")")}function D(){var e,t=[];do{if('"'!==(e=O())&&"'"!==e)throw F(e);t.push(O()),P(e),e=A()}while('"'===e||"'"===e);return t.join("")}function z(e){var t=O();switch(t){case"'":case'"':return T(t),D();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(p.test(e))return r*parseInt(e,10);if(g.test(e))return r*parseInt(e,16);if(_.test(e))return r*parseInt(e,8);if(v.test(e))return r*parseFloat(e);throw F(e,"number",t)}(t,!0)}catch(r){if(e&&w.test(t))return t;throw F(t,"value")}}function G(e,t){var r,n;do{!t||'"'!==(r=A())&&"'"!==r?e.push([n=H(O()),P("to",!0)?H(O()):n]):e.push(D())}while(P(",",!0));P(";")}function H(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw F(e,"id");if(m.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw F(e,"id")}function V(){if(void 0!==S)throw F("package");if(S=O(),!w.test(S))throw F(S,"name");B=B.define(S),P(";")}function K(){var e,t=A();switch(t){case"weak":e=I||(I=[]),O();break;case"public":O();default:e=E||(E=[])}t=D(),P(";"),e.push(t)}function W(){if(P("="),C=D(),!(N="proto3"===C)&&"proto2"!==C)throw F(C,"syntax");P(";")}function Z(e,t){switch(t){case"option":return $(e,t),P(";"),!0;case"message":return function(e,t){if(!j.test(t=O()))throw F(t,"type name");var r=new s(t);J(r,(function(e){if(!Z(r,e))switch(e){case"map":!function(e){P("<");var t=O();if(void 0===f.mapKey[t])throw F(t,"type");P(",");var r=O();if(!w.test(r))throw F(r,"type");P(">");var n=O();if(!j.test(n))throw F(n,"name");P("=");var o=new a(L(n),H(O()),t,r);J(o,(function(e){if("option"!==e)throw F(e);$(o,e),P(";")}),(function(){ee(o)})),e.add(o)}(r);break;case"required":case"optional":case"repeated":Y(r,e);break;case"oneof":!function(e,t){if(!j.test(t=O()))throw F(t,"name");var r=new u(L(t));J(r,(function(e){"option"===e?($(r,e),P(";")):(T(e),Y(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":G(r.extensions||(r.extensions=[]));break;case"reserved":G(r.reserved||(r.reserved=[]),!0);break;default:if(!N||!w.test(e))throw F(e);T(e),Y(r,"optional")}})),e.add(r)}(e,t),!0;case"enum":return function(e,t){if(!j.test(t=O()))throw F(t,"name");var r=new l(t);J(r,(function(e){switch(e){case"option":$(r,e),P(";");break;case"reserved":G(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!j.test(t))throw F(t,"name");P("=");var r=H(O(),!0),n={};J(n,(function(e){if("option"!==e)throw F(e);$(n,e),P(";")}),(function(){ee(n)})),e.add(t,r,n.comment)}(r,e)}})),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!j.test(t=O()))throw F(t,"service name");var r=new d(t);J(r,(function(e){if(!Z(r,e)){if("rpc"!==e)throw F(e);!function(e,t){var r=t;if(!j.test(t=O()))throw F(t,"name");var n,o,s,i,a=t;P("("),P("stream",!0)&&(o=!0);if(!w.test(t=O()))throw F(t);n=t,P(")"),P("returns"),P("("),P("stream",!0)&&(i=!0);if(!w.test(t=O()))throw F(t);s=t,P(")");var u=new c(a,r,n,s,o,i);J(u,(function(e){if("option"!==e)throw F(e);$(u,e),P(";")})),e.add(u)}(r,e)}})),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!w.test(t=O()))throw F(t,"reference");var r=t;J(null,(function(t){switch(t){case"required":case"repeated":case"optional":Y(e,t,r);break;default:if(!N||!w.test(t))throw F(t);T(t),Y(e,"optional",r)}}))}(e,t),!0}return!1}function J(e,t,r){var n=R.line;if(e&&(e.comment=q(),e.filename=x.filename),P("{",!0)){for(var o;"}"!==(o=O());)t(o);P(";",!0)}else r&&r(),P(";"),e&&"string"!=typeof e.comment&&(e.comment=q(n))}function Y(e,t,r){var n=O();if("group"!==n){if(!w.test(n))throw F(n,"type");var o=O();if(!j.test(o))throw F(o,"name");o=L(o),P("=");var a=new i(o,H(O()),n,t,r);J(a,(function(e){if("option"!==e)throw F(e);$(a,e),P(";")}),(function(){ee(a)})),e.add(a),N||!a.repeated||void 0===f.packed[n]&&void 0!==f.basic[n]||a.setOption("packed",!1,!0)}else!function(e,t){var r=O();if(!j.test(r))throw F(r,"name");var n=h.lcFirst(r);r===n&&(r=h.ucFirst(r));P("=");var o=H(O()),a=new s(r);a.group=!0;var u=new i(n,o,r,t);u.filename=x.filename,J(a,(function(e){switch(e){case"option":$(a,e),P(";");break;case"required":case"optional":case"repeated":Y(a,e);break;default:throw F(e)}})),e.add(a).add(u)}(e,t)}function $(e,t){var r=P("(",!0);if(!w.test(t=O()))throw F(t,"name");var n=t;r&&(P(")"),n="("+n+")",t=A(),k.test(t)&&(n+=t,O())),P("="),Q(e,n)}function Q(e,t){if(P("{",!0))do{if(!j.test(M=O()))throw F(M,"name");"{"===A()?Q(e,t+"."+M):(P(":"),"{"===A()?Q(e,t+"."+M):X(e,t+"."+M,z(!0)))}while(!P("}",!0));else X(e,t,z(!0))}function X(e,t,r){e.setOption&&e.setOption(t,r)}function ee(e){if(P("[",!0)){do{$(e,"option")}while(P(",",!0));P("]")}return e}for(;null!==(M=O());)switch(M){case"package":if(!U)throw F(M);V();break;case"import":if(!U)throw F(M);K();break;case"syntax":if(!U)throw F(M);W();break;case"option":if(!U)throw F(M);$(B,M),P(";");break;default:if(Z(B,M)){U=!1;continue}throw F(M)}return x.filename=null,{package:S,imports:E,weakImports:I,syntax:C,root:t}}x._configure=function(){n=r("./weichatPb/src/tokenize.js"),o=r("./weichatPb/src/root.js"),s=r("./weichatPb/src/type.js"),i=r("./weichatPb/src/field.js"),a=r("./weichatPb/src/mapField.js"),u=r("./weichatPb/src/oneof.js"),l=r("./weichatPb/src/enum.js"),d=r("./weichatPb/src/service.js"),c=r("./weichatPb/src/method.js"),f=r("./weichatPb/src/types.js"),h=r("./weichatPb/src/util.js")}},"./weichatPb/src/path.js":function(e,t,r){"use strict";var n=e.exports,o=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},s=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=o(e),n="";r&&(n=t.shift()+"/");for(var s=0;s<t.length;)".."===t[s]?s>0&&".."!==t[s-1]?t.splice(--s,2):r?t.splice(s,1):++s:"."===t[s]?t.splice(s,1):++s;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=s(t)),o(t)?t:(r||(e=s(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?s(e+"/"+t):t)}},"./weichatPb/src/pool.js":function(e,t,r){"use strict";e.exports=function(e,t,r){var n=r||8192,o=n>>>1,s=null,i=n;return function(r){if(r<1||r>o)return e(r);i+r>n&&(s=e(n),i=0);var a=t.call(s,i,i+=r);return 7&i&&(i=1+(7|i)),a}}},"./weichatPb/src/reader.js":function(e,t,r){"use strict";e.exports=a;var n,o,s=r("./weichatPb/src/util.js");function i(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function a(e){this.buf=e,this.pos=0,this.len=e.length}var u,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new a(e);if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer)return new a(new Uint8Array(e));throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new a(e);throw Error("illegal buffer")};function d(){var e=new n(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw i(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw i(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function c(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw i(this,8);return new n(c(this.buf,this.pos+=4),c(this.buf,this.pos+=4))}a.create=s.Buffer?function(e){return(a.create=function(e){return s.Buffer.isBuffer(e)?new(void 0)(e):l(e)})(e)}:l,a.prototype._slice=s.Array.prototype.subarray||s.Array.prototype.slice,a.prototype.uint32=(u=4294967295,function(){if(u=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return u;if(u=(u|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return u;if((this.pos+=5)>this.len)throw this.pos=this.len,i(this,10);return u}),a.prototype.int32=function(){return 0|this.uint32()},a.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},a.prototype.bool=function(){return 0!==this.uint32()},a.prototype.fixed32=function(){if(this.pos+4>this.len)throw i(this,4);return c(this.buf,this.pos+=4)},a.prototype.sfixed32=function(){if(this.pos+4>this.len)throw i(this,4);return 0|c(this.buf,this.pos+=4)},a.prototype.float=function(){if(this.pos+4>this.len)throw i(this,4);var e=s.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},a.prototype.double=function(){if(this.pos+8>this.len)throw i(this,4);var e=s.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},a.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw i(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},a.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},a.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw i(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw i(this)}while(128&this.buf[this.pos++]);return this},a.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;;){if(4==(e=7&this.uint32()))break;this.skipType(e)}break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},a._configure=function(){n=r("./weichatPb/src/longBits.js"),o=r("./weichatPb/src/utf8.js");var e=s.Long?"toLong":"toNumber";s.merge(a.prototype,{int64:function(){return d.call(this)[e](!1)},uint64:function(){return d.call(this)[e](!0)},sint64:function(){return d.call(this).zzDecode()[e](!1)},fixed64:function(){return f.call(this)[e](!0)},sfixed64:function(){return f.call(this)[e](!1)}})}},"./weichatPb/src/root.js":function(e,t,r){"use strict";var n=s(r("./node_modules/babel-runtime/helpers/typeof.js")),o=s(r("./node_modules/babel-runtime/core-js/object/create.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=p;var i=r("./weichatPb/src/namespace.js");((p.prototype=(0,o.default)(i.prototype)).constructor=p).className="Root";var a,u,l,d=r("./weichatPb/src/field.js"),c=r("./weichatPb/src/enum.js"),f=r("./weichatPb/src/oneof.js"),h=r("./weichatPb/src/util.js");function p(e){i.call(this,"",e),this.deferred=[],this.files=[],this.names=[]}function m(){}p.fromJSON=function(e,t){return e="string"==typeof e?JSON.parse(e):e,t||(t=new p),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},p.prototype.resolvePath=h.path.resolve,p.prototype.parseFromPbString=function e(t,r,o){"function"==typeof r&&(o=r,r=void 0);var s=this;if(!o)return h.asPromise(e,s,t,r);var i=null;if("string"==typeof t)i=JSON.parse(t);else{if("object"!==(void 0===t?"undefined":(0,n.default)(t)))return void console.log("pb格式转化失败");i=t}function a(e,t){if(o){var r=o;o=null,r(e,t)}}function d(e,t){try{if(h.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),h.isString(t)){u.filename=e;var n,o=u(t,s,r),i=0;if(o.imports)for(;i<o.imports.length;++i)c(n=o.imports[i]);if(o.weakImports){for(i=0;i<o.weakImports.length;++i)n=o.weakImports[i];c(n)}}else s.setOptions(t.options).addJSON(t.nested)}catch(e){a(e)}a(null,s)}function c(e){s.names.indexOf(e)>-1||(s.names.push(e),e in l&&d(e,l[e]))}d(i.name,i.pbJsonStr)},p.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var o=this;if(!n)return h.asPromise(e,o,t,r);var s=n===m;function i(e,t){if(n){var r=n;if(n=null,s)throw e;r(e,t)}}function a(e,t){try{if(h.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),h.isString(t)){u.filename=e;var n,a=u(t,o,r),l=0;if(a.imports)for(;l<a.imports.length;++l)(n=o.resolvePath(e,a.imports[l]))&&d(n);if(a.weakImports)for(l=0;l<a.weakImports.length;++l)(n=o.resolvePath(e,a.weakImports[l]))&&d(n,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){i(e)}s||c||i(null,o)}function d(e,t){var r=e.lastIndexOf("google/protobuf/");if(r>-1){var u=e.substring(r);u in l&&(e=u)}if(!(o.files.indexOf(e)>-1))if(o.files.push(e),e in l)s?a(e,l[e]):(++c,setTimeout((function(){--c,a(e,l[e])})));else if(s){var d;try{d=h.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||i(e))}a(e,d)}else++c,h.fetch(e,(function(r,s){--c,n&&(r?t?c||i(null,o):i(r):a(e,s))}))}var c=0;h.isString(t)&&(t=[t]);for(var f,p=0;p<t.length;++p)(f=o.resolvePath("",t[p]))&&d(f);if(s)return o;c||i(null,o)},p.prototype.loadSync=function(e,t){if(!h.isNode)throw Error("not supported");return this.load(e,t,m)},p.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return i.prototype.resolveAll.call(this)};var g=/^[A-Z]/;function y(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new d(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}p.prototype._handleAdd=function(e){if(e instanceof d)void 0===e.extend||e.extensionField||y(0,e)||this.deferred.push(e);else if(e instanceof c)g.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof f)){if(e instanceof a)for(var t=0;t<this.deferred.length;)y(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);g.test(e.name)&&(e.parent[e.name]=e)}},p.prototype._handleRemove=function(e){if(e instanceof d){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)g.test(e.name)&&delete e.parent[e.name];else if(e instanceof i){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);g.test(e.name)&&delete e.parent[e.name]}},p._configure=function(){a=r("./weichatPb/src/type.js"),u=r("./weichatPb/src/parse.js"),l=r("./weichatPb/src/common.js"),d=r("./weichatPb/src/field.js"),c=r("./weichatPb/src/enum.js"),f=r("./weichatPb/src/oneof.js"),h=r("./weichatPb/src/util.js")}},"./weichatPb/src/roots.js":function(e,t,r){"use strict";e.exports={}},"./weichatPb/src/rpc/service.js":function(e,t,r){"use strict";var n,o=r("./node_modules/babel-runtime/core-js/object/create.js"),s=(n=o)&&n.__esModule?n:{default:n};e.exports=a;var i=r("./weichatPb/src/util.js");function a(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(a.prototype=(0,s.default)(i.EventEmitter.prototype)).constructor=a,a.prototype.rpcCall=function e(t,r,n,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return i.asPromise(e,a,t,r,n,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof n))try{r=n[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){s(e)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},a.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},"./weichatPb/src/service.js":function(e,t,r){"use strict";var n=s(r("./node_modules/babel-runtime/core-js/object/keys.js")),o=s(r("./node_modules/babel-runtime/core-js/object/create.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=d;var i,a,u,l=r("./weichatPb/src/namespace.js");function d(e,t){l.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}((d.prototype=(0,o.default)(l.prototype)).constructor=d).className="Service",d.fromJSON=function(e,t){var r=new d(e,t.options);if(t.methods)for(var o=(0,n.default)(t.methods),s=0;s<o.length;++s)r.add(i.fromJSON(o[s],t.methods[o[s]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},d.prototype.toJSON=function(e){var t=l.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return a.toObject(["options",t&&t.options||void 0,"methods",l.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(d.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=a.toArray(this.methods))}}),d.prototype.get=function(e){return this.methods[e]||l.prototype.get.call(this,e)},d.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return l.prototype.resolve.call(this)},d.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):l.prototype.add.call(this,e)},d.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return l.prototype.remove.call(this,e)},d.prototype.create=function(e,t,r){for(var n,o=new u.Service(e,t,r),s=0;s<this.methodsArray.length;++s){var i=a.lcFirst((n=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");o[i]=a.codegen(["r","c"],a.isReserved(i)?i+"_":i)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return o},d._configure=function(){i=r("./weichatPb/src/method.js"),a=r("./weichatPb/src/util.js"),u=r("./weichatPb/src/rpc/service.js")}},"./weichatPb/src/tokenize.js":function(e,t,r){"use strict";e.exports=h;var n=/[\s{}=;:[\],'"()<>]/g,o=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,s=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,a=/^\s*\*?\/*/,u=/\n/g,l=/\s/,d=/\\(.?)/g,c={0:"\0",r:"\r",n:"\n",t:"\t"};function f(e){return e.replace(d,(function(e,t){switch(t){case"\\":case"":return t;default:return c[t]||""}}))}function h(e,t){e=e.toString();var r=0,d=e.length,c=1,h=null,p=null,m=0,g=!1,y=[],_=null;function b(e){return Error("illegal "+e+" (line "+c+")")}function v(t){return e.charAt(t)}function j(r,n){h=e.charAt(r++),m=c,g=!1;var o,s=r-(t?2:3);do{if(--s<0||"\n"===(o=e.charAt(s))){g=!0;break}}while(" "===o||"\t"===o);for(var l=e.substring(r,n).split(u),d=0;d<l.length;++d)l[d]=l[d].replace(t?a:i,"").trim();p=l.join("\n").trim()}function w(t){var r=k(t),n=e.substring(t,r);return/^\s*\/{1,2}/.test(n)}function k(e){for(var t=e;t<d&&"\n"!==v(t);)t++;return t}function x(){if(y.length>0)return y.shift();if(_)return function(){var t="'"===_?s:o;t.lastIndex=r-1;var n=t.exec(e);if(!n)throw b("string");return r=t.lastIndex,S(_),_=null,f(n[1])}();var i,a,u,h,p;do{if(r===d)return null;for(i=!1;l.test(u=v(r));)if("\n"===u&&++c,++r===d)return null;if("/"===v(r)){if(++r===d)throw b("comment");if("/"===v(r))if(t){if(h=r,p=!1,w(r)){p=!0;do{if((r=k(r))===d)break;r++}while(w(r))}else r=Math.min(d,k(r)+1);p&&j(h,r),c++,i=!0}else{for(p="/"===v(h=r+1);"\n"!==v(++r);)if(r===d)return null;++r,p&&j(h,r-1),++c,i=!0}else{if("*"!==(u=v(r)))return"/";h=r+1,p=t||"*"===v(h);do{if("\n"===u&&++c,++r===d)throw b("comment");a=u,u=v(r)}while("*"!==a||"/"!==u);++r,p&&j(h,r-2),i=!0}}}while(i);var m=r;if(n.lastIndex=0,!n.test(v(m++)))for(;m<d&&!n.test(v(m));)++m;var g=e.substring(r,r=m);return'"'!==g&&"'"!==g||(_=g),g}function S(e){y.push(e)}function E(){if(!y.length){var e=x();if(null===e)return null;S(e)}return y[0]}return Object.defineProperty({next:x,peek:E,push:S,skip:function(e,t){var r=E();if(r===e)return x(),!0;if(!t)throw b("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var r=null;return void 0===e?m===c-1&&(t||"*"===h||g)&&(r=p):(m<e&&E(),m!==e||g||!t&&"/"!==h||(r=p)),r}},"line",{get:function(){return c}})}h.unescape=f},"./weichatPb/src/type.js":function(e,t,r){"use strict";var n=i(r("./node_modules/babel-runtime/core-js/object/keys.js")),o=i(r("./node_modules/babel-runtime/core-js/object/define-properties.js")),s=i(r("./node_modules/babel-runtime/core-js/object/create.js"));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=w;var a,u,l,d,c,f,h,p,m,g,y,_,b,v,j=r("./weichatPb/src/namespace.js");function w(e,t){j.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function k(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}((w.prototype=(0,s.default)(j.prototype)).constructor=w).className="Type",(0,o.default)(w.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=(0,n.default)(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],o=r.id;if(this._fieldsById[o])throw Error("duplicate id "+o+" in "+this);this._fieldsById[o]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=w.generateConstructor(this))},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,l,!0),h.merge(e.prototype,l,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var s={};for(r=0;r<this.oneofsArray.length;++r){var i=this._oneofsArray[r].resolve().name,a=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=0;return{setter:function(r){if(!(e.indexOf(r)<0)){t[r]=1;for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}},getter:function(){for(var e=(0,n.default)(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}}}(this._oneofsArray[r].oneof);s[i]={get:a.getter,set:a.setter}}r&&(0,o.default)(e.prototype,s)}}}),w.generateConstructor=function(e){return function(t){for(var r,o=0;o<e.fieldsArray.length;o++)(r=e._fieldsArray[o]).map?this[r.name]={}:r.repeated&&(this[r.name]=[]);if(t)for(var s=(0,n.default)(t),i=0;i<s.length;++i)null!=t[s[i]]&&(this[s[i]]=t[s[i]])}},w.fromJSON=function(e,t){var r=new w(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var o=(0,n.default)(t.fields),s=0;s<o.length;++s)r.add((void 0!==t.fields[o[s]].keyType?v.fromJSON:u.fromJSON)(o[s],t.fields[o[s]]));if(t.oneofs)for(o=(0,n.default)(t.oneofs),s=0;s<o.length;++s)r.add(d.fromJSON(o[s],t.oneofs[o[s]]));if(t.nested)for(o=(0,n.default)(t.nested),s=0;s<o.length;++s){var i=t.nested[o[s]];r.add((void 0!==i.id?u.fromJSON:void 0!==i.fields?w.fromJSON:void 0!==i.values?a.fromJSON:void 0!==i.methods?y.fromJSON:j.fromJSON)(o[s],i))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},w.prototype.toJSON=function(e){var t=j.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return{options:t&&t.options||void 0,oneofs:j.arrayToJSON(this.oneofsArray,e),fields:j.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},extensions:this.extensions&&this.extensions.length?this.extensions:void 0,reserved:this.reserved&&this.reserved.length?this.reserved:void 0,group:this.group||void 0,nested:t&&t.nested||void 0,comment:r?this.comment:void 0}},w.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return j.prototype.resolveAll.call(this)},w.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},w.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof u&&void 0===e.extend){if(this._fieldsById&&this._fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),k(this)}return e instanceof d?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),k(this)):j.prototype.add.call(this,e)},w.prototype.remove=function(e){if(e instanceof u&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),k(this)}if(e instanceof d){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),k(this)}return j.prototype.remove.call(this,e)},w.prototype.isReservedId=function(e){return j.isReservedId(this.reserved,e)},w.prototype.isReservedName=function(e){return j.isReservedName(this.reserved,e)},w.prototype.create=function(e){return new this.ctor(e)},w.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=m(this)({Writer:c,types:t,util:h}),this.decode=g(this)({Reader:f,types:t,util:h}),this.verify=p(this)({types:t,util:h}),this.fromObject=b.fromObject(this)({types:t,util:h}),this.toObject=b.toObject(this)({types:t,util:h});var n=_[e];if(n){var o=(0,s.default)(this);o.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(o),o.toObject=this.toObject,this.toObject=n.toObject.bind(o)}return this},w.prototype.encode=function(e,t){return this.setup().encode(e,t)},w.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},w.prototype.decode=function(e,t){return this.setup().decode(e,t)},w.prototype.decodeDelimited=function(e){return e instanceof f||(e=f.create(e)),this.decode(e,e.uint32())},w.prototype.verify=function(e){return this.setup().verify(e)},w.prototype.fromObject=function(e){return this.setup().fromObject(e)},w.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},w.d=function(e){return function(t){h.decorateType(t,e)}},w._configure=function(){a=r("./weichatPb/src/enum.js"),u=r("./weichatPb/src/field.js"),l=r("./weichatPb/src/message.js"),d=r("./weichatPb/src/oneof.js"),c=r("./weichatPb/src/writer.js"),f=r("./weichatPb/src/reader.js"),h=r("./weichatPb/src/util.js"),p=r("./weichatPb/src/verifier.js"),m=r("./weichatPb/src/encoder.js"),g=r("./weichatPb/src/decoder.js"),y=r("./weichatPb/src/service.js"),_=r("./weichatPb/src/wrappers.js"),b=r("./weichatPb/src/converter.js"),v=r("./weichatPb/src/mapField.js")}},"./weichatPb/src/types.js":function(e,t,r){"use strict";var n=e.exports,o=r("./weichatPb/src/util.js"),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function i(e,t){var r=0,n={};for(t|=0;r<e.length;)n[s[r+t]]=e[r++];return n}n.basic=i([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=i([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),n.long=i([0,0,0,1,1],7),n.mapKey=i([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=i([1,5,0,0,0,5,5,0,0,0,1,1,0]),n._configure=function(){o=r("./weichatPb/src/util.js")}},"./weichatPb/src/utf8.js":function(e,t,r){"use strict";var n=e.exports;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,s=[],i=0;t<r;)(n=e[t++])<128?s[i++]=n:n>191&&n<224?s[i++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[i++]=55296+(n>>10),s[i++]=56320+(1023&n)):s[i++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],i>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),i=0);return o?(i&&o.push(String.fromCharCode.apply(String,s.slice(0,i))),o.join("")):String.fromCharCode.apply(String,s.slice(0,i))},n.write=function(e,t,r){for(var n,o,s=r,i=0;i<e.length;++i)(n=e.charCodeAt(i))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(i+1)))?(n=65536+((1023&n)<<10)+(1023&o),++i,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-s}},"./weichatPb/src/util.js":function(e,t,r){"use strict";var n=u(r("./node_modules/babel-runtime/core-js/number/is-integer.js")),o=u(r("./node_modules/babel-runtime/core-js/object/create.js")),s=u(r("./node_modules/babel-runtime/core-js/object/freeze.js")),i=u(r("./node_modules/babel-runtime/helpers/typeof.js")),a=u(r("./node_modules/babel-runtime/core-js/object/keys.js"));function u(e){return e&&e.__esModule?e:{default:e}}var l=e.exports,d=r("./weichatPb/src/roots.js");l.LongBits=r("./weichatPb/src/longBits.js"),l.Long=r("./weichatPb/src/long.js"),l.pool=r("./weichatPb/src/pool.js"),l.float=r("./weichatPb/src/float.js"),l.asPromise=r("./weichatPb/src/asPromise.js"),l.EventEmitter=r("./weichatPb/src/EventEmitter.js"),l.path=r("./weichatPb/src/path.js"),l.base64=r("./weichatPb/src/base64.js"),l.utf8=r("./weichatPb/src/utf8.js"),l.compareFieldsById=function(e,t){return e.id-t.id},l.toArray=function(e){if(e){for(var t=(0,a.default)(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},l.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],o=e[r++];void 0!==o&&(t[n]=o)}return t},l.isString=function(e){return"string"==typeof e||e instanceof String};l.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},l.isObject=function(e){return e&&"object"===(void 0===e?"undefined":(0,i.default)(e))},l.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,l.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=(0,a.default)(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},l.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},l.merge=function(e,t,r){for(var n=(0,a.default)(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e},l.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(l.decorateRoot.remove(e.$type),e.$type.name=t,l.decorateRoot.add(e.$type)),e.$type;Type||(Type=r("./weichatPb/src/type.js"));var n=new Type(t||e.name);return l.decorateRoot.add(n),n.ctor=e,Object.defineProperty(e,"$type",{value:n,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:n,enumerable:!1}),n},l.emptyArray=s.default?(0,s.default)([]):[],l.emptyObject=s.default?(0,s.default)({}):{},l.longToHash=function(e){return e?l.LongBits.from(e).toHash():l.LongBits.zeroHash},l.copy=function(e){if("object"!=(void 0===e?"undefined":(0,i.default)(e)))return e;var t={};for(var r in e)t[r]=e[r];return t},l.deepCopy=function e(t){if("object"!=(void 0===t?"undefined":(0,i.default)(t)))return t;var r={};for(var n in t)r[n]=e(t[n]);return r},l.ProtocolError=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&merge(this,r)}return(t.prototype=(0,o.default)(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t},l.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},l.Buffer=null,l.newBuffer=function(e){return"number"==typeof e?new l.Array(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},l.stringToBytes=function(e){var t,r,n=[];t=e.length;for(var o=0;o<t;o++)(r=e.charCodeAt(o))>=65536&&r<=1114111?(n.push(r>>18&7|240),n.push(r>>12&63|128),n.push(r>>6&63|128),n.push(63&r|128)):r>=2048&&r<=65535?(n.push(r>>12&15|224),n.push(r>>6&63|128),n.push(63&r|128)):r>=128&&r<=2047?(n.push(r>>6&31|192),n.push(63&r|128)):n.push(255&r);return n},l.byteToString=function(e){if("string"==typeof e)return e;for(var t="",r=e,n=0;n<r.length;n++){var o=r[n].toString(2),s=o.match(/^1+?(?=0)/);if(s&&8==o.length){for(var i=s[0].length,a=r[n].toString(2).slice(7-i),u=1;u<i;u++)a+=r[u+n].toString(2).slice(2);t+=String.fromCharCode(parseInt(a,2)),n+=i-1}else t+=String.fromCharCode(r[n])}return t},l.isInteger=n.default||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Object.defineProperty(l,"decorateRoot",{get:function(){return d.decorated||(d.decorated=new(r("./weichatPb/src/root.js")))}})},"./weichatPb/src/verifier.js":function(e,t,r){"use strict";var n,o,s=a(r("./node_modules/babel-runtime/helpers/typeof.js")),i=a(r("./node_modules/babel-runtime/core-js/object/keys.js"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function l(e,t,r,s){var a=s.types;if(e.resolvedType)if(e.resolvedType instanceof n){if((0,i.default)(e.resolvedType.values).indexOf(r)<0)return u(e,"enum value")}else{var l=a[t].verify(r);if(l)return e.name+"."+l}else switch(e.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":if(!o.isInteger(r))return u(e,"integer");break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":if(!(o.isInteger(r)||r&&o.isInteger(r.low)&&o.isInteger(r.high)))return u(e,"integer|Long");break;case"float":case"double":if("number"!=typeof r)return u(e,"number");break;case"bool":if("boolean"!=typeof r)return u(e,"boolean");break;case"string":if(!o.isString(r))return u(e,"string");break;case"bytes":if(!(r&&"number"==typeof r.length||o.isString(r)))return u(e,"buffer")}}function d(e,t){switch(e.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":if(!o.key32Re.test(t))return u(e,"integer key");break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":if(!o.key64Re.test(t))return u(e,"integer|Long key");break;case"bool":if(!o.key2Re.test(t))return u(e,"boolean key")}}function c(e){return function(t){return function(r){var n;if("object"!==(void 0===r?"undefined":(0,s.default)(r))||null===r)return"object expected";var a,c={};e.oneofsArray.length&&(a={});for(var f=0;f<e.fieldsArray.length;++f){var h,p=e._fieldsArray[f].resolve(),m=r[p.name];if(!p.optional||null!=m&&r.hasOwnProperty(p.name))if(p.map){if(!o.isObject(m))return u(p,"object");var g=(0,i.default)(m);for(h=0;h<g.length;++h){if(n=d(p,g[h]))return n;if(n=l(p,f,m[g[h]],t))return n}}else if(p.repeated){if(!Array.isArray(m))return u(p,"array");for(h=0;h<m.length;++h)if(n=l(p,f,m[h],t))return n}else{if(p.partOf){var y=p.partOf.name;if(1===c[p.partOf.name]&&1===a[y])return p.partOf.name+": multiple values";a[y]=1}if(n=l(p,f,m,t))return n}}}}}e.exports=c,c._configure=function(){n=r("./weichatPb/src/enum.js"),o=r("./weichatPb/src/util.js")}},"./weichatPb/src/wrappers.js":function(e,t,r){"use strict";var n,o=t;o[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=this.lookup(e["@type"]);if(t){var r="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return this.create({type_url:"/"+r,value:t.encode(t.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){if(t&&t.json&&e.type_url&&e.value){var r=e.type_url.substring(e.type_url.lastIndexOf("/")+1),o=this.lookup(r);o&&(e=o.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof n){var s=e.$type.toObject(e,t);return s["@type"]=e.$type.fullName,s}return this.toObject(e,t)}},o._configure=function(){n=r("./weichatPb/src/message.js")}},"./weichatPb/src/writer.js":function(e,t,r){"use strict";var n,o=r("./node_modules/babel-runtime/core-js/object/create.js"),s=(n=o)&&n.__esModule?n:{default:n};e.exports=f;var i,a=r("./weichatPb/src/util.js"),u=r("./weichatPb/src/utf8.js");function l(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function d(){}function c(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new l(d,0,0),this.tail=this.head,this.states=null}function h(e,t,r){t[r]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function g(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=a.Buffer?function(){return(f.create=function(){return new(void 0)})()}:function(){return new f},f.alloc=function(e){return new a.Array(e)},a.Array!==Array&&(f.alloc=a.pool(f.alloc,a.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new l(e,t,r),this.len+=t,this},p.prototype=(0,s.default)(l.prototype),p.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(m,10,i.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=i.from(e);return this._push(m,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(m,t.length(),t)},f.prototype.bool=function(e){return this._push(h,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=i.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(a.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(a.float.writeDoubleLE,8,e)};var y=a.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(a.isString(e)){var r=f.alloc(t=u.length(e));u.write(e,r,0),e=r}return this.uint32(t)._push(y,t,e)},f.prototype.string=function(e){var t=u.length(e);return t?this.uint32(t)._push(u.write,t,e):this._push(h,1,0)},f.prototype.fork=function(){return this.states=new c(this),this.head=this.tail=new l(d,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(d,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(){i=r("./weichatPb/src/longBits.js"),r("./weichatPb/src/base64.js"),u=r("./weichatPb/src/utf8.js")}},"./wfc/internal/aes.js":function(e,t,r){"use strict";var n=s(r("./node_modules/babel-runtime/core-js/array/from.js")),o=s(r("./node_modules/babel-runtime/helpers/toConsumableArray.js"));function s(e){return e&&e.__esModule?e:{default:e}}var i=r("./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js").decode,a=r("./node_modules/base64-arraybuffer/lib/base64-arraybuffer.js").encode,u=r("./node_modules/aes-js/index.js"),l=[0,17,34,51,68,85,102,119,120,121,122,123,124,125,126,127];function d(e){for(var t=[],r=0;r<e.length&&r<16;r++)t.push(e.charCodeAt(r));return new Uint8Array(t)}e.exports.AESEncrypt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=l;t.length>0&&(r=d(t));var s=parseInt(((new Date).getTime()/1e3-1514736e3)/3600),i=new Array;if(i.push(255&s),i.push((65280&s)>>8),i.push((16711680&s)>>16),i.push(s>>24),"string"==typeof e){var c;(c=i).push.apply(c,(0,o.default)(function(e){var t,r,n=new Array;t=e.length;for(var o=0;o<t;o++)(r=e.charCodeAt(o))>=65536&&r<=1114111?(n.push(r>>18&7|240),n.push(r>>12&63|128),n.push(r>>6&63|128),n.push(63&r|128)):r>=2048&&r<=65535?(n.push(r>>12&15|224),n.push(r>>6&63|128),n.push(63&r|128)):r>=128&&r<=2047?(n.push(r>>6&31|192),n.push(63&r|128)):n.push(255&r);return n}(e)))}else{var f=(0,n.default)(e);i=i.concat(f)}i=u.padding.pkcs7.pad(i);var h=new u.ModeOfOperation.cbc(r,r).encrypt(i);return a(h)},e.exports.AESDecrypt=function(e,t,r){var n=l;t.length>0&&(n=d(t));var s=new Uint8Array(i(e)),a=[].concat((0,o.default)(s)),c=new u.ModeOfOperation.cbc(n,n).decrypt(a);if((c=u.padding.pkcs7.strip(c)).length>4){var f=0;return f+=c[3]&&255,f<<=8,f+=c[2]&&255,f<<=8,f+=c[1]&&255,f<<=8,f+=c[0]&&255,f<<=8,((new Date).getUTCMilliseconds()/1e3-1514736e3)/3600-f>24&&r?null:c.slice(4,c.length)}return null}},"./wfc/internal/protocol.js":function(e,t,r){"use strict";e.exports={options:{java_package:"cn.wildfirechat.proto",java_outer_classname:"WFCMessage"},nested:{AddFriendRequest:{fields:{targetUid:{rule:"required",type:"string",id:1},reason:{rule:"required",type:"string",id:2}}},Conversation:{fields:{type:{rule:"required",type:"int32",id:1},target:{rule:"required",type:"string",id:2},line:{rule:"required",type:"int32",id:3}}},GroupInfo:{fields:{targetId:{type:"string",id:1},name:{rule:"required",type:"string",id:2},portrait:{type:"string",id:3},owner:{type:"string",id:4},type:{rule:"required",type:"int32",id:5},memberCount:{type:"int32",id:6},extra:{type:"string",id:7},updateDt:{type:"int64",id:8},memberUpdateDt:{type:"int64",id:9},mute:{type:"int32",id:10},joinType:{type:"int32",id:11},privateChat:{type:"int32",id:12},searchable:{type:"int32",id:13},maxMemberCount:{type:"int32",id:14},historyMessage:{type:"int32",id:15}}},GroupMember:{fields:{memberId:{rule:"required",type:"string",id:1},alias:{type:"string",id:2},type:{rule:"required",type:"int32",id:3},updateDt:{type:"int64",id:4},createDt:{type:"int64",id:5}}},Group:{fields:{groupInfo:{rule:"required",type:"GroupInfo",id:1},members:{rule:"repeated",type:"GroupMember",id:2}}},ChannelInfo:{fields:{targetId:{type:"string",id:1},name:{rule:"required",type:"string",id:2},portrait:{type:"string",id:3},owner:{type:"string",id:4},status:{type:"int32",id:5},desc:{type:"string",id:6},extra:{type:"string",id:7},updateDt:{type:"int64",id:8},secret:{type:"string",id:9},callback:{type:"string",id:10},automatic:{type:"int32",id:11}}},ModifyChannelInfo:{fields:{channelId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},value:{rule:"required",type:"string",id:3}}},TransferChannel:{fields:{channelId:{rule:"required",type:"string",id:1},newOwner:{rule:"required",type:"string",id:2}}},PullChannelInfo:{fields:{channelId:{rule:"required",type:"string",id:1},head:{rule:"required",type:"int64",id:2}}},PullChannelListener:{fields:{channelId:{rule:"required",type:"string",id:1},offset:{rule:"required",type:"int32",id:2},count:{rule:"required",type:"int32",id:3}}},PullChannelListenerResult:{fields:{totalCount:{rule:"required",type:"int32",id:1},offset:{rule:"required",type:"int32",id:2},listener:{rule:"repeated",type:"string",id:3}}},ListenChannel:{fields:{channelId:{rule:"required",type:"string",id:1},listen:{rule:"required",type:"int32",id:2}}},SearchChannelResult:{fields:{channel:{rule:"repeated",type:"ChannelInfo",id:1},keyword:{rule:"required",type:"string",id:2}}},MessageContent:{fields:{type:{rule:"required",type:"int32",id:1},searchableContent:{type:"string",id:2},pushContent:{type:"string",id:3},content:{type:"string",id:4},data:{type:"bytes",id:5},mediaType:{type:"int32",id:6},remoteMediaUrl:{type:"string",id:7},persistFlag:{type:"int32",id:8},expireDuration:{type:"int32",id:9},mentionedType:{type:"int32",id:10},mentionedTarget:{rule:"repeated",type:"string",id:11},extra:{type:"string",id:12},pushData:{type:"string",id:13}}},AddGroupMemberRequest:{fields:{groupId:{rule:"required",type:"string",id:1},addedMember:{rule:"repeated",type:"GroupMember",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4}}},CreateGroupRequest:{fields:{group:{rule:"required",type:"Group",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3}}},DismissGroupRequest:{fields:{groupId:{rule:"required",type:"string",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3}}},FriendRequest:{fields:{fromUid:{type:"string",id:1},toUid:{rule:"required",type:"string",id:2},reason:{rule:"required",type:"string",id:3},status:{type:"int32",id:4},updateDt:{type:"int64",id:5},fromReadStatus:{type:"bool",id:6},toReadStatus:{type:"bool",id:7}}},GeneralResult:{fields:{errorCode:{rule:"required",type:"int32",id:1}}},GetUploadTokenRequest:{fields:{mediaType:{rule:"required",type:"int32",id:1},mediaPath:{rule:"required",type:"string",id:2},contentType:{type:"string",id:3},messageId:{type:"int64",id:4}}},GetUploadTokenResult:{fields:{domain:{rule:"required",type:"string",id:1},token:{rule:"required",type:"string",id:2},server:{rule:"required",type:"string",id:3},port:{type:"int32",id:4},type:{type:"int32",id:5},date:{type:"string",id:6},path:{type:"string",id:7},backupServer:{type:"string",id:8},backupPort:{type:"int32",id:9},sslPort:{type:"int32",id:10},backupSslPort:{type:"int32",id:11}}},HandleFriendRequest:{fields:{targetUid:{rule:"required",type:"string",id:1},status:{rule:"required",type:"int32",id:2},extra:{type:"string",id:3}}},IDBuf:{fields:{id:{rule:"required",type:"string",id:1}}},IDListBuf:{fields:{id:{rule:"repeated",type:"string",id:1}}},Message:{fields:{conversation:{rule:"required",type:"Conversation",id:1},fromUser:{rule:"required",type:"string",id:2},content:{rule:"required",type:"MessageContent",id:3},messageId:{type:"int64",id:4},serverTimestamp:{type:"int64",id:5},toUser:{type:"string",id:6},to:{rule:"repeated",type:"string",id:7}}},ConvReadRequest:{fields:{conversation:{rule:"required",type:"Conversation",id:1},fromUser:{rule:"required",type:"string",id:2},readTime:{rule:"required",type:"int64",id:3},to:{rule:"repeated",type:"string",id:4}}},ConvRead:{fields:{id:{type:"int32",id:1},conversation:{rule:"required",type:"Conversation",id:2},fromUser:{rule:"required",type:"string",id:3},readTime:{rule:"required",type:"int64",id:4}}},Delivery:{fields:{fromUser:{rule:"required",type:"string",id:1},receiveTime:{rule:"required",type:"int64",id:2}}},NotifyDelivery:{fields:{fromUser:{rule:"required",type:"string",id:1},receiveTime:{rule:"required",type:"int64",id:2},target:{rule:"repeated",type:"string",id:3}}},User:{fields:{uid:{rule:"required",type:"string",id:1},name:{type:"string",id:2},displayName:{type:"string",id:3},portrait:{type:"string",id:4},mobile:{type:"string",id:5},email:{type:"string",id:6},address:{type:"string",id:7},company:{type:"string",id:8},extra:{type:"string",id:9},updateDt:{type:"int64",id:10},gender:{type:"int32",id:11},social:{type:"string",id:12},type:{type:"int32",id:13},deleted:{type:"int32",id:14}}},Robot:{fields:{uid:{rule:"required",type:"string",id:1},state:{rule:"required",type:"int32",id:2},owner:{type:"string",id:3},secret:{type:"string",id:4},callback:{type:"string",id:5},extra:{type:"string",id:6}}},GetRobotsResult:{fields:{entry:{rule:"repeated",type:"Robot",id:1}}},Device:{fields:{uid:{rule:"required",type:"string",id:1},state:{rule:"required",type:"int32",id:2},token:{rule:"required",type:"string",id:3},owner:{rule:"repeated",type:"string",id:4},extra:{type:"string",id:5},updateDt:{type:"int64",id:6}}},GetDeviceResult:{fields:{entry:{rule:"repeated",type:"Device",id:1}}},UploadDeviceTokenRequest:{fields:{platform:{rule:"required",type:"int32",id:1},appName:{rule:"required",type:"string",id:2},deviceToken:{rule:"required",type:"string",id:3},pushType:{rule:"required",type:"int32",id:4}}},ModifyGroupInfoRequest:{fields:{groupId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},value:{rule:"required",type:"string",id:3},toLine:{rule:"repeated",type:"int32",id:4,options:{packed:!1}},notifyContent:{type:"MessageContent",id:5}}},SetGroupManagerRequest:{fields:{groupId:{rule:"required",type:"string",id:1},type:{rule:"required",type:"int32",id:2},userId:{rule:"repeated",type:"string",id:3},toLine:{rule:"repeated",type:"int32",id:4,options:{packed:!1}},notifyContent:{type:"MessageContent",id:5}}},InfoEntry:{fields:{type:{rule:"required",type:"int32",id:1},value:{rule:"required",type:"string",id:2}}},ModifyMyInfoRequest:{fields:{entry:{rule:"repeated",type:"InfoEntry",id:1}}},NotifyMessage:{fields:{type:{rule:"required",type:"int32",id:1},head:{rule:"required",type:"int64",id:2},target:{type:"string",id:3}}},PullMessageRequest:{fields:{id:{rule:"required",type:"int64",id:1},type:{rule:"required",type:"int32",id:2},delay:{type:"int64",id:3}}},PullMessageResult:{fields:{message:{rule:"repeated",type:"Message",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3}}},PullReadResult:{fields:{read:{rule:"repeated",type:"ConvRead",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3}}},PullDeliveryResult:{fields:{delivery:{rule:"repeated",type:"Delivery",id:1},current:{rule:"required",type:"int64",id:2},head:{rule:"required",type:"int64",id:3}}},PullGroupInfoResult:{fields:{info:{rule:"repeated",type:"GroupInfo",id:1}}},PullGroupMemberRequest:{fields:{target:{rule:"required",type:"string",id:1},head:{rule:"required",type:"int64",id:2}}},PullGroupMemberResult:{fields:{member:{rule:"repeated",type:"GroupMember",id:1}}},UserRequest:{fields:{uid:{rule:"required",type:"string",id:1},updateDt:{type:"int64",id:2}}},PullUserRequest:{fields:{request:{rule:"repeated",type:"UserRequest",id:1}}},UserResult:{fields:{user:{rule:"required",type:"User",id:1},code:{rule:"required",type:"int32",id:2}}},PullUserResult:{fields:{result:{rule:"repeated",type:"UserResult",id:1}}},QuitGroupRequest:{fields:{groupId:{rule:"required",type:"string",id:1},toLine:{rule:"repeated",type:"int32",id:2,options:{packed:!1}},notifyContent:{type:"MessageContent",id:3}}},RemoveGroupMemberRequest:{fields:{groupId:{rule:"required",type:"string",id:1},removedMember:{rule:"repeated",type:"string",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4}}},TransferGroupRequest:{fields:{groupId:{rule:"required",type:"string",id:1},newOwner:{rule:"required",type:"string",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4}}},ModifyGroupMemberAlias:{fields:{groupId:{rule:"required",type:"string",id:1},alias:{rule:"required",type:"string",id:2},toLine:{rule:"repeated",type:"int32",id:3,options:{packed:!1}},notifyContent:{type:"MessageContent",id:4},memberId:{type:"string",id:5}}},UserSettingEntry:{fields:{scope:{rule:"required",type:"int32",id:1},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"string",id:3},updateDt:{rule:"required",type:"int64",id:4}}},ModifyUserSettingReq:{fields:{scope:{rule:"required",type:"int32",id:1},key:{rule:"required",type:"string",id:2},value:{rule:"required",type:"string",id:3},target:{rule:"repeated",type:"string",id:4}}},Version:{fields:{version:{rule:"required",type:"int64",id:1}}},GetUserSettingResult:{fields:{entry:{rule:"repeated",type:"UserSettingEntry",id:1}}},Friend:{fields:{uid:{rule:"required",type:"string",id:1},state:{rule:"required",type:"int32",id:2},updateDt:{rule:"required",type:"int64",id:3},alias:{type:"string",id:4},blacked:{type:"int32",id:5},extra:{type:"string",id:6}}},GetFriendsResult:{fields:{entry:{rule:"repeated",type:"Friend",id:1}}},GetFriendRequestResult:{fields:{entry:{rule:"repeated",type:"FriendRequest",id:1}}},ConnectAckPayload:{fields:{msgHead:{type:"int64",id:1},friendHead:{type:"int64",id:2},friendRqHead:{type:"int64",id:3},settingHead:{type:"int64",id:4},nodeAddr:{type:"string",id:5},nodePort:{type:"int32",id:6},serverTime:{type:"int64",id:7},nodeId:{type:"string",id:8},recvHead:{type:"int64",id:9},readHead:{type:"int64",id:10}}},IMHttpWrapper:{fields:{token:{rule:"required",type:"string",id:1},clientId:{rule:"required",type:"string",id:2},request:{rule:"required",type:"string",id:3},data:{type:"bytes",id:4}}},SearchUserRequest:{fields:{keyword:{rule:"required",type:"string",id:1},fuzzy:{type:"int32",id:2},page:{type:"int32",id:3}}},SearchUserResult:{fields:{entry:{rule:"repeated",type:"User",id:1}}},GetChatroomInfoRequest:{fields:{chatroomId:{rule:"required",type:"string",id:1},updateDt:{type:"int64",id:2}}},ChatroomInfo:{fields:{title:{rule:"required",type:"string",id:1},desc:{type:"string",id:2},portrait:{type:"string",id:3},memberCount:{type:"int32",id:4},createDt:{type:"int64",id:5},updateDt:{type:"int64",id:6},extra:{type:"string",id:7},state:{type:"int32",id:8}}},GetChatroomMemberInfoRequest:{fields:{chatroomId:{rule:"required",type:"string",id:1},maxCount:{type:"int32",id:2}}},ChatroomMemberInfo:{fields:{memberCount:{type:"int32",id:1},members:{rule:"repeated",type:"string",id:2}}},INT64Buf:{fields:{id:{rule:"required",type:"int64",id:1}}},NotifyRecallMessage:{fields:{id:{rule:"required",type:"int64",id:1},fromUser:{rule:"required",type:"string",id:2}}},BlackUserRequest:{fields:{uid:{rule:"required",type:"string",id:1},status:{rule:"required",type:"int32",id:2}}},RouteRequest:{fields:{app:{type:"string",id:1},platform:{type:"int32",id:2},pushType:{type:"int32",id:3},deviceName:{type:"string",id:4},deviceVersion:{type:"string",id:5},phoneName:{type:"string",id:6},language:{type:"string",id:7},carrierName:{type:"string",id:8},appVersion:{type:"string",id:9},sdkVersion:{type:"string",id:10},wxAppId:{type:"string",id:11},wxAppKey:{type:"string",id:12},webAppId:{type:"string",id:13},webAppKey:{type:"string",id:14},host:{type:"string",id:15}}},AddressTriple:{fields:{host:{rule:"required",type:"string",id:1},longPort:{rule:"required",type:"int32",id:2},shortPort:{rule:"required",type:"int32",id:3},wssPort:{type:"int32",id:4}}},RouteResponse:{fields:{host:{rule:"required",type:"string",id:1},longPort:{rule:"required",type:"int32",id:2},shortPort:{rule:"required",type:"int32",id:3},thumbPara:{type:"string",id:4},node:{type:"string",id:5},commercial:{type:"int32",id:6},wssPort:{type:"int32",id:7},candidate:{rule:"repeated",type:"AddressTriple",id:8}}},GetTokenRequest:{fields:{userId:{rule:"required",type:"string",id:1},clientId:{rule:"required",type:"string",id:2},platform:{type:"int32",id:3}}},LoadRemoteMessages:{fields:{conversation:{rule:"required",type:"Conversation",id:1},beforeUid:{rule:"required",type:"int64",id:2},count:{rule:"required",type:"int32",id:3}}},LoadLineMessages:{fields:{line:{rule:"required",type:"int32",id:1},beforeUid:{rule:"required",type:"int64",id:2},count:{rule:"required",type:"int32",id:3}}},MultiCastMessage:{fields:{fromUser:{rule:"required",type:"string",id:1},content:{rule:"required",type:"MessageContent",id:2},to:{rule:"repeated",type:"string",id:3},line:{rule:"required",type:"int32",id:4}}},RecallMultiMessage:{fields:{messageId:{rule:"required",type:"int64",id:1},target:{rule:"repeated",type:"string",id:2}}},FileRecord:{fields:{messageId:{rule:"required",type:"int64",id:1},fromUser:{rule:"required",type:"string",id:2},conversation:{type:"Conversation",id:3},name:{type:"string",id:4},url:{rule:"required",type:"string",id:5},size:{rule:"required",type:"int32",id:6},downloadCount:{type:"int32",id:7},dt:{rule:"required",type:"int64",id:8}}},LoadFileRecordReq:{fields:{conversation:{type:"Conversation",id:1},messageId:{rule:"required",type:"int64",id:2},count:{rule:"required",type:"int32",id:3},from:{type:"string",id:4}}},LoadFileRecordRes:{fields:{record:{rule:"repeated",type:"FileRecord",id:1}}},SearchFileRecordReq:{fields:{keyword:{rule:"required",type:"string",id:1},conversation:{type:"Conversation",id:2},messageId:{rule:"required",type:"int64",id:3},count:{rule:"required",type:"int32",id:4},from:{type:"string",id:5}}},ConferenceRequest:{fields:{sessionId:{type:"int64",id:1},request:{rule:"required",type:"string",id:2},data:{type:"string",id:3},roomId:{type:"string",id:4}}},RecallMultiCastMessageRequest:{fields:{messageId:{rule:"required",type:"int64",id:1},receiver:{rule:"repeated",type:"string",id:2}}},MomentsMedia:{fields:{mediaUrl:{rule:"required",type:"string",id:1},thumbUrl:{type:"string",id:2},width:{type:"int32",id:3},height:{type:"int32",id:4}}},MomentsFeed:{fields:{feedId:{rule:"required",type:"int64",id:1},sender:{rule:"required",type:"string",id:2},type:{rule:"required",type:"int32",id:3},text:{type:"string",id:4},medias:{rule:"repeated",type:"MomentsMedia",id:5},mentionedUsers:{rule:"repeated",type:"string",id:6},toUsers:{rule:"repeated",type:"string",id:7},excludeUsers:{rule:"repeated",type:"string",id:8},serverTime:{rule:"required",type:"int64",id:9},extra:{type:"string",id:10},comments:{rule:"repeated",type:"MomentsComment",id:11},hasMore:{type:"int32",id:12}}},MomentsFeeds:{fields:{feeds:{rule:"repeated",type:"MomentsFeed",id:1}}},MomentsComments:{fields:{comments:{rule:"repeated",type:"MomentsComment",id:1}}},MomentsComment:{fields:{feedId:{rule:"required",type:"int64",id:1},commentId:{rule:"required",type:"int64",id:2},replyId:{type:"int64",id:3},sender:{rule:"required",type:"string",id:4},type:{rule:"required",type:"int32",id:5},text:{type:"string",id:6},replyTo:{type:"string",id:7},serverTime:{rule:"required",type:"int64",id:8},extra:{type:"string",id:9}}}}}},"./wfc/internal/syncReadEntry.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=r("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=(n=o)&&n.__esModule?n:{default:n};t.default=function e(){(0,s.default)(this,e)}},"./wfc/internal/wfcImpl.js":function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.WfcImpl=void 0;var n=Z(r("./node_modules/babel-runtime/core-js/get-iterator.js")),o=Z(r("./node_modules/babel-runtime/regenerator/index.js")),s=Z(r("./node_modules/babel-runtime/helpers/asyncToGenerator.js")),i=Z(r("./node_modules/babel-runtime/core-js/object/assign.js")),a=Z(r("./node_modules/babel-runtime/core-js/map.js")),u=Z(r("./node_modules/babel-runtime/core-js/json/stringify.js")),l=Z(r("./node_modules/babel-runtime/helpers/classCallCheck.js")),d=Z(r("./node_modules/babel-runtime/helpers/createClass.js")),c=Z(r("./node_modules/long/src/long.js")),f=r("../util/longUtil"),h=r("./wfc/internal/aes.js"),p=r("./lib/connect/index.js"),m=Z(r("../client/messageConfig")),g=Z(r("../messages/mediaMessageContent")),y=Z(r("../messages/message")),_=(Z(r("../messages/messageContent")),Z(r("../messages/messageContentType"))),b=Z(r("../messages/messageStatus")),v=Z(r("../messages/notification/recallMessageNotification")),j=Z(r("../messages/persistFlag")),w=Z(r("../model/channelInfo")),k=Z(r("../model/chatRoomMemberInfo")),x=Z(r("../model/conversation")),S=Z(r("../model/conversationType")),E=Z(r("../model/friendRequest")),I=Z(r("../model/groupInfo")),C=Z(r("../model/groupMember")),M=Z(r("../model/groupMemberType")),R=Z(r("../model/nullGroupInfo")),O=Z(r("../model/nullUserInfo")),T=Z(r("../model/userInfo")),A=Z(r("../client/userSettingScope")),P=Z(r("../client/wfcEvent")),q=Z(r("./wfc/internal/wfc_store.js")),U=Z(r("../client/connectionStatus")),N=Z(r("../model/userSettingEntry")),B=Z(r("../../config.js")),L=Z(r("./node_modules/pako/index.js")),F=Z(r("../client/errorCode")),D=Z(r("../model/internal/friendInfo")),z=Z(r("../model/chatRoomInfo")),G=Z(r("../model/NullChannelInfo")),H=Z(r("../model/conversationInfo")),V=Z(r("../model/readEntry")),K=Z(r("../model/fileRecord")),W=r("../util/base64.min");function Z(e){return e&&e.__esModule?e:{default:e}}var J=r("./weichatPb/protobuf.js");J.util.Long=c.default,J.configure();var Y=r("./wfc/internal/protocol.js"),$=J.Root.fromJSON(Y),Q=$.lookupType("AddFriendRequest"),X=$.lookupType("AddGroupMemberRequest"),ee=$.lookupType("BlackUserRequest"),te=$.lookupType("ConnectAckPayload"),re=$.lookupType("Conversation"),ne=$.lookupType("CreateGroupRequest"),oe=$.lookupType("DismissGroupRequest"),se=$.lookupType("GetFriendRequestResult"),ie=$.lookupType("GetFriendsResult"),ae=$.lookupType("GetUploadTokenResult"),ue=$.lookupType("GetUploadTokenRequest"),le=$.lookupType("GetUserSettingResult"),de=$.lookupType("Group"),ce=$.lookupType("GroupInfo"),fe=$.lookupType("GroupMember"),he=$.lookupType("HandleFriendRequest"),pe=$.lookupType("IDBuf"),me=($.lookupType("IMHttpWrapper"),$.lookupType("INT64Buf")),ge=$.lookupType("LoadRemoteMessages"),ye=$.lookupType("LoadLineMessages"),_e=$.lookupType("Message"),be=$.lookupType("MessageContent"),ve=$.lookupType("ModifyGroupInfoRequest"),je=$.lookupType("ModifyGroupMemberAlias"),we=$.lookupType("ModifyUserSettingReq"),ke=$.lookupType("NotifyMessage"),xe=$.lookupType("PullGroupInfoResult"),Se=$.lookupType("PullGroupMemberRequest"),Ee=$.lookupType("PullGroupMemberResult"),Ie=$.lookupType("PullMessageRequest"),Ce=$.lookupType("PullMessageResult"),Me=$.lookupType("PullUserRequest"),Re=$.lookupType("PullUserResult"),Oe=$.lookupType("QuitGroupRequest"),Te=$.lookupType("RemoveGroupMemberRequest"),Ae=($.lookupType("RouteRequest"),$.lookupType("RouteResponse"),$.lookupType("SearchUserRequest")),Pe=$.lookupType("SearchUserResult"),qe=$.lookupType("SetGroupManagerRequest"),Ue=$.lookupType("TransferGroupRequest"),Ne=$.lookupType("UserRequest"),Be=$.lookupType("Version"),Le=$.lookupType("ModifyMyInfoRequest"),Fe=$.lookupType("NotifyRecallMessage"),De=$.lookupType("ChatroomInfo"),ze=$.lookupType("ChatroomMemberInfo"),Ge=$.lookupType("GetChatroomInfoRequest"),He=$.lookupType("GetChatroomMemberInfoRequest"),Ve=$.lookupType("ModifyChannelInfo"),Ke=($.lookupType("TransferChannel"),$.lookupType("ListenChannel")),We=$.lookupType("PullChannelInfo"),Ze=$.lookupType("SearchChannelResult"),Je=$.lookupType("PullDeliveryResult"),Ye=$.lookupType("PullReadResult"),$e=$.lookupType("LoadFileRecordReq"),Qe=$.lookupType("LoadFileRecordRes"),Xe=$.lookupType("UploadDeviceTokenRequest"),et=t.WfcImpl=function(){function t(){(0,l.default)(this,t),this.connectionStatus=0,this.platformName="",this.userId="",this.token="",this.clientId="",this.chatRoomMsgHead=c.default.ZERO,this.privateSecret="",this.store=new q.default,this.isReceiptEnable=!1,this.isClearGroupMsgWhenKickoff=!1,this.isConnecting=!1,this.isUserDisconnected=!1,this.isPullingSetting=!1,this.isPullingRecv=!1,this.isPullingRead=!1,this.isConversationTargetPreloaded=!1,this.isFriendPreloaded=!1,this.isFriendRequestPreloaded=!1,this.settingHead=c.default.ZERO,this.friendHead=c.default.ZERO,this.friendRequestHead=c.default.ZERO,this.recvHead=c.default.ZERO,this.readHead=c.default.ZERO,this.deltaTime=0,this.lastActiveTime=0}var r,Z,J,Y,$,et,nt,ot,st,it,at,ut,lt,dt,ct,ft,ht,pt,mt,gt,yt,_t,bt,vt,jt,wt,kt,xt,St,Et,It,Ct,Mt,Rt,Ot,Tt,At,Pt,qt,Ut,Nt;return(0,d.default)(t,[{key:"resetMqtt",value:function(){this.mqttClientInstance&&(this.mqttClientInstance.removeAllListeners(),this.mqttClientInstance.end(),this.mqttClientInstance=null),this.isConnecting=!1}},{key:"reset",value:function(){this.resetMqtt(),this.connectionStatus=U.default.ConnectionStatusLogout,this.isConnecting=!1,this.userId="",this.token="",this.clientId="",this.msgHead=null,this.privateSecret="",this.store=new q.default,this.isReceiptEnable=!1,this.isConnecting=!1,this.isUserDisconnected=!1,this.isPullingSetting=!1,this.isPullingRecv=!1,this.isPullingRead=!1,this.isConversationTargetPreloaded=!1,this.isFriendPreloaded=!1,this.isFriendRequestPreloaded=!1,this.settingHead=c.default.ZERO,this.friendHead=c.default.ZERO,this.friendRequestHead=c.default.ZERO,this.recvHead=c.default.ZERO,this.readHead=c.default.ZERO,this.deltaTime=0,this.lastActiveTime=0,this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=0)}},{key:"onConnectionChanged",value:function(e){this.connectionStatus!==e&&(this.connectionStatus=e,this.eventEmitter.emit(P.default.ConnectionStatusChanged,e),console.log("connection status changed",e))}},{key:"_isGroupNotificationTargetsIncludeCurrentUser",value:function(e){}},{key:"onConferenceEvent",value:function(e){this.eventEmitter.emit(P.default.ConferenceEvent,e)}},{key:"onReceiveMessage",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[],s=[];e.forEach((function(i,a){var u=y.default.fromProtoMessage(i),l=a<e.length-1;if(u){var d=[_.default.CreateGroup_Notification,_.default.AddGroupMember_Notification,_.default.KickOffGroupMember_Notification,_.default.TransferGroupOwner_Notification,_.default.ModifyGroupAlias_Notification,_.default.MuteGroupMember_Notification,_.default.AllowGroupMember_Notification];if(d.indexOf(u.content.type)>-1&&(o.push(u.conversation.target),s.push(u.conversation.target),u.content.type===_.default.KickOffGroupMember_Notification)){var f=u.messageContent.kickedMembers.find((function(e){return e===t.getUserId()}));if(console.log("kickoff",u.conversation.target,t.isClearGroupMsgWhenKickoff),f===t.getUserId()&&t.isClearGroupMsgWhenKickoff)return t.store.removeGroupAndMembers(u.conversation.target),void t.store.removeConversation(u.conversation,!0)}if((d=[_.default.SetGroupManager_Notification,_.default.MuteGroupMember_Notification,_.default.AllowGroupMember_Notification]).indexOf(u.content.type)>-1&&s.push(u.conversation.target),(d=[_.default.ChangeGroupName_Notification,_.default.ChangeGroupPortrait_Notification,_.default.MuteGroup_Notification,_.default.ChangeJoinType_Notification,_.default.ChangePrivateChat_Notification,_.default.ChangeSearchable_Notification]).indexOf(u.content.type)>-1&&o.push(u.conversation.target),(d=[_.default.QuitGroup_Notification]).indexOf(u.content.type)>-1){if(u.from===t.getUserId())return t.store.removeGroupAndMembers(u.conversation.target),t.store.removeConversation(u.conversation,!0),void t.eventEmitter.emit(P.default.ReceiveMessage,u,l);o.push(u.conversation.target),s.push(u.conversation.target)}if((d=[_.default.DismissGroup_Notification]).indexOf(u.content.type)>-1)return t.store.removeGroupAndMembers(u.conversation.target),t.store.removeConversation(u.conversation,!0),void t.eventEmitter.emit(P.default.ReceiveMessage,u,l);if(81===u.content.type){console.log("delete",u.content,c.default.fromValue(atob(u.content.binaryContent)),c.default.fromValue(atob(u.content.binaryContent)).toString());var h=c.default.fromValue(atob(u.content.binaryContent)),p=t.store.getMessageByUid(h);return void(p&&p.messageId>0&&(t.store.deleteMessageByUid(h),t.onRemoteMessageDeleted(p.messageUid)))}var g=m.default.getMessageContentPersitFlag(u.content.type);n&&u.messageContent.type===_.default.RecallMessage_Notification&&t.onRecallMessage(u.messageContent.operatorId,u.messageContent.messageUid),!n||g!==j.default.Persist&&g!==j.default.Persist_And_Count?r||t.eventEmitter.emit(P.default.ReceiveMessage,u,l):(u.conversation.type===S.default.ChatRoom?u.messageId=t.store.genChatRoomMessageId():u.messageId=t.store.genNormalMessageId(),t.store.saveMessage(u)&&(t.store.updateConversationLastMessage(u),t.eventEmitter.emit(P.default.ConversationInfoUpdate,t.store.getConversationInfo(u.conversation)),r||t.eventEmitter.emit(P.default.ReceiveMessage,u,l)))}})),o.forEach((function(e){t._reloadGroupInfosFromRemote(e)})),s.forEach((function(e){t.getGroupMembers(e,!0)}))}},{key:"onGroupInfoUpdate",value:function(e){}},{key:"onChannelInfoUpdate",value:function(e){}},{key:"onSettingUpdate",value:function(e){this.eventEmitter.emit(P.default.SettingUpdate)}},{key:"onRecallMessage",value:function(e,t){var r=this.store.getMessageByUid(t);if(r&&0!==r.messageId){var n=r.messageContent;if(e===this.userId){var o={};o.s=r.from,o.ts=(0,f.numberValue)(r.timestamp);var s=r.content;s&&s.hasOwnProperty("type")||(s=r.messageContent.encode()),o.t=s.type,o.sc=s.searchableContent?s.searchableContent:"",o.c=s.content?s.content:"",o.e=s.extra?s.content:"",r.extra=(0,u.default)(o)}var i=new v.default(e,t);i.setExtra(r.extra),r.messageContent=i,this.store.updateMessageById(r);var a=this.getConversationInfo(r.conversation);1===r.direction&&m.default.getMessageContentFlag(n.type)===j.default.Persist_And_Count&&(r.status===b.default.Unread?a.unreadCount.unread-=1:r.status===b.default.Mentioned?a.unreadCount.unreadMention-=1:r.status===b.default.AllMentioned&&(a.unreadCount.unreadMentionAll-=1)),this.eventEmitter.emit(P.default.RecallMessage,e,t)}}},{key:"onRemoteMessageDeleted",value:function(e){console.log("onRemoteMessageDeleted",messageId),this.eventEmitter.emit(P.default.MessageDeleted,e)}},{key:"onMessageDeleted",value:function(e){console.log("onMessageDeleted",e),this.eventEmitter.emit(P.default.DeleteMessage,e)}},{key:"onUserInfoUpdate",value:function(e){var t=this;console.log("userInfo update, ids",e),JSON.parse(e).map((function(e){t._reloadUserInfosFromRemote([e])}))}},{key:"onFriendListUpdate",value:function(e){console.log("friendList update, ids",e),this.eventEmitter.emit(P.default.FriendListUpdate,e)}},{key:"onFriendRequestUpdate",value:function(e){this.eventEmitter.emit(P.default.FriendRequestUpdate,e)}},{key:"registerMessageContent",value:function(e,t,r,n){m.default.registerMessageContent(e,t,r,n)}},{key:"getHost",value:function(){return(0,p.host)()}},{key:"getClientId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wx";if(["ali","wx","qq","tt","bd","uni"].indexOf(e)<0)return console.error("platformName must be one of [ali、wx、qq、tt、bd、uni]"),"";var t=this._platformOptions(e);if(""===this.clientId){try{this.clientId=t.mp.getStorageSync("clientId")}catch(e){}if(!this.clientId){this.clientId=this.uuid();try{t.mp.setStorage({key:"clientId",data:this.clientId})}catch(e){}}}return this.clientId}},{key:"getEncodedClientId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"wx",t=this.getClientId(e);return(0,h.AESEncrypt)(t,"")}},{key:"encodeData",value:function(e){return(0,h.AESEncrypt)(e,this.privateSecret)}},{key:"decodeData",value:function(e){return this._Utf8ArrayToStr((0,h.AESDecrypt)(e,this.privateSecret,!1))}},{key:"_Utf8ArrayToStr",value:function(e){var t,r,n,o,s,i;for(t="",n=e.length,r=0;r<n;)switch((o=e[r++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=String.fromCharCode(o);break;case 12:case 13:s=e[r++],t+=String.fromCharCode((31&o)<<6|63&s);break;case 14:s=e[r++],i=e[r++],t+=String.fromCharCode((15&o)<<12|(63&s)<<6|(63&i)<<0)}return t}},{key:"uuid",value:function(){for(var e=[],t=0;t<36;t++)e[t]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}},{key:"init",value:function(e){e&&e.length>0&&B.default.config(e[0])}},{key:"onForeground",value:function(){if(console.log("onForeground"),this.connectionStatus!==U.default.ConnectionStatusConnected)this._reconnect();else{var e=(new Date).getTime(),t=B.default.KEEP_ALIVE_TIMEOUT>B.default.KEEP_ALIVE_INTERNAL?B.default.KEEP_ALIVE_TIMEOUT:B.default.KEEP_ALIVE_INTERNAL;e-this.lastActiveTime>1e3*t?(console.log("keep alive timeout, reconnect..."),this._reconnect()):console.log("already connected")}}},{key:"connect",value:function(e,r){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"wx";if(["ali","wx","qq","tt","bd","uni"].indexOf(o)<0)console.error("platformName must be one of [ali、wx、qq、tt、bd、uni]");else if(console.log("platform",this._platformOptions(o)),this.platformName=o,this.isUserDisconnected=!1,"string"==typeof e&&"string"==typeof r)if(!this.mqttClientInstance||!this.isConnecting&&this.connectionStatus!==U.default.ConnectionStatusConnected||this.userId!==e||this.token!==r){""!==this.userId&&this.userId!==e&&this.reset(),this.onConnectionChanged(U.default.ConnectionStatusConnecting),this.reconnectTimer||(this.reconnectTimer=setInterval((function(){n.connectionStatus===U.default.ConnectionStatusUnconnected&&""!==n.userId&&""!==n.token&&(console.log("reconnect",n.userId,n.token,(new Date).valueOf()),n.connect(n.userId,n.token,n.platformName))}),t.connectionTimeout));var s=B.default.WX_APP_ID,i=B.default.WX_APP_KEY;this.userId=e,this.isConnecting=!0;var a=setTimeout((function(){n.isConnecting=!1,console.log("connect timeout")}),t.connectionTimeout);(0,p.connect)(s,i,e,this.getClientId(o),r,(function(e,t,o,s,i,u){if(n.isConnecting=!1,clearTimeout(a),console.log("connect/route error",e,(new Date).valueOf()),0!==e){var l=U.default.ConnectionStatusUnconnected;return e===F.default.kEcServerTokenIncorrect?l=U.default.ConnectionStatusTokenIncorrect:e===F.default.kEcServerUserIsBlocked?l=U.default.ConnectionStatusRejected:e===F.default.kEcServerSecrectKeyMismatch&&(l=U.default.ConnectionStatusSecretKeyMismatch),void n.onConnectionChanged(l)}n.mqttClientInstance=t,n.privateSecret=o,n.isReceiptEnable=i,n.isClearGroupMsgWhenKickoff=u,n.mqttClientInstance.on("connect",(function(e){n.isConnecting=!1,n.token=r,n.lastActiveTime=(new Date).getTime();var t=te.decode(e.payload);if(console.log("connect ack",t),n._pullFriends(t.friendHead),n._pullFriendRequest(t.friendRqHead),n.msgHead){var o=n.settingHead.compare(t.settingHead)<0||n.connectionStatus!==U.default.ConnectionStatusConnected;n._pullMessages(t.msgHead,0,o,t.recvHead,t.readHead,!0)}else B.default.MESSAGE_ROAMING?(n.msgHead=c.default.ZERO,console.log("pull roaming message",n.msgHead.toString(),t.msgHead.toString()),n.onConnectionChanged(U.default.ConnectionStatusReceiveing),n._pullMessages(c.default.MAX_VALUE,0,!0,t.recvHead,t.readHead,!0)):(n.msgHead=t.msgHead,n._pullUserSettings(t.settingHead));var i=(new Date).getTime();n.deltaTime=Number(t.serverTime)-i-(i-s)/2})),n.mqttClientInstance.on("reconnect",(function(){n.isConnecting=!1,console.log("------reconnect--------")})),n.mqttClientInstance.on("offline",(function(){console.log("------offline--------"),n.isConnecting=!1,n.connectionStatus=U.default.ConnectionStatusUnconnected,!n.isUserDisconnected&&n._reconnect()})),n.mqttClientInstance.on("close",(function(){console.log("------close--------"),n.isConnecting=!1,n.connectionStatus=U.default.ConnectionStatusUnconnected,!n.isUserDisconnected&&n._reconnect()})),n.mqttClientInstance.on("disconnect",(function(){console.log("------disconnect--------")})),n.mqttClientInstance.on("error",(function(e){console.log("------error--------",e),n.isConnecting=!1,n.connectionStatus=U.default.ConnectionStatusUnconnected,!n.isUserDisconnected&&n._reconnect()})),n.mqttClientInstance.on("pingresp",(function(e){n.lastActiveTime=e})),n.mqttClientInstance.on("message",(function(e,t,r){if(n.lastActiveTime=(new Date).getTime(),console.log("on push",e),"MS"===e){var o=_e.decode(t),s=[];s.push(o),n.onReceiveMessage(s,!1,!1)}else if("MN"===e){var i=ke.decode(t);n._pullMessages(i.head,i.type)}else if("FN"===e){if(8===t.length){var a=n._getLongFromBuffer(t);n._pullFriends(a)}}else if("FRN"===e){if(8===t.length){var u=n._getLongFromBuffer(t);n._pullFriendRequest(u)}}else if("UN"===e){if(8===t.length){var l=n._getLongFromBuffer(t);n._pullUserSettings(l)}}else if("RMN"===e){var d=Fe.decode(t);n.onRecallMessage(d.fromUser,d.id)}else if("RCN"===e){if(8===t.length){var c=n._getLongFromBuffer(t);n._pullRecv(c)}}else if("RDN"===e){if(8===t.length){var f=n._getLongFromBuffer(t);n._pullRead(f)}}else if("CONFN"===e){var h=pe.decode(t);n.onConferenceEvent(h.id)}}))}),this._platformOptions(o))}else console.log("connect 0",this.isConnecting,this.connectionStatus,this.userId,this.token);else console.error("userId and token must be string type")}},{key:"_reconnect",value:function(){!this.isConnecting&&this.userId&&this.token&&(this.resetMqtt(),this.connect(this.userId,this.token,this.platformName))}},{key:"_getLongFromBuffer",value:function(e){return c.default.fromBytesBE(e.slice(0,8))}},{key:"_getStringFromBuffer",value:function(e){return e.toString()}},{key:"_pullMessages",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments[3],o=this,s=arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(console.log("to pull user messages",t),e){if(0===t&&this.msgHead.compare(e)>=0)return console.log("local message is up to date",e,this.msgHead,r,n,s,i),void(r||i?(this._pullUserSettings(c.default.MAX_VALUE),this.isReceiptEnable&&(this._pullRecv(n),this._pullRead(s),i&&this._syncRead())):this.connectionStatus!==U.default.ConnectionStatusConnected&&this.onConnectionChanged(U.default.ConnectionStatusConnected));if(1===t&&this.chatRoomMsgHead.compare(e)>=0)return void console.log("local message is up to date",e,this.chatRoomMsgHead)}if(1!==t||this.currentChatRoomId){var a=Ie.encode({id:0===t?this.msgHead:this.chatRoomMsgHead,type:t}).finish();console.log("pull user messages, type: "+t+", head: "+e+", msgHead: "+this.msgHead+", chatroomMsgHead: "+this.chatRoomMsgHead),this._publish("MP",a,(function(e,a){if(console.log("pull user messages response",e),0!==e||!a)return console.log("pull message error",e),void(r&&o._pullUserSettings(o.settingHead));var u=Ce.decode(a);if(0===t)o.msgHead=u.current;else if(1===t){if(console.log("pull chatroom message result",u),u.message.length>0&&u.message[0].conversation.target!==o.currentChatRoomId)return void console.log("user not in chatroom now, drop message");o.chatRoomMsgHead=u.current}o.onReceiveMessage(u.message,r),o._pullMessages(u.head,t,r,n,s,i)}))}}},{key:"_pullRecv",value:function(e){var t=this;if(!(!e||this.isPullingRecv||this.recvHead.compare(e)>=0)){this.isPullingRecv=!0;var r=Be.create();r.version=this.recvHead;var n=Be.encode(r).finish();console.log("pull recv",this.recvHead),this._publish("RCP",n,(function(e,r){if(t.isPullingRecv=!1,0===e&&r){var n=Je.decode(r);console.log("pull recv result",n),t.recvHead=n.current,t.store.updateDeliveries(n.delivery);var o=new a.default;n.delivery.forEach((function(e){o.set(e.fromUser,e.receiveTime)})),t.eventEmitter.emit(P.default.MessageReceived,o),t._pullRecv(n.head)}}))}}},{key:"_pullRead",value:function(e){var t=this;if(!(!e||this.isPullingRead||this.readHead.compare(e)>=0)){this.isPullingRead=!0;var r=Be.create();r.version=this.readHead;var n=Be.encode(r).finish();console.log("pull read",this.readHead),this._publish("RDP",n,(function(e,r){if(t.isPullingRead=!1,0===e&&r){var n=Ye.decode(r);console.log("pull read result",n),t.readHead=n.current,t.store.updateReads(n.read);var o=[];n.read.forEach((function(e){var t=new V.default;t.userId=e.fromUser,t.readTime=e.readTime,0===e.conversation.type&&(e.conversation.target=e.fromUser),t.conversation=(0,i.default)(new x.default,e.conversation),t.conversation.conversationType=t.conversation.type,o.push(t)})),t.eventEmitter.emit(P.default.MessageRead,o),t._pullRead(n.head)}}))}}},{key:"isReceiptEnabled",value:function(){return this.isReceiptEnable}},{key:"getConversationDelivery",value:function(e){return this.store.getConversationDelivery(e)}},{key:"getConversationRead",value:function(e){return this.store.getConversationRead(e)}},{key:"setDeviceToken",value:function(e,t){if(e>5&&t){var r=Xe.create();r.pushType=e,r.appName="wfc.wx",r.deviceToken=t,r.platform=5,this._publish("UDT",Xe.encode(r).finish(),(function(e,t){e||console.log("setDeviceToken error",e)}))}else console.error("setDeviceToken error, invalid parameters",e,t)}},{key:"_pullUserSettings",value:function(e){var t=this;if(console.log("pull user setting...",e),!this.isPullingSetting)if(this.settingHead.compare(c.default.ZERO)>0&&this.settingHead.compare(e)>=0)this.connectionStatus!==U.default.ConnectionStatusConnected&&this.onConnectionChanged(U.default.ConnectionStatusConnected);else{this.isPullingSetting=!0;var r=Be.create();r.version=this.settingHead;var n=Be.encode(r).finish();this._publish("UG",n,(function(e,r){if(console.log("pull user setting response"),t.isPullingSetting=!1,0===e&&r){var n=le.decode(r);n.entry.map((function(e){e.updateDt.compare(t.settingHead)>0&&(t.settingHead=e.updateDt)})),t.store.updateUserSettings(n.entry),t._preloadConversationTargetInfos(),t.connectionStatus!==U.default.ConnectionStatusConnected&&t.onConnectionChanged(U.default.ConnectionStatusConnected),t.onSettingUpdate(n.entry)}else t.connectionStatus!==U.default.ConnectionStatusConnected&&(0===e?t.onConnectionChanged(U.default.ConnectionStatusConnected):t.onConnectionChanged(U.default.ConnectionStatusUnconnected),console.log("pull user setting error",e))}))}}},{key:"_preloadConversationTargetInfos",value:function(){if(!this.isConversationTargetPreloaded){this.isConversationTargetPreloaded=!0;var e=this.store._getConversationInfos(),t=[],r=[];e.forEach((function(e){e.conversation.type===S.default.Single?t.push(e.conversation.target):e.conversation.type===S.default.Group&&r.push(e.conversation.target)})),t.indexOf(this.getUserId())<0&&t.push(this.getUserId()),this.getGroupInfos(r),this.getUserInfos(t)}}},{key:"_preloadFiendsUserInfo",value:function(){if(!this.isFriendPreloaded){this.isFriendPreloaded=!0;var e=this.store.getFriendIds();this.getUserInfos(e)}}},{key:"_preloadFirendRequsetUserInfo",value:function(){this.isFriendRequestPreloaded}},{key:"_updateUserSetting",value:function(e,t,r,n,o){var s=this,i=we.create();i.scope=e,i.key=t,i.value=r+"";var a=we.encode(i).finish();this._publish("UP",a,(function(i,a){if(0===i){var u=new N.default;u.scope=e,u.key=t,u.value=r,s.store.updateUserSettings([u]),n&&n()}else o&&o(i)}))}},{key:"_pullFriends",value:function(e){var t=this;if(this.friendHead.compare(e)>=0)return 0;var r=Be.create();r.version=this.friendHead;var n=Be.encode(r).finish();this._publish("FP",n,(function(e,r){if(0===e&&r){var n=ie.decode(r);console.log("fr",n);var o=[];n.entry.map((function(e){e.updateDt.compare(t.friendHead)>0&&(t.friendHead=e.updateDt),0===e.state&&o.push(e.uid),t.store.insertFriend((0,i.default)(new D.default,e))})),t._preloadFiendsUserInfo(),t.onFriendListUpdate(o)}else console.log("pull friend error",e)}))}},{key:"_pullFriendRequest",value:function(e){if(console.log("_pullFriendRequest",e),!(this.friendRequestHead.compare(e)>=0)){var t=this.store.getFriendRequestMaxDt();this.loadFriendRequestFromRemote(t)}}},{key:"disconnect",value:function(){this.onConnectionChanged(U.default.ConnectionStatusLogout),this.reset(),this.isUserDisconnected=!0}},{key:"getUserId",value:function(){return this.userId}},{key:"getServerDeltaTime",value:function(){return parseInt(this.deltaTime)}},{key:"isLogin",value:function(){return this.token&&this.token.length>0}},{key:"getConnectionStatus",value:function(){return this.connectionStatus}},{key:"getMyGroupList",value:function(){var e=this.store.getFavGroups();return e&&0!==e.length?this.getGroupInfos(e):[]}},{key:"_publish",value:function(e,t,r){var n=this,o=this._encrypt(t);if(!this.mqttClientInstance)return console.log("the connect is reset, reconnecting"),void(r&&r(-1));var s=setTimeout((function(){console.log("publish not response after "+B.default.SEND_MESSAGE_TIMEOUT+"s, reset"),r&&r(-1),n.connectionStatus=U.default.ConnectionStatusUnconnected,n._reconnect()}),1e3*(B.default.SEND_MESSAGE_TIMEOUT?B.default.SEND_MESSAGE_TIMEOUT:20));this.mqttClientInstance.publish(e,o,{qos:1,retain:!0,dup:!0},(function(t,o){if(clearTimeout(s),r){if(t)return console.log("publish error",e,t),r(-1),void("Connection closed"===t.message&&(n.connectionStatus=U.default.ConnectionStatusUnconnected,n._reconnect()));if(console.log("publish response"),!o||!o.payload||o.payload.length<1)return console.log("publish response error",o),void(r&&r(-1));var i=o.payload[0];if(0===i||255===i||5===i){var a=null;if(o.payload&&o.payload.length>1){if(a=n._decryptPublishResponse(o),255===i){console.log("publish response compressed");try{a=L.default.inflate(a)}catch(t){console.log("decompress response error",t)}}r(0,a)}else console.log("publish response is empty"),r(0,null)}else console.log("publish error",e,i),r(i),i===F.default.kEcServerTokenIncorrect||i===F.default.kEcServerUserIsBlocked||F.default.kEcServerSecrectKeyMismatch}else console.log("publish, cb is null, drop")}))}},{key:"_reloadUserInfosFromRemote",value:(Nt=(0,s.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._reloadUserInfosFromRemoteEx(null,null,t);case 1:case"end":return e.stop()}}),e,this)}))),function(e){return Nt.apply(this,arguments)})},{key:"_reloadUserInfosFromRemoteEx",value:(Ut=(0,s.default)(o.default.mark((function e(t,r,n){var s,a=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Me.create(),n.forEach((function(e){if(e&&!a.store.loadingUsers.has(e)){a.store.loadingUsers.add(e);var t=Ne.create();t.uid=e,t.updateDt=c.default.ZERO,s.request.push(t)}})),!(s.request.length<1)){e.next=4;break}return e.abrupt("return");case 4:console.log("reload userInfo from remote",n),this._publish("UPUI",Me.encode(s).finish(),(function(e,o){if(n.forEach((function(e){a.store.loadingUsers.delete(e)})),0!==e||!o)return console.log("reloadUserInfoFromRemote error",e,n),void(r&&r(0!==e?e:-1));var s=Re.decode(o).result;if(s.length>0){var u=[];console.log("load userInfo from remote",s),s.forEach((function(e){var t=(0,i.default)(new T.default,e.user);a.store.setUser(t),u.push(a.store.getUser(t.uid,""))})),t&&t(u),a.eventEmitter.emit(P.default.UserInfosUpdate,u)}else console.log("reload userInfo from remote response empty"),r&&r(-1)}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return Ut.apply(this,arguments)})},{key:"_reloadUserInfoFromRemote",value:(qt=(0,s.default)(o.default.mark((function e(t,r,n,s){var a,u,l=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Me.create(),(u=Ne.create()).uid=t,u.updateDt=c.default.fromValue(r),a.request.push(u),console.log("reload userInfo from remote",t),this._publish("UPUI",Me.encode(a).finish(),(function(e,r){if(0!==e||!r)return s&&s(0===e?-1:e),void console.log("reloadUserInfoFromRemote error",e,t);var o=Re.decode(r).result;if(o.length>0){var a=[];console.log("load userInfo from remote",o),o.forEach((function(e){var t=(0,i.default)(new T.default,e.user);l.store.setUser(t),a.push(l.store.getUser(t.uid,""))})),n&&n(a[0])}else s&&s(-1)}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return qt.apply(this,arguments)})},{key:"getUserInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.store.getUser(e);return(t||r instanceof O.default)&&this._reloadUserInfosFromRemote([e]),r}},{key:"getUserInfoEx",value:function(e,t,r,n){var o=this.store.getUser(e);o instanceof O.default||r&&r(o),(t||o instanceof O.default)&&this._reloadUserInfosFromRemoteEx((function(e){r&&r(e[0])}),n,e)}},{key:"getUserInfos",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments[1],n=[],o=[];return t.forEach((function(t){var s=e.store.getUser(t,r);s instanceof O.default&&o.push(t),n.push(s)})),o.length>0&&this._reloadUserInfosFromRemote(o),n}},{key:"searchUser",value:(Pt=(0,s.default)(o.default.mark((function e(t,r,n,s,i){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=Ae.create()).fuzzy=r,a.keyword=t,a.page=n,this._publish("US",Ae.encode(a).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,r=arguments[1];if(0===e&&r){if(s){var n=Pe.decode(r);s(t,n.entry)}}else i&&i(e)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return Pt.apply(this,arguments)})},{key:"searchFriends",value:function(e){return this.store.searchFriends(e)}},{key:"searchGroups",value:function(e){return this.store.searchGroups(e)}},{key:"getIncommingFriendRequest",value:function(){return this.store.getIncommingFriendRequest()}},{key:"getOutgoingFriendRequest",value:function(){return this.store.getOutgoingFriendRequest()}},{key:"getOneFriendRequest",value:function(e,t){return this.store.getOneFriendRequest(e,t)}},{key:"loadFriendRequestFromRemote",value:function(e){var t=this,r=Be.create();r.version=e,this._publish("FRP",Be.encode(r).finish(),(function(r,n){if(0===r&&n){t.friendRequestHead=e;var o=se.decode(n);console.log("load friend request result",o);var s=[];o.entry.forEach((function(e){var r=new E.default;r.status=e.status,r.reason=e.reason,r.extra=e.extra,e.fromUid===t.getUserId()?(r.direction=0,r.target=e.toUid,r.readStatus=e.fromReadStatus?1:0):(r.direction=1,r.target=e.fromUid,r.readStatus=e.toReadStatus?1:0,0===r.readStatus&&s.push(r.target)),r.timestamp=e.updateDt,t.store.insertOrReplaceFriendRequest(r)})),t.onFriendRequestUpdate(s)}}))}},{key:"getUnreadFriendRequestCount",value:function(){return this.store.getUnreadFriendRequestCount()}},{key:"clearUnreadFriendRequestStatus",value:function(){var e=this.store.getUnreadFriendRequestMaxDt();if(0!==c.default.ZERO.compare(e)&&this.store.clearUnreadFriendRequestStatus()>0){var t=Be.create();t.version=e,this._publish("FRUS",Be.encode(t).finish(),(function(e,t){}))}}},{key:"deleteFriend",value:(At=(0,s.default)(o.default.mark((function e(t,r,n){var s,i=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=pe.create()).id=t,this._publish("FDL",pe.encode(s).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;arguments[1],0===e?(i.store.deleteFriend(t),r&&r()):n(e)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return At.apply(this,arguments)})},{key:"handleFriendRequest",value:(Tt=(0,s.default)(o.default.mark((function e(t,r,n,s,i){var a,u=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=he.create()).status=r?1:2,a.targetUid=t,a.extra=n,this._publish("FHR",he.encode(a).finish(),(function(e,r){0===e?(u.store.updateFriendRequestStatus(t,a.status),s&&s()):i&&i(e)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return Tt.apply(this,arguments)})},{key:"isBlackListed",value:function(e){this.store.isBlackListed(e)}},{key:"getBlackList",value:function(){return this.store.getBlackList()}},{key:"setBlackList",value:function(e,t,r,n){var o=this,s=ee.create();s.status=t?2:1,s.uid=e,this._publish("BLU",ee.encode(s).finish(),(function(s,i){0===s?(o.store.setBlackList(e,t),r&&r()):n&&n()}))}},{key:"getMyFriendList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.store.getFriendIds();return(e||0===t.length)&&this._getMyFriendListFromRemote(),t}},{key:"getFriendAlias",value:function(e){return this.store.getFriendAlias(e)}},{key:"getFriendExtra",value:function(e){return this.store.getFriendExtra(e)}},{key:"setFriendAlias",value:(Ot=(0,s.default)(o.default.mark((function e(t,r,n,s){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=Q.create()).targetUid=t,i.reason=r,this._publish("FALS",Q.encode(i).finish(),(function(e,t){0===e?n():s(e)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return Ot.apply(this,arguments)})},{key:"_getMyFriendListFromRemote",value:(Rt=(0,s.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._pullFriends(c.default.MAX_VALUE);case 1:case"end":return e.stop()}}),e,this)}))),function(){return Rt.apply(this,arguments)})},{key:"createGroup",value:(Mt=(0,s.default)(o.default.mark((function e(t,r,n,s){var i,a,u,l,d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0],f=arguments[6],h=this,p=arguments[7],m=arguments[8];return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=t||"",i=this.getUserId(),a=de.create(),(u=ce.create()).targetId=t,u.type=r,u.name=n,u.portrait=s,a.groupInfo=u,d.includes(i)||d.push(i),d.forEach((function(e){var t=fe.create();t.memberId=e,t.type=M.default.Normal,e===i&&(t.type=M.default.Owner),a.members.push(t)})),(l=ne.create()).group=a,l.toLine=c,l.notifyContent=this._toProtoMessageContent(f),this._publish("GC",ne.encode(l).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,t=arguments[1];if(0===e&&t){var r=t.toString(),n=new x.default(S.default.Group,r,0);if(h.store._genAndSaveDefaultConversationInfo(n),f){var o=new y.default(n,f);h.store.updateConversationLastMessage(o)}p&&p(r),console.log("create group success",r)}else console.log("create group error",e),m&&m(e)}));case 16:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return Mt.apply(this,arguments)})},{key:"setGroupManager",value:(Ct=(0,s.default)(o.default.mark((function e(t,r,n,s,i,a,u){var l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(l=qe.create()).type=r?1:0,l.groupId=t,l.userId=n,l.toLine=s,l.notifyContent=this._toProtoMessageContent(i),this._publish("GSM",qe.encode(l).finish(),(function(e,r){0===e?(a&&a(),console.log("set group manager success",t)):(console.log("set group manager error",e),u&&u(e))}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,s,i){return Ct.apply(this,arguments)})},{key:"_reloadGroupInfoFromRemote",value:(It=(0,s.default)(o.default.mark((function e(t,r,n,s){var a,u,l=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Me.create(),(u=Ne.create()).uid=t,u.updateDt=c.default.fromValue(r),a.request.push(u),console.log("reload groupInfo from remote",t),this._publish("GPGI",Me.encode(a).finish(),(function(e,r){if(0!==e||!r)return console.log("reloadGroupInfoFromRemote error",e,t),void(s&&s(0===e?-1:e));var o=xe.decode(r).info;if(console.log("reload groupInfo from remote result",o),o.length>0){var a=[];o.forEach((function(e){var t=(0,i.default)(new I.default,e);t.target=e.targetId,delete t.targetId,l.store.setGroupInfo(t),a.push(t)})),n&&n(a[0])}else s&&s(-1)}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return It.apply(this,arguments)})},{key:"_reloadGroupInfosFromRemote",value:(Et=(0,s.default)(o.default.mark((function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._reloadGroupInfosFromRemoteEx(null,null,r);case 1:case"end":return e.stop()}}),e,this)}))),function(){return Et.apply(this,arguments)})},{key:"_reloadGroupInfosFromRemoteEx",value:(St=(0,s.default)(o.default.mark((function e(t,r,n){var s,a=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=Me.create(),n.forEach((function(e){if(t||!a.store.loadingGroups.has(e)){a.store.loadingGroups.add(e);var r=Ne.create();r.uid=e,r.updateDt=c.default.ZERO,s.request.push(r)}})),!(s.request.length<1)){e.next=5;break}return r&&r(-1),e.abrupt("return");case 5:console.log("reload groupInfo from remote",n),this._publish("GPGI",Me.encode(s).finish(),(function(e,o){if(n.forEach((function(e){a.store.loadingGroups.delete(e)})),0!==e||!o)return console.log("reloadGroupInfoFromRemote error",e,n),void(r&&r(0!==e?e:-1));var s=xe.decode(o).info;if(console.log("reload groupInfo from remote result",s),s.length>0){var u=[];s.forEach((function(e){var t=(0,i.default)(new I.default,e);t.target=e.targetId,delete t.targetId,a.store.setGroupInfo(t),u.push(t)})),t&&t(u),a.eventEmitter.emit(P.default.GroupInfosUpdate,u)}}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return St.apply(this,arguments)})},{key:"_reloadGroupMembersFromRemote",value:(xt=(0,s.default)(o.default.mark((function e(t,r){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._reloadGroupMembersFromRemoteEx(t,r,null,null);case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return xt.apply(this,arguments)})},{key:"_reloadGroupMembersFromRemoteEx",value:(kt=(0,s.default)(o.default.mark((function e(t,r,n,s){var i,a=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||!this.store.loadingGroupMembers.has(t)){e.next=4;break}return e.abrupt("return");case 4:this.store.loadingGroupMembers.add(t);case 5:(i=Se.create()).target=t,i.head=c.default.fromValue(r),this._publish("GPGM",Se.encode(i).finish(),(function(e,r){if(a.store.loadingGroupMembers.delete(t),0!==e||!r)return console.log("reloadGroupMembersFromRemote error",t,e),void(s&&s(0!==e?e:-1));var o=Ee.decode(r).member,i=[];o.forEach((function(e){var r=new C.default;r.groupId=t,r.alias=e.alias,r.type=e.type,r.memberId=e.memberId,r.updateDt=e.updateDt,r.createDt=e.createDt,i.push(r)})),console.log("loadGroupMembersFromRemote",t,i.length),a.store.updateGroupMembers(t,i);var u=a.getGroupInfo(t,!1);n&&n(i),a.eventEmitter.emit(P.default.GroupInfosUpdate,[u]),console.log("emit groupInfosUpdate",P.default.GroupInfosUpdate,[u])}));case 9:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return kt.apply(this,arguments)})},{key:"getGroupInfo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.store.getGroupInfo(e);return(t||r instanceof R.default)&&this._reloadGroupInfosFromRemote(e),r instanceof R.default&&this._reloadGroupMembersFromRemote(e,c.default.ZERO),r}},{key:"getGroupInfoEx",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments[2],n=arguments[3],o=this.store.getGroupInfo(e);o instanceof R.default||r&&r(o),(t||o instanceof R.default)&&this._reloadGroupInfosFromRemoteEx((function(e){r&&r(e[0])}),n,e),o instanceof R.default&&this._reloadGroupMembersFromRemote(e,0)}},{key:"getGroupInfos",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[],o=[];if(t.forEach((function(t){var n=e.store.getGroupInfo(t);n instanceof R.default&&o.push(t),r.push(n)})),o.length>0&&(this._reloadGroupInfosFromRemote.apply(this,o),o.length<=50)){var s=!0,i=!1,a=void 0;try{for(var u,l=(0,n.default)(o);!(s=(u=l.next()).done);s=!0){var d=u.value;this._reloadGroupMembersFromRemote(d,c.default.ZERO)}}catch(e){i=!0,a=e}finally{try{!s&&l.return&&l.return()}finally{if(i)throw a}}}return r}},{key:"addGroupMembers",value:function(e,t,r,n,o,s){var i=this;if(!e||!t||0===t.length||!r||0===r.length)return console.log("addGroupMembers params invalid"),void(s&&s(-1));var a=X.create();a.groupId=e,t.forEach((function(e){var t=fe.create();t.memberId=e,t.type=M.default.Normal,a.addedMember.push(t)})),a.toLine=r,a.notifyContent=this._toProtoMessageContent(n),this._publish("GAM",X.encode(a).finish(),(function(e,t){i._generalOperationCallback(e,o,s)}))}},{key:"getGroupMemberIds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.store.getGroupMemberIds(e,t)}},{key:"getGroupMembers",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.store.getGroupInfo(e);if(r instanceof R.default)return this._reloadGroupInfosFromRemote(e),this._reloadGroupMembersFromRemote(e,c.default.ZERO),null;var n=this.store.getGroupMembers(e),o=c.default.ZERO;return n.length>0&&n.forEach((function(e){e.updateDt.compare(o)>0&&(o=e.updateDt)})),(0===n.length||t)&&(console.log("---------",e,r,r.memberUpdateDt),this._reloadGroupMembersFromRemote(e,o)),n.sort(this._compareGroupMember)}},{key:"getGroupMembersByType",value:function(e,t){return this.getGroupMembers(e).filter((function(e){return e.type===t}))}},{key:"_compareGroupMember",value:function(e,t){return e.type===t.type?(0,f.numberValue)(e.updateDt)-(0,f.numberValue)(t.updateDt):4===e.type?-1:4===t.type?1:t.type-e.type}},{key:"getGroupMembersEx",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments[2],n=arguments[3],o=this.store.getGroupMembers(e),s=c.default.ZERO;o.length>0&&o.forEach((function(e){e.updateDt.compare(s)>0&&(s=e.updateDt)})),0===o.length?this._reloadGroupMembersFromRemoteEx(e,0,r,n):(r&&r(o.sort(this._compareGroupMember)),t&&this._reloadGroupMembersFromRemoteEx(e,s))}},{key:"getGroupMember",value:function(e,t){return this.store.getGroupInfo(e)instanceof R.default?(this._reloadGroupInfosFromRemote(e),this._reloadGroupMembersFromRemote(e,c.default.ZERO),null):this.store.getGroupMember(e,t)}},{key:"kickoffGroupMembers",value:function(e,t,r,n,o,s){var i=this,a=Te.create();a.groupId=e,a.removedMember=t,a.toLine=r,a.notifyContent=this._toProtoMessageContent(n),this._publish("GKM",Te.encode(a).finish(),(function(e,t){i._generalOperationCallback(e,o,s)}))}},{key:"muteOrAllowGroupMembers",value:function(e,t,r,n,o,s,i,a){var u=this,l=qe.create();l.type=t?1:0,l.groupId=e,l.userId=n,l.toLine=o,l.notifyContent=this._toProtoMessageContent(s),this._publish(r?"GMAL":"GMM",qe.encode(l).finish(),(function(o,s){0===o?(u.store.updateGroupMemberMuteOrAllow(e,n,t,r),i&&i(),console.log("mute group member success",e,n)):(console.log("mute group member error",o),a&&a(o))}))}},{key:"quitGroup",value:(wt=(0,s.default)(o.default.mark((function e(t,r,n,s,i){var a,u=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=Oe.create()).groupId=t,a.toLine=r,a.notifyContent=this._toProtoMessageContent(n),this._publish("GQ",Oe.encode(a).finish(),(function(e,t){u._generalOperationCallback(e,s,i)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return wt.apply(this,arguments)})},{key:"dismissGroup",value:(jt=(0,s.default)(o.default.mark((function e(t,r,n,s,i){var a,u=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=oe.create()).groupId=t,a.toLine=r,a.notifyContent=this._toProtoMessageContent(n),this._publish("GD",oe.encode(a).finish(),(function(e,t){u._generalOperationCallback(e,s,i)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return jt.apply(this,arguments)})},{key:"modifyGroupInfo",value:(vt=(0,s.default)(o.default.mark((function e(t,r,n,s,i,a,u){var l,d=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(l=ve.create()).groupId=t,l.toLine=s,l.type=r,l.value=n+"",l.notifyContent=this._toProtoMessageContent(i),this._publish("GMI",ve.encode(l).finish(),(function(e,t){d._generalOperationCallback(e,a,u)}));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,s,i){return vt.apply(this,arguments)})},{key:"modifyGroupAlias",value:(bt=(0,s.default)(o.default.mark((function e(t,r,n,s,i,a){var u,l=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(u=je.create()).groupId=t,u.alias=r,u.toLine=n,u.notifyContent=this._toProtoMessageContent(s),this._publish("GMA",je.encode(u).finish(),(function(e,t){l._generalOperationCallback(e,i,a)}));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,s){return bt.apply(this,arguments)})},{key:"transferGroup",value:function(e,t,r,n,o,s){var i=this,a=Ue.create();a.groupId=e,a.newOwner=t,a.toLine=r,a.notifyContent=this._toProtoMessageContent(n),this._publish("GTG",Ue.encode(a).finish(),(function(e,t){i._generalOperationCallback(e,o,s)}))}},{key:"getFavGroups",value:function(){return this.store.getFavGroups()}},{key:"isFavGroup",value:function(e){return this.store.isFavGroup(e)}},{key:"setFavGroup",value:(_t=(0,s.default)(o.default.mark((function e(t,r,n,s){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._updateUserSetting(A.default.FavoriteGroup,t,r?"1":"0",n,s);case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return _t.apply(this,arguments)})},{key:"getFavUsers",value:function(){return this.store.getFavUsers()}},{key:"isFavUser",value:function(e){return this.store.isFavUser(e)}},{key:"setFavUser",value:function(e,t,r,n){this._updateUserSetting(A.default.FavoriteUser,e,t?"1":"0",r,n)}},{key:"getUserSetting",value:function(e,t){return this.store.getUserSetting(e,t)}},{key:"getUserSettings",value:function(e){return this.store.getUserSettings(e)}},{key:"setUserSetting",value:(yt=(0,s.default)(o.default.mark((function e(t,r,n,s,i){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._updateUserSetting(t,r,n,s,i);case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return yt.apply(this,arguments)})},{key:"modifyMyInfo",value:function(e,t,r){var n=this,o=Le.create();o.entry=e,this._publish("MMI",Le.encode(o).finish(),(function(e,o){n._generalOperationCallback(e,t,r)}))}},{key:"isGlobalSlient",value:function(){var e=this.store.getUserSetting(A.default.GlobalSilent,"");return!!e&&"1"===e.value}},{key:"setGlobalSlient",value:function(e,t,r){this._updateUserSetting(A.default.GlobalSilent,"",e?"1":"0",(function(){t&&t()}),(function(e){r&&r(e)}))}},{key:"isHiddenNotificationDetail",value:function(){var e=this.store.getUserSetting(A.default.HiddenNotificationDetail,"");return!!e&&"1"===e.value}},{key:"setHiddenNotificationDetail",value:(gt=(0,s.default)(o.default.mark((function e(t,r,n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._updateUserSetting(A.default.HiddenNotificationDetail,"",t?"1":"0",(function(){r&&r()}),(function(e){n&&n(e)}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return gt.apply(this,arguments)})},{key:"isHiddenGroupMemberName",value:function(e){var t=this.store.getUserSetting(A.default.GroupHideNickname,e);return!!t&&"1"===t.value}},{key:"setHiddenGroupMemberName",value:(mt=(0,s.default)(o.default.mark((function e(t,r,n,s){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._updateUserSetting(A.default.GroupHideNickname,t,r?"1":"0",(function(){n&&n()}),(function(e){s&&s(e)}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return mt.apply(this,arguments)})},{key:"joinChatroom",value:(pt=(0,s.default)(o.default.mark((function e(t,r,n){var s,i=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=pe.create()).id=t,this._publish("CRJ",pe.encode(s).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;arguments[1],0===e?(i.chatRoomMsgHead=c.default.ZERO,i.currentChatRoomId=t,r&&r(),i._pullMessages(c.default.MAX_VALUE,1,!1)):n&&n(e)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return pt.apply(this,arguments)})},{key:"quitChatroom",value:(ht=(0,s.default)(o.default.mark((function e(t,r,n){var s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=pe.create()).id=t,this.currentChatRoomId="",this._publish("CRQ",pe.encode(s).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;arguments[1],0===e?r&&r():n&&n(e)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return ht.apply(this,arguments)})},{key:"getChatroomInfo",value:(ft=(0,s.default)(o.default.mark((function e(t,r,n,s){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=Ge.create()).chatroomId=t,a.updateDt=c.default.fromValue(r),this._publish("CRI",Ge.encode(a).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,t=arguments[1];if(0===e&&t){if(n){var r=De.decode(t);console.log("getChatroomInfo result",r);var o=(0,i.default)(new z.default,r);n(o)}}else s&&s(e)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return ft.apply(this,arguments)})},{key:"getChatroomMemberInfo",value:(ct=(0,s.default)(o.default.mark((function e(t,r,n,s){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=He.create()).chatroomId=t,a.maxCount=r||10,this._publish("CRMI",He.encode(a).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,t=arguments[1];if(0===e&&t){if(n){var r=ze.decode(t);console.log("getChatroomMemberInfo result",r);var o=(0,i.default)(new k.default,r);n(o)}}else s&&s(e)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return ct.apply(this,arguments)})},{key:"createChannel",value:function(e,t,r,n,o,s,i){var a=PbChannelInfo.create();a.name=e,a.portrait=t,a.status=r,a.desc=n,a.extra=o,this._publish("CHC",PbChannelInfo.encode(a).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;arguments[1];0===e?s&&s():i&&i(e)}))}},{key:"getChannelInfo",value:function(e,t){var r=this.store.getChannelInfo(e);return(r instanceof G.default||t)&&this._reloadChannelInfo(e,r.updateDt),r}},{key:"_reloadChannelInfo",value:(dt=(0,s.default)(o.default.mark((function e(t){var r,n=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(r=We.create()).channelId=t,r.head=c.default.fromValue(s),this._publish("CHP",We.encode(r).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,t=arguments[1];if(0===e&&t){var r=PbChannelInfo.decode(t),o=(0,i.default)(new w.default,r);n.store.setChannelInfo(channInfo),n.eventEmitter.emit(P.default.ChannelInfosUpdate,[o])}}));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return dt.apply(this,arguments)})},{key:"modifyChannelInfo",value:(lt=(0,s.default)(o.default.mark((function e(t,r,n,s,i){var a,u=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=Ve.create()).channelId=t,a.type=r,a.value=n,this._publish("CHMI",Ve.encode(a).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;arguments[1],0===e?(u._reloadChannelInfo(t),s&&s()):i&&i(e)}));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return lt.apply(this,arguments)})},{key:"searchChannel",value:function(e,t,r,n){var o=Ae.create();o.keyword=e,o.fuzzy=t,o.page=0,this._publish("CHS",Ae.encode(o).finish(),(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,o=arguments[1];if(0===t&&o){if(r){var s=Ze.decode(o);r(e,s.entry)}}else n&&n(t)}))}},{key:"isListenedChannel",value:function(e){var t=this.store.getUserSetting(A.default.Listened_Channel,e);return t&&"1"===t.value}},{key:"listenChannel",value:(ut=(0,s.default)(o.default.mark((function e(t,r,n,s){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=Ke.create()).channelId=t,i.listen=r,this._publish("CHL",Ke.encode(i).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;arguments[1],0===e?n&&n():s&&s(e)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return ut.apply(this,arguments)})},{key:"getMyChannels",value:function(){return this.store.getUserSettings(A.default.Listened_Channel).filter((function(e){return"1"===e.value})).map((function(e){return e.key}))}},{key:"getListenedChannels",value:function(){return this.store.getUserSettings(A.default.My_Channel).filter((function(e){return"1"===e.value})).map((function(e){return e.key}))}},{key:"destroyChannel",value:(at=(0,s.default)(o.default.mark((function e(t,r,n){var s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=pe.create()).id=t,this._publish("CHD",Ke.encode(s).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;arguments[1],0===e?r&&r():n&&n(e)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return at.apply(this,arguments)})},{key:"getConversationList",value:function(e,t){return this.store.getConversationList(e,t)}},{key:"getConversationInfo",value:function(e){var t=this.store.getConversationInfo(e);return t||((t=new H.default).conversation=e),t}},{key:"searchConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1,2],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1];return this.store.searchConversation(e,t,r)}},{key:"removeConversation",value:(it=(0,s.default)(o.default.mark((function e(t,r){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getConversationInfo(t)){e.next=3;break}return e.abrupt("return");case 3:this.store.removeConversation(t,r),(0,f.eq)(n.timestamp,0)&&(n.timestamp=c.default.fromValue((new Date).getTime())),this._syncConversationReadDt(t,n.timestamp.neg());case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return it.apply(this,arguments)})},{key:"setConversationTop",value:function(e,t,r,n){var o=this,s=A.default.ConversationTop,i=e.type+"-"+e.line+"-"+e.target,a=t?"1":"0";this._updateUserSetting(s,i,a,(function(){var n=o.getConversationInfo(e);o.eventEmitter.emit(P.default.ConversationInfoUpdate,n),o.store.setConversationTop(e,t),r&&r()}),(function(e){n&&n(e)}))}},{key:"setConversationSlient",value:function(e,t,r,n){var o=this,s=A.default.ConversationSilent,i=e.type+"-"+e.line+"-"+e.target,a=t?"1":"0";this._updateUserSetting(s,i,a,(function(){o.store.setConversationSilent(e,t),r&&r();var n=o.getConversationInfo(e);o.eventEmitter.emit(P.default.ConversationInfoUpdate,n)}),(function(e){n&&n(e)}))}},{key:"setConversationDraft",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.store.setConversationDraft(e,t);var r=this.getConversationInfo(e);this.eventEmitter.emit(P.default.ConversationInfoUpdate,r)}},{key:"setConversationTimestamp",value:function(e,t){var r=this.store.getConversationInfo(e);r||(r=this.store._genAndSaveDefaultConversationInfo(e));var n=(new Date).getTime();(0,f.gt)(t,n+72e5)&&(t=n),r.timestamp=c.default.fromValue(t),this.eventEmitter.emit(P.default.ConversationInfoUpdate,r)}},{key:"getUnreadCount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];return this.store.getUnreadCount(e,t)}},{key:"getConversationUnreadCount",value:function(e){return this.store.getConversationUnreadCount(e)}},{key:"sendConferenceRequest",value:function(e,t,r,n,o){var s=ConferenceRequest.create();s.sessionId=e,s.roomId=t,s.request=r,s.data=n,this._publish("CONF",ConferenceRequest.encode(s).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,t=arguments[1];if(0===e){var r=null;if(t){var n=pe.decode(t);r=n.id}o&&o(0,r)}else o&&o(e)}))}},{key:"clearConversationUnreadStatus",value:(st=(0,s.default)(o.default.mark((function e(t){var r,n,s,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=this.store.getUnreadMsgSenders(t),n=this.store.clearConversationUnreadStatus(t),s=this.getConversationInfo(t),this.eventEmitter.emit(P.default.ConversationInfoUpdate,s),n>0&&(i=this.store.getConversationReadMaxDt(t)).compare(c.default.ZERO)>0&&this._syncConversationReadDt(t,i,r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return st.apply(this,arguments)})},{key:"_syncConversationReadDt",value:function(e,t,r,n){var o=this,s=e.type+"-"+e.line+"-"+e.target,i=we.create();i.scope=A.default.Conversation_Sync,i.key=s,i.value=t.toString(),i.target=r;var a=we.encode(i).finish();!n&&this.isReceiptEnable&&this.isUserReceiptEnabled()&&this.store.saveSyncReadEntry(e.type,e.target,e.line,t,r),this._publish("UP",a,(function(r,n){if(0===r){var i=new N.default;i.scope=A.default.Conversation_Sync,i.key=s,i.value=t.toString(),o.store.updateUserSettings([i]),o.store.deleteSyncReadEntry(e.type,e.target,e.line),o._syncRead()}else console.log("syncConversationReadDt error",r)}))}},{key:"_syncRead",value:function(){var e=this.store.loadSyncReadEntry();if(e){var t=new x.default(e.type,e.target,e.line);this._syncConversationReadDt(t,e.readDt,e.senders,e.id)}}},{key:"clearAllUnreadStatus",value:(ot=(0,s.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.store.clearAllUnreadStatus();case 2:case"end":return e.stop()}}),e,this)}))),function(){return ot.apply(this,arguments)})},{key:"setMediaMessagePlayed",value:function(e){if(this.store.setMediaMessagePlayed(e)>0){var t=this.store.getMessageById(e);this.eventEmitter.emit(P.default.MessageStatusUpdate,t)}}},{key:"isMyFriend",value:function(e){return this.store.isMyFriend(e)}},{key:"sendFriendRequest",value:(nt=(0,s.default)(o.default.mark((function e(t,r,n,s){var i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(i=Q.create()).targetUid=t,i.reason=r,this._publish("FAR",Q.encode(i).finish(),(function(e,t){0===e?n&&n():s&&s(e)}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n){return nt.apply(this,arguments)})},{key:"getMessages",value:function(e,t){!(arguments.length>2&&void 0!==arguments[2])||arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.store.getConversationMessages(e)}},{key:"getMessagesEx",value:function(e,t,r,n,o,s,i){return this.store.getMessagesEx(e,t,r,i)}},{key:"getMessagesEx2",value:function(e,t,r,n,o,s,i){return this.store.getMessagesEx2(e,t,r,i)}},{key:"getUserMessages",value:function(e,t,r){!(arguments.length>3&&void 0!==arguments[3])||arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5];var n=this.store.getConversationMessages(t);return n.filter((function(t){return t.from===e}))}},{key:"getUserMessagesEx",value:function(e,t,r,n){!(arguments.length>4&&void 0!==arguments[4])||arguments[4],arguments.length>5&&void 0!==arguments[5]&&arguments[5];var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],s=this.store.getMessagesEx(t,r,o,"");return s.filter((function(t){return t.from===e}))}},{key:"getFirstUnreadMessageId",value:function(e){return this.store.getFirstUnreadMessageId(e)}},{key:"_loadRemoteMessagePublishCallback",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments[1],r=arguments[2],n=this,o=arguments[3],s=arguments[4];if(console.log("loadRemoteMessages result",e),0===e&&t){var i=Ce.decode(t);console.log("loadRemoteMessages result data",i);var a=[];if(i&&i.message){if(i.message.forEach((function(e){var t=y.default.fromProtoMessage(e);if(t){if(81===t.type){var r=n.store.getMessageByUid(c.default.fromValue(t.content.binaryContent));r&&r.messageId>0&&(n.store.deleteMessageByUid(c.default.from(t.content.binaryContent)),n.onRemoteMessageDeleted(r.messageUid))}80===t.type&&n.onRecallMessage(t.content.operatorId,t.content.messageUid);var o=m.default.getMessageContentPersitFlag(t.content.type);o!==j.default.Persist&&o!==j.default.Persist_And_Count||(t.messageId=n.store.genNormalMessageId(),n.store.saveMessage(t)&&a.push(t))}})),r&&a.length>0){var u=a[0],l=u.conversation,d=this.store.getConversationInfo(l);d||(d=this.store._genAndSaveDefaultConversationInfo(l)),d.lastMessage&&d.lastMessage.timestamp&&!(0,f.gt)(u.timestamp,d.lastMessage.timestamp)||(d.lastMessage=u,d.timestamp=u.timestamp,this.eventEmitter.emit(P.default.ConversationInfoUpdate,d))}o&&o(a=a.reverse())}else s&&s(-1)}else s&&s(e)}},{key:"loadRemoteLineMessages",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=this,o=arguments[3],s=arguments[4],i=c.default.fromValue(t);i.eq(c.default.ZERO)&&(i=c.default.MAX_VALUE);var a=ye.create();a.line=e,a.count=r,a.beforeUid=i,this._publish("LLM",ye.encode(a).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,t=arguments[1];n._loadRemoteMessagePublishCallback(e,t,!1,o,s)}))}},{key:"loadRemoteMessages",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,n=this,o=arguments[3],s=arguments[4],i=c.default.fromValue(t);i.eq(c.default.ZERO)&&(i=c.default.MAX_VALUE);var a=this.store.getConversationInfo(e);if(a&&a.lastMessage&&a.lastMessage.messageUid&&i.neq(c.default.MAX_VALUE)&&c.default.fromValue(a.lastMessage.messageUid).compare(i)<0)return console.log("the start message is exits",a.lastMessage.toString(),i.toString()),void(s&&s(-2));var u=ge.create();u.conversation=this._toProtoConversation(e),u.beforeUid=i,u.count=r,console.log("loadRemoteMessages request",e,i.toString(),u),this._publish("LRM",ge.encode(u).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,t=arguments[1];n._loadRemoteMessagePublishCallback(e,t,!0,o,s)}))}},{key:"getMessageById",value:function(e){return this.store.getMessageById(e)}},{key:"getMessageByUid",value:function(e){return this.store.getMessageByUid(e)}},{key:"searchMessage",value:function(e,t){return this.store.searchConversationMessage(e,t)}},{key:"sendConversationMessage",value:(et=(0,s.default)(o.default.mark((function e(t,r,n,s,i,a,u){var l;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new y.default,t instanceof x.default?l.conversation=t:l.conversation=new x.default(t.type,t.target,t.line),l.messageContent=r,this.sendMessageEx(l,n,s,i,a,u);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o,s,i){return et.apply(this,arguments)})},{key:"sendMessage",value:($=(0,s.default)(o.default.mark((function e(t,r,n,s,i){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.sendMessageEx(t,[],r,n,s,i);case 1:case"end":return e.stop()}}),e,this)}))),function(e,t,r,n,o){return $.apply(this,arguments)})},{key:"sendMessageEx",value:(Y=(0,s.default)(o.default.mark((function e(t){var r,n,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments[2],u=arguments[3],l=this,d=arguments[4],f=arguments[5];return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,n=c.default.fromValue((new Date).getTime()),t.status=b.default.Sending,t.from=this.userId,t.timestamp=n,(s=m.default.getMessageContentPersitFlag(t.messageContent.type))===j.default.No_Persist||s===j.default.Transparent?(r=0,t.messageId=r):(r=t.conversation.type===S.default.ChatRoom?this.store.genChatRoomMessageId():this.store.genNormalMessageId(),t.messageId=r,t.content=this._toProtoMessageContent(t.messageContent),this.store.saveMessage(t),console.log("message prepared",r,n,t),this.store.updateConversationLastMessage(t)),this.eventEmitter.emit(P.default.SendMessage,t),a&&(console.log("onPrepared",this.getMessageById(r)),a(r,n)),t.messageContent instanceof g.default?t.messageContent.file||t.messageContent.localPath?this.uploadMedia("",t.messageContent.file||t.messageContent.localPath,t.messageContent.mediaType,(function(e){t.messageContent.remotePath=e,console.log("remote Url",e),l.eventEmitter.emit(P.default.MessageStatusUpdate,t),l._sendMessageInternal(t,i,d,f)}),(function(e){t.status=b.default.SendFailure,l.store.updateMessageById(t),l.store.updateConversationLastMessage(t),l.eventEmitter.emit(P.default.MessageStatusUpdate,t),f&&f(e)}),(function(e,t){u&&u(e,t)})):""!==t.messageContent.remotePath?this._sendMessageInternal(t,i,d,f):(t.status=b.default.SendFailure,this.store.updateMessageById(t),this.store.updateConversationLastMessage(t),this.eventEmitter.emit(P.default.MessageStatusUpdate,t),f&&(console.log("send media message error, file and remoteUrl are null"),f(-1))):this._sendMessageInternal(t,i,d,f);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return Y.apply(this,arguments)})},{key:"_sendMessageInternal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=this,n=arguments[2],o=arguments[3],s=this._toProtoMessage(e);s.to=t,console.log("_sendMessageInternal",this.connectionStatus);var i=_e.encode(s).finish();if(i.byteLength>15360&&console.log("警告！！！消息内容大小是: "+i.byteLength+"，大小超过15K了，建议不要超过15K，如果大消息过多会影响接受体验，建议大文件使用媒体消息类型!!!"),i.byteLength>204800)return console.error("消息内容太大，发送失败!"),void(o&&o(-1));this._publish("MS",i,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,s=arguments[1];if(console.log("_sendMessageInternal result",t),0!==t||!s)return console.log("send message error",t),e.status=b.default.SendFailure,r.store.updateMessageById(e),r.store.updateConversationLastMessage(e),r.eventEmitter.emit(P.default.MessageStatusUpdate,e),void(o&&o(t));var i=new c.default(0),a=new c.default(0);16===s.length?(i=c.default.fromBytesBE(s.slice(0,8),!0),a=c.default.fromBytesBE(s.slice(8,16),!0),e.messageUid=i,e.timestamp=a,e.status=b.default.Sent,e.direction=0,e.from=r.userId,r.store.updateMessageById(e),r.store.updateConversationLastMessage(e),r.eventEmitter.emit(P.default.MessageStatusUpdate,e),n&&n(i,a)):(e.status=b.default.SendFailure,r.store.updateMessageById(e),r.store.updateConversationLastMessage(e),console.log("ms reponse length error"),r.eventEmitter.emit(P.default.MessageStatusUpdate,e),o&&o(-100001))}))}},{key:"recallMessage",value:(J=(0,s.default)(o.default.mark((function e(t,r,n){var s,i=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s=me.create()).id=c.default.fromValue(t),this._publish("MR",me.encode(s).finish(),(function(e,o){0===e?(r&&r(),i.onRecallMessage(i.getUserId(),t)):n&&n(e)}));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return J.apply(this,arguments)})},{key:"deleteMessageById",value:function(e){var t=this.store.deleteMessageById(e);return t&&this.onMessageDeleted(e),t}},{key:"deleteRemoteMessage",value:function(e,t,r){var n=this,o=me.create();o.id=c.default.fromValue(e),this._publish("MD",me.encode(o).finish(),(function(o,s){if(0===o){var i=n.store.getMessageByUid(e);t&&t(),i&&n.onMessageDeleted(messageId)}else r&&r(o)}))}},{key:"clearMessages",value:(Z=(0,s.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.store.clearConversationMessages(t),r=this.getConversationInfo(t),this.eventEmitter.emit(P.default.ConversationInfoUpdate,r);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return Z.apply(this,arguments)})},{key:"insertMessage",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=new y.default(e,t);switch(s.status=r,s.direction=0,r>=b.default.Unread&&(s.direction=1,e.type===S.default.Single?s.from=e.target:s.from=this.userId),s.timestamp=c.default.fromValue(o||(new Date).getTime()),e.type){case S.default.ChatRoom:s.messageId=this.store.genChatRoomMessageId();break;default:s.messageId=this.store.genNormalMessageId()}this.store.insertConversationMessages(s),n&&this.eventEmitter.emit(P.default.ReceiveMessage,s)}},{key:"isUserReceiptEnabled",value:function(){return"1"!==this.getUserSetting(A.default.DisableReceipt,"")}},{key:"setUserEnableReceipt",value:function(e,t,r){this._updateUserSetting(A.default.DisableReceipt,"",e?"0":"1",t,r)}},{key:"updateMessageContent",value:function(e,t){var r=this.store.getMessageById(e);0!==r.messageId&&(r.messageContent=t,this.store.updateMessageById(r))}},{key:"uploadMedia",value:(r=(0,s.default)(o.default.mark((function t(r,n,s,i,a,u){var l,d,c,f,p=this;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=void 0,r&&""!==r?(l=r,r=(new Date).valueOf()+"-"+r):(r=(new Date).valueOf()+"",l=r),-1!==r.indexOf(".")){t.next=13;break}t.t0=s,t.next=1===t.t0?6:5===t.t0?6:2===t.t0?8:3===t.t0?10:12;break;case 6:return r+=".jpg",t.abrupt("break",13);case 8:return r+=".mp3",t.abrupt("break",13);case 10:return r+=".mp4",t.abrupt("break",13);case 12:return t.abrupt("break",13);case 13:console.log("upload fileName",r,s),d=r.substring(r.lastIndexOf(".")),-1===l.indexOf(".")&&(l+=d),r=(r=(r=(0,W.btoa)(unescape(encodeURIComponent(r.substring(0,r.lastIndexOf(".")))))).indexOf("=")>-1?r.substring(0,r.indexOf("=")):r).replace(/\+/g,"0").replace(/\//,"1")+d,c=this.userId+"-"+s+"-"+Math.round((new Date).valueOf()/1e3)+"-"+Math.round(1e8*Math.random())+"_"+r,(f=ue.create()).mediaType=s,f.mediaPath=c,this._publish("GMUT",ue.encode(f).finish(),(function(t,o){if(console.log("get upload token",t,o),0===t){var d=ae.decode(o);console.log("upload token",d);var f=void 0;if(0===d.type)f="/fs";else if(3===d.type){var m=d.path+"/"+c;f="/fs/"+(m=(0,h.AESEncrypt)(m))}else 2===d.type&&(c=encodeURI(c)),f="/"+c;var g=80!==d.port?":"+d.port:"",y="";d.sslPort&&443!==d.sslPort&&(y=":"+d.sslPort);var _=void 0;_=B.default.USE_WSS?"https://"+d.server+y+f:"http://"+d.server+g+f,console.log("media server",_);var b=p._platformOptions(p.platformName).mp;if(d.type<2)b.uploadFile({url:_,filePath:n,name:"file",formData:{token:d.token,key:r},header:{"content-disposition":'attachment; filename="'+encodeURI(l)+'"'},success:function(e){var t=e.data,r=JSON.parse(t);i&&i(d.domain+"/"+r.key)},fail:function(){a(-1)}}).onProgressUpdate((function(e){u&&u(e.totalBytesSent,e.totalBytesExpectedToSend)}));else{var v={Authorization:d.token,"content-disposition":'attachment; filename="'+encodeURI(l)+'"'};if(2===d.type)v["Content-Type"]="application/octet-stream",v["x-oss-date"]=d.date;else{var j=void 0,w=r.split(".").pop();if(1===s)j="image/jpeg";else if(2===s)j="audio/amr";else if(3===s)j="video/mp4";else if(w)switch(w){case"jpg":case"jpeg":j="image/jpeg";break;case"gif":j="image/gif";break;case"png":j="image/png";break;case"mp3":j="audio/mpeg";break;case"mp4":j="video/mp4";break;case"doc":case"docx":j="application/vnd.ms-word";break;case"xls":case"xlsx":j="application/vnd.ms-xls";break;case"ppt":case"pptx":case"pps":j="application/vnd.ms-powerpoint";break;case"pdf":j='"application/pdf';break;case"xml":j="application/vnd.ms-xml";break;default:j="application/octet-stream"}else j="application/octet-stream";v["Content-Type"]=j,v["x-amz-date"]=d.date,v["x-wfc-cid"]=(0,h.AESEncrypt)(p.clientId),v["x-wfc-uid"]=(0,h.AESEncrypt)(p.userId)}b.getFileSystemManager().readFile({filePath:n,success:function(t){var r=void 0;if(console.log("read file success",t),3===d.type){if(t.data.size>104857600)return void(a&&(console.log("upload media size too large",t.data.size),a(-1)));var n=new Uint8Array(t.data);r=new e((0,h.AESEncrypt)(n,rt.privateSecret),"base64"),v["x-wfc-size"]=t.data.byteLength,r=r.buffer,console.log("encrypt success",r)}else r=t.data;console.log("upload header",v),b.request({url:_,method:"PUT",data:r,header:v,timeout:2e5,success:function(e){console.log("upload ",e),i&&i(d.domain+"/"+c)},fail:function(e){console.log("upload fail",e)}}).onProgressUpdate((function(e){u&&u(e.totalBytesSent,e.totalBytesExpectedToSend)}))},fail:function(e){console.log("read file fail",e)}})}}else a&&a(t)})),console.log("upload-----------");case 25:case"end":return t.stop()}}),t,this)}))),function(e,t,n,o,s,i){return r.apply(this,arguments)})},{key:"getAuthorizedMediaUrl",value:function(e,t,r,n,o){var s=ue.create();s.mediaType=t,s.mediaPath=r,s.messageId=e,this._publish("GMDT",me.encode(s).finish(),(function(e,t){if(0===e&&t){var r=pe.decode(t);n&&n(r.id)}else o&&o(0===e?-1:e)}))}},{key:"_getFileRecordsCallback",value:function(e,t,r,n){if(0===e&&t){var o=Qe.decode(t),s=[];o.record.forEach((function(e){var t=new K.default;t.conversation=new x.default(e.conversation.type,e.conversation.target,e.conversation.line),t.messageUid=e.messageId,t.name=e.name,t.url=e.url,t.size=e.size,t.downloadCount=e.downloadCount,t.userId=e.fromUser,t.timestamp=e.dt,s.push(t)})),r&&r(s)}else n&&n(0===e?-1:e)}},{key:"getConversationFileRecords",value:function(e,t,r,n,o,s){var i=this,a=$e.create();a.conversation=this._toProtoConversation(e),a.messageId=c.default.fromValue(r),a.from=t,a.count=n,this._publish("LFR",$e.encode(a).finish(),(function(e,t){i._getFileRecordsCallback(e,t,o,s)}))}},{key:"getMyFileRecords",value:function(e,t,r,n){var o=this,s=$e.create();s.messageId=c.default.fromValue(e),s.count=t,this._publish("LFR",$e.encode(s).finish(),(function(e,t){o._getFileRecordsCallback(e,t,r,n)}))}},{key:"deleteFileRecord",value:function(e,t,r){var n=me.create();n.id=c.default.fromValue(e),this._publish("DFR",me.encode(n).finish(),(function(e,n){0===e?t&&t():r&&r(e)}))}},{key:"getVersion",value:function(){return t.version}},{key:"getAuthorizedMediaUrl",value:function(e,t,r,n){var o=ue.create();o.mediaType=e,o.mediaPath=t,this._publish("GMDT",ue.encode(o).finish(),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2,t=arguments[1];if(0===e&&t){if(r){var o=pe.decode(t).result;r(o.id)}}else n&&n(e)}))}},{key:"_dataURItoBlob",value:function(e){for(var t=e.split(","),r=t[0].match(/:(.*?);/)[1],n=atob(t[1]),o=n.length,s=new Uint8Array(o);o--;)s[o]=n.charCodeAt(o);return console.log("-----------dataurltoblob",r),new Blob([s],{type:r})}},{key:"_encrypt",value:function(e){return(0,h.AESEncrypt)(e,this.privateSecret)}},{key:"_decrypt",value:function(e){return(0,h.AESDecrypt)(e.toString("base64"),this.privateSecret,!0)}},{key:"_decryptPublishResponse",value:function(e){var t=(0,h.AESDecrypt)(e.payload.slice(1,e.payload.length).toString("base64"),this.privateSecret,!0);return t||null}},{key:"_toProtoConversation",value:function(e){var t=re.create();return t.type=e.type,t.target=e.target,t.line=e.line,t}},{key:"_toProtoMessage",value:function(e){var t=_e.create();return t.conversation=e.conversation,t.fromUser=this.getUserId(),t.content=this._toProtoMessageContent(e.messageContent),t}},{key:"_toProtoMessageContent",value:function(e){if(!e)return null;var t=be.create(),r=e.encode();return t.content=r.content,t.pushContent=r.pushContent,t.pushData=r.pushData,t.searchableContent=r.searchableContent,t.data=r.binaryContent,t.type=r.type,t.mentionedType=r.mentionedType,t.mentionedTarget=r.mentionedTargets,t.mediaType=r.mediaType,t.remoteMediaUrl=r.remoteMediaUrl,t.persistFlag=m.default.getMessageContentPersitFlag(r.type),t.extra=e.extra,t}},{key:"_generalOperationCallback",value:function(e,t,r){0===e?t&&t():r&&r(e)}},{key:"_getStore",value:function(){return this.store}},{key:"_platformOptions",value:function(e){var t={};switch(e){case"ali":t.scheme="ali",t.mp=my;break;case"wx":t.scheme="wx",t.mp=wx;break;case"bd":t.scheme="bd",t.mp=swan;break;case"tt":t.scheme="tt",t.mp=tt;break;case"qq":t.scheme="qq",t.mp=qq;break;case"uni":t.scheme="uni",t.mp=uni}return t}},{key:"test",value:function(){console.log("---------------test start----------------------");var e=new c.default(-35650792,34748344,!1),t=new c.default(-1415576788,34740445,!1);console.log("xxxoo",e.comp(t),e.toString(),t.toString()),console.log("---------------test end----------------------")}}]),t}();et.connectionTimeout=2e4,et.version="WFCWebSDKVersion-";var rt=new et;t.default=rt}).call(this,r("./node_modules/node-libs-browser/node_modules/buffer/index.js").Buffer)},"./wfc/internal/wfc_store.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=C(r("./node_modules/babel-runtime/helpers/toConsumableArray.js")),o=C(r("./node_modules/babel-runtime/core-js/object/assign.js")),s=C(r("./node_modules/babel-runtime/core-js/get-iterator.js")),i=C(r("./node_modules/babel-runtime/core-js/set.js")),a=C(r("./node_modules/babel-runtime/core-js/map.js")),u=C(r("./node_modules/babel-runtime/helpers/classCallCheck.js")),l=C(r("./node_modules/babel-runtime/helpers/createClass.js")),d=C(r("./node_modules/long/src/long.js")),c=C(r("../messages/messageStatus")),f=C(r("../model/conversation")),h=C(r("../model/conversationInfo")),p=C(r("../model/conversationType")),m=C(r("../model/internal/friendInfo")),g=C(r("../model/nullGroupInfo")),y=C(r("../model/nullUserInfo")),_=C(r("../model/unreadCount")),b=C(r("../client/userSettingScope")),v=C(r("../messages/mediaMessageContent")),j=C(r("../model/NullChannelInfo")),w=C(r("../client/messageConfig")),k=r("../util/longUtil"),x=C(r("./wfc/internal/syncReadEntry.js")),S=C(r("../messages/persistFlag")),E=C(r("../model/groupMemberType")),I=C(r("../../config.js"));function C(e){return e&&e.__esModule?e:{default:e}}var M=function(){function e(){(0,u.default)(this,e),this.users=new a.default,this.groups=new a.default,this.loadingUsers=new i.default,this.loadingGroups=new i.default,this.loadingGroupMembers=new i.default,this.favGroups=[],this.favUsers=[],this.channels=new a.default,this.groupMembers=new a.default,this.friends=new a.default,this.deliveries=new a.default,this.readEntries=new a.default,this.syncReadEntries=new a.default,this.friendRequests=[],this.messages=[],this.settings=[],this.conversationInfos=[],this.chatRoomMessageId=100,this.messageId=100,this.syncReadId=100}return(0,l.default)(e,[{key:"genConversationKey",value:function(e){return e.type+"@"+e.target+"@"+e.line}},{key:"getUser",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.users.get(e);if(void 0===r)r=new y.default(e);else{var n=this.getFriendAlias(e);if(n&&""!==n&&(r.friendAlias=n),t.length>0){var o=this.getGroupMember(t,e);o&&o.alias&&""!==o.alias&&(r.groupAlias=o.alias)}}return r}},{key:"setUser",value:function(e){this.users.set(e.uid,e)}},{key:"getChannelInfo",value:function(e){var t=this.channels.get(e);return t||(t=new j.default(e)),t}},{key:"setChannelInfo",value:function(e){e instanceof j.default||this.channels.set(e.channelId,e)}},{key:"getGroupInfo",value:function(e){var t=this.groups.get(e);return void 0===t&&(t=new g.default(e)),t}},{key:"setGroupInfo",value:function(e){this.groups.set(e.target,e)}},{key:"getGroupMembers",value:function(e){var t=this.groupMembers.get(e);return t=t||[]}},{key:"getGroupMemberIds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getGroupMembers(e,t),n=[];return r.forEach((function(e){n.push(e.memberId)})),n}},{key:"setGroupMembers",value:function(e,t){this.groupMembers.set(e,t)}},{key:"removeGroupAndMembers",value:function(e){this.groups.delete(e),this.groupMembers.delete(e)}},{key:"updateGroupMembers",value:function(e,t){var r=this.groupMembers.get(e);if(r)for(var n=0;n<t.length;n++){for(var o=!1,s=0;s<r.length;s++)r[s].memberId===t[n].memberId&&(r[s]=t[n],o=!0);o||r.push(t[n])}else this.groupMembers.set(e,t)}},{key:"updateGroupMemberMuteOrAllow",value:function(e,t,r,n){var o=this;t&&t.forEach((function(t){var s=o.getGroupMember(e,t);s&&(s.type=n?r?E.default.Allowed:0:r?E.default.Muted:0)}))}},{key:"getGroupMember",value:function(e,t){var r=this.groupMembers.get(e);if(!r)return null;var n=!0,o=!1,i=void 0;try{for(var a,u=(0,s.default)(r);!(n=(a=u.next()).done);n=!0){var l=a.value;if(t===l.memberId)return l}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return null}},{key:"getFriendIds",value:function(){var e=[];return this.friends.forEach((function(t,r){0===t.state&&e.push(t.uid)})),e}},{key:"getBlackList",value:function(){var e=[];return this.friends.forEach((function(t,r){2===t.state&&e.push(t.uid)})),e}},{key:"isBlackListed",value:function(e){return 2===this.friends.get(e).state}},{key:"setBlackList",value:function(e,t){this.friends.get(e).state=t?2:0}},{key:"isMyFriend",value:function(e){var t=this.friends.get(e);return!(!t||0!==t.state)}},{key:"isBlocked",value:function(e){var t=this.friends.get(e);return t&&2===t.state}},{key:"insertFriend",value:function(e){var t=this.friends.get(e.uid);(!t||e.updateDt.compare(t.updateDt)>0)&&this.friends.set(e.uid,(0,o.default)(new m.default,e))}},{key:"addFavGroup",value:function(e){this.favGroups.indexOf(e)>=0||this.favGroups.push(e)}},{key:"getFavGroups",value:function(){return this.favGroups}},{key:"isFavGroup",value:function(e){var t=this.favGroups.indexOf(e);return t&&t>=0}},{key:"getFavUsers",value:function(){return this.favUsers}},{key:"isFavUser",value:function(e){var t=this.favUsers.indexOf(e);return t&&t>=0}},{key:"getFavGroupInfos",value:function(){var e=this,t=[];return this.favGroups.map((function(r){var n=e.groups.get(r);t.push(n)})),t}},{key:"getFriendAlias",value:function(e){var t=this.friends.get(e),r=t?t.alias:"";return r.length>0?r:null}},{key:"getFriendExtra",value:function(e){var t=this.friends.get(e),r=t?t.extra:"";return r.length>0?r:null}},{key:"getFriendUserInfos",value:function(){var e=this,t=[];return this.friends.forEach((function(r,n){if(0===r.state){var o=e.getUser(n);t.push(o)}})),t}},{key:"getConversationInfo",value:function(e){var t=this.conversationInfos.filter((function(t){return t.conversation.equal(e)}));return t&&t.length>0?t[0]:null}},{key:"clearConversationUnreadStatus",value:function(e){var t=this.getConversationInfo(e),r=0;return t&&(r=t.unreadCount.unread+t.unreadCount.unreadMention+t.unreadCount.unreadMentionAll,this.updateConversationUnreadStatus(e,t.timestamp)),r}},{key:"updateConversationRead",value:function(e,t){this.messages.forEach((function(r){r.conversation.equal(e)&&r.status===c.default.Sent&&(0,k.lte)(r.timestamp,t)&&(r.status=c.default.Readed,console.log("--------- mark conversation message read",e,t))}))}},{key:"getConversationReadMaxDt",value:function(e){var t=d.default.ZERO;return this.messages.forEach((function(r){r.conversation.equal(e)&&(t=(0,k.gt)(r.timestamp,t)?r.timestamp:t)})),t}},{key:"getUnreadMsgSenders",value:function(e){var t=[];return this.messages.forEach((function(r){r.conversation.equal(e)&&(r.status!==c.default.Unread&&r.status!==c.default.Mentioned&&r.status!==c.default.AllMentioned||-1===t.indexOf(r.from)&&t.push(r.from))})),t}},{key:"clearAllUnreadStatus",value:function(){var e=this,t=0;return this.conversationInfos.forEach((function(r){t+=r.unreadCount.unread+r.unreadCount.unreadMention+r.unreadCount.unreadMentionAll,e.updateConversationUnreadStatus(conversation,r.timestamp)})),t}},{key:"updateConversationUnreadStatus",value:function(e,t){var r=this.getConversationMessages(e),n=this.getConversationInfo(e);n.unreadCount.unread=0,n.unreadCount.unreadMention=0,n.unreadCount.unreadMentionAll=0,(0,k.gte)(t,n.timestamp)?r.forEach((function(e){(0,k.gte)(t,e.timestamp)&&[c.default.Unread,c.default.AllMentioned,c.default.Mentioned].indexOf(e.status)>-1&&(e.status=c.default.Readed)})):r.forEach((function(e){0!==e.direction&&((0,k.gt)(e.timestamp,t)?e.status===c.default.Unread?n.unreadCount.unread+=1:e.status===c.default.Mentioned?n.unreadCount.unreadMention+=1:e.status===c.default.AllMentioned&&(n.unreadCount.unreadMentionAll+=1):[c.default.Unread,c.default.AllMentioned,c.default.Mentioned].indexOf(e.status)>-1&&(e.status=c.default.Readed))}))}},{key:"_getConversationInfos",value:function(){return this.conversationInfos}},{key:"getConversationList",value:function(e,t){return this.conversationInfos.filter((function(r){if(-1===e.indexOf(r.conversation.type)||-1===t.indexOf(r.conversation.line))return!1;r.conversation.target,r.conversation.type;return!0})).sort((function(e,t){return e.isTop&&!t.isTop?1:!e.isTop&&t.isTop?-1:(0,k.compare)(e.timestamp,t.timestamp)})).reverse()}},{key:"searchFriends",value:function(e){return this.getFriendUserInfos().filter((function(t){return t.displayName.indexOf(e)>=0}))}},{key:"searchConversation",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,1,2,3],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1];return this.conversationInfos.filter((function(o){if(r.indexOf(o.conversation.type)<0||n.indexOf(o.conversation.line)<0)return!1;var s=void 0;switch(o.conversation.type){case p.default.Single:s=t.getUser(o.conversation.target).displayName;break;case p.default.Group:s=t.getGroupInfo(o.conversation.target).displayName}if(s&&s.indexOf(e)>-1)return!0;var i=t.searchConversationMessage(o.conversation,e);return i&&i.length>0}))}},{key:"searchGroups",value:function(e){var t=[];return this.groups.forEach((function(r,n){n.name.indexOf(e)>-1&&t.push(n)})),t}},{key:"_findConversationInfoIndex",value:function(e){for(var t=0;t<this.conversationInfos.length;t++)if(this.conversationInfos[t].conversation.equal(e))return t;return-1}},{key:"removeConversation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this._findConversationInfoIndex(e);r>-1&&this.conversationInfos.splice(r,1),t&&(this.messages=this.messages.filter((function(t){return!t.conversation.equal(e)})))}},{key:"setConversationTop",value:function(e,t){var r=this.getConversationInfo(e);r&&(r.isTop=t)}},{key:"setConversationSilent",value:function(e,t){var r=this.getConversationInfo(e);r&&(r.isSilent=t)}},{key:"setConversationDraft",value:function(e,t){var r=this.getConversationInfo(e);r&&(r.draft=t)}},{key:"getUnreadCount",value:function(e,t){var r=new _.default;return this.conversationInfos.forEach((function(n){e.indexOf(n.conversation.type)>-1&&t.indexOf(n.conversation.line)>-1&&n.unreadCount&&(r.unread+=n.unreadCount.unread,r.unreadMention+=n.unreadCount.unreadMention,r.unreadMentionAll+=n.unreadCount.unreadMentionAll)})),r}},{key:"getConversationUnreadCount",value:function(e){var t=this._findConversationInfoIndex(e);return t>-1?this.conversationInfos[t].unreadCount:null}},{key:"insertConversationMessages",value:function(e){var t;(t=this.messages).push.apply(t,(0,n.default)(e))}},{key:"updateConversationLastMessage",value:function(e){if(e.messageId){var t=this.conversationInfos.find((function(t){return t.conversation.equal(e.conversation)}));if(!t){var r=this.getUserSetting(b.default.Conversation_Sync,e.conversation.conversationType+"-"+e.conversation.line+"-"+e.conversation.target);if(r&&r.value&&r.value.startsWith("-")&&(0,k.gte)(-Number(r.value),e.timestamp))return void console.log("conversation removed, drop conversation message",e);(t=new h.default).conversation=e.conversation,t.timestamp=e.timestamp,t.unreadCount=new _.default,this.conversationInfos.push(t)}var n=t.conversation,o=this.getUserSetting(b.default.Conversation_Sync,n.conversationType+"-"+n.line+"-"+n.target),s=0;o&&(s=Number(o.value)),(0,k.gte)(e.timestamp,t.timestamp)&&(t.lastMessage=e,t.timestamp=e.timestamp),(0,k.gt)(e.timestamp,s)&&1===e.direction&&w.default.getMessageContentFlag(e.messageContent.type)===S.default.Persist_And_Count&&(e.status===c.default.Unread?t.unreadCount.unread+=1:e.status===c.default.Mentioned?t.unreadCount.unreadMention+=1:e.status===c.default.AllMentioned&&(t.unreadCount.unreadMentionAll+=1))}}},{key:"getConversationMessages",value:function(e){var t=this.messages.filter((function(t){return t.conversation.equal(e)}));return t&&t.length>0?t.sort((function(e,t){return(0,k.compare)(e.timestamp,t.timestamp)})):t}},{key:"getMessagesEx2",value:function(e,t,r,n){var o=this.messages.filter((function(o){var s=o.conversation;return!(!(e.indexOf(s.conversationType)>=0&&t.indexOf(s.line)>=0)||r!==c.default.All&&o.status!==r)&&(!n||(s.conversationType===p.default.Single?o.from===n||s.target===n:o.from===n||o.to===n))}));return o&&o.length>0?o.sort((function(e,t){return(0,k.compare)(e.timestamp,t.timestamp)})):o}},{key:"getMessagesEx",value:function(e,t,r,n){var o=this.messages.filter((function(o){var s=o.conversation;return!!(e.indexOf(s.conversationType)>=0&&t.indexOf(s.line)>=0&&(0===r.length||r.length>0&&r.indexOf(w.default.getMessageContentType(o.messageContent))>=0))&&(!n||(s.conversationType===p.default.Single?o.from===n||s.target===n:o.from===n||o.to===n))}));return o&&o.length>0?o.sort((function(e,t){return(0,k.compare)(e.timestamp,t.timestamp)})):o}},{key:"getFirstUnreadMessageId",value:function(e){var t=this.getConversationMessages(e);if(t&&t.length>0){var r=t.filter((function(e){return[c.default.Unread,c.default.AllMentioned,c.default.AllMentioned].indexOf(e.status)>=0}));if(r&&r.length>0)return r[0]}return-1}},{key:"clearConversationMessages",value:function(e){this.messages=this.messages.filter((function(t){return!t.conversation.equal(e)}));var t=this.getConversationInfo(e);t&&(t.lastMessage=null)}},{key:"searchMessage",value:function(e){return this.messages.filter((function(t){return t.content&&t.content.searchableContent&&t.content.searchableContent.indexOf(e)>-1}))}},{key:"searchConversationMessage",value:function(e,t){return this.getConversationMessages(e).filter((function(e){return e.content&&e.content.searchableContent&&e.content.searchableContent.indexOf(t)>-1}))}},{key:"genChatRoomMessageId",value:function(){return this.chatRoomMessageId++,0-this.chatRoomMessageId}},{key:"genNormalMessageId",value:function(){return this.messageId++}},{key:"saveMessage",value:function(e){return e.messageUid&&this.getMessageByUid(e.messageUid)?(console.log("messageUid exist",e),!1):e.messageId>0&&this.getMessageById(e.messageId)?(console.log("messageId exist",e),!1):(this.messages.push(e),!0)}},{key:"updateMessageById",value:function(e){if(e.messageId){for(var t=void 0,r=0;r<this.messages.length;r++){if(this.messages[r].messageId===e.messageId){t=r;break}}if(t){this.messages[t]=e;var n=this.getConversationInfo(e.conversation);n&&n.lastMessage.messageId===e.messageId&&(n.lastMessage=e)}}}},{key:"deleteMessageById",value:function(e){for(var t=void 0,r=0;r<this.messages.length;r++){if(this.messages[r].messageId===e){t=r;break}}if(t){var n=this.messages.splice(t,1)[0];return this.onMessageDeleted(n),!0}return!1}},{key:"deleteMessageByUid",value:function(e){for(var t=void 0,r=0;r<this.messages.length;r++){if(0===this.messages[r].messageUid.compare(e)){t=r;break}}if(t){var n=this.messages.splice(t,1)[0];return this.onMessageDeleted(n),!0}return!1}},{key:"onMessageDeleted",value:function(e){if(e){var t=e,r=this.getConversationInfo(t.conversation),n=this.getUserSetting(b.default.Conversation_Sync,t.conversation.conversationType+"-"+t.conversation.line+"-"+t.conversation.target),o=0;if(n&&(o=Number(n.value)),(0,k.gt)(t.timestamp,o)&&1===t.direction&&(t.status===c.default.Unread?r.unreadCount.unread-=1:t.status===c.default.Mentioned?r.unreadCount.unreadMention-=1:t.status===c.default.AllMentioned&&(r.unreadCount.unreadMentionAll-=1)),r.lastMessage&&r.lastMessage.messageId===t.messageId){var s=this.getConversationMessages(t.conversation);s&&s.length>0?r.lastMessage=s[s.length-1]:r.lastMessage=null}}}},{key:"deleteFriend",value:function(e){this.friends.delete(e)}},{key:"getMessageById",value:function(e){var t=this.messages.filter((function(t){return t.messageId===e}));return t.length>0?t[0]:null}},{key:"getMessageByUid",value:function(e){var t=d.default.fromValue(e),r=this.messages.filter((function(e){return 0===t.compare(e.messageUid)}));return r&&r.length>0?r[0]:null}},{key:"setMediaMessagePlayed",value:function(e){var t=!1,r=this.getMessageById(e);return r.messageContent instanceof v.default&&1===r.direction&&(r.status=c.default.Played,t=!0),t}},{key:"updateUserSettings",value:function(e){var t=this;e.sort((function(e,t){return(0,k.compare)(e.updateDt,t.updateDt)})),e.forEach((function(e){for(var r=-1,n=0;n<t.settings.length;n++){var o=t.settings[n];if(o.key===e.key&&o.scope===e.scope){r=n;break}}if(r>=0?""===e.value?t.settings.splice(r,1):t.settings[r]=e:""!==e.value&&t.settings.push(e),e.scope===b.default.ConversationSilent||e.scope===b.default.ConversationTop||e.scope===b.default.Conversation_Sync||e.scope===b.default.UserSettingConversationReaded){var s=e.key,i=s.indexOf("-"),a=s.indexOf("-",i+1),u=parseInt(s.substring(0,i)),l=parseInt(s.substring(i+1,a)),d=s.substring(a+1),c=new f.default(u,d,l),h=t.getConversationInfo(c);if(!h){if(e.scope===b.default.Conversation_Sync||e.scope===b.default.UserSettingConversationReaded){var p=Number(e.value);if(p<0||p>0&&(new Date).getTime()-p>=24*(I.default.CONVERSATION_EXPIRE_TIME?I.default.CONVERSATION_EXPIRE_TIME:30)*60*60*1e3)return}if(e.scope===b.default.ConversationSilent&&"0"===e.value)return;if(e.scope===b.default.ConversationTop&&"0"===e.value)return;(h=t._genAndSaveDefaultConversationInfo(c)).timestamp=e.updateDt}if(e.scope===b.default.ConversationSilent)h.isSilent="1"===e.value;else if(e.scope===b.default.ConversationTop)h.isTop="1"===e.value;else if(e.scope===b.default.Conversation_Sync){var m=Number(e.value);m<0?(0,k.lte)(h.timestamp,-m)&&t.removeConversation(c,!0):t.updateConversationUnreadStatus(c,m)}else e.scope===b.default.UserSettingConversationReaded&&t.updateConversationRead(c,Number(e.value))}else if(e.scope===b.default.FavoriteGroup){var g=t.favGroups.indexOf(e.key);"1"===e.value?g<0&&t.favGroups.push(e.key):g>=0&&(t.favGroups=t.favGroups.splice(g,1))}else if(e.scope===b.default.FavoriteUser){var y=t.favUsers.indexOf(e.key);"1"===e.value?y<0&&t.favUsers.push(e.key):y>=0&&(t.favUsers=t.favUsers.splice(y,1))}}))}},{key:"_genAndSaveDefaultConversationInfo",value:function(e){var t=new h.default;return t.conversation=e,t.timestamp=d.default.ZERO,t.unreadCount=new _.default,this.conversationInfos.push(t),t}},{key:"updateDeliveries",value:function(e){var t=this;e.forEach((function(e){t.deliveries.set(e.fromUser,e.receiveTime)}))}},{key:"getUserDelivery",value:function(e){return this.deliveries.get(e)}},{key:"getConversationDelivery",value:function(e){var t=new a.default;if(0===e.type){var r=this.getUserDelivery(e.target);r&&t.set(e.target,r)}else if(1===e.type){var n=this.getGroupMemberIds(e.target);this.deliveries.forEach((function(e,r){n.indexOf(r)>=0&&t.set(r,e)}))}return t}},{key:"updateReads",value:function(e){var t=this;e.forEach((function(e){0===e.conversation.type&&(e.conversation.target=e.fromUser);var r=t.genConversationKey(e.conversation),n=t.readEntries.get(r);n||(n=new a.default,t.readEntries.set(r,n)),n.set(e.fromUser,e.readTime)}))}},{key:"saveSyncReadEntry",value:function(e,t,r,n,o){var s=this.syncReadId++,i=new x.default;return i.id=s,i.type=e,i.target=t,i.line=r,i.senders=o,this.syncReadEntries.set(this._genSyncReadEntryKey(i),i),s}},{key:"deleteSyncReadEntry",value:function(e,t,r){var n=new x.default;n.type=e,n.target=t,n.line=r,this.syncReadEntries.delete(this._genSyncReadEntryKey(n))}},{key:"getSyncReadEntries",value:function(){return this.syncReadEntries}},{key:"loadSyncReadEntry",value:function(){return this.syncReadEntries.values().next().value}},{key:"_genSyncReadEntryKey",value:function(e){return e.type+"@"+e.target+"@"+e.line}},{key:"getConversationRead",value:function(e){var t=this._genSyncReadEntryKey(e);return this.readEntries.get(t)}},{key:"getUserSetting",value:function(e,t){var r=this.settings.filter((function(r){return r.scope===e&&r.key===t}));return r.length>0?r[r.length-1]:null}},{key:"getUserSettings",value:function(e){return this.settings.filter((function(t){return t.scope===e}))}},{key:"getFriendRequestMaxDt",value:function(){var e=d.default.ZERO;return this.friendRequests.forEach((function(t){e=(0,k.gt)(t.timestamp,e)?t.timestamp:e})),e}},{key:"insertOrReplaceFriendRequest",value:function(e){for(var t=-1,r=0;r<this.friendRequests.length;r++){var n=this.friendRequests[r];if(n.direction===e.direction&&n.target===e.target){t=r;break}}t>=0?this.friendRequests[t]=e:this.friendRequests.push(e)}},{key:"getIncommingFriendRequest",value:function(){return this.friendRequests.filter((function(e){return 1===e.direction}))}},{key:"getOutgoingFriendRequest",value:function(){return this.friendRequests.filter((function(e){return 0===e.direction}))}},{key:"getOneFriendRequest",value:function(e,t){var r=this.friendRequests.filter((function(r){return r.target===e&&r.direction===(t?1:0)}));return r.length>0?r[0]:null}},{key:"getUnreadFriendRequestCount",value:function(){var e=0;return this.friendRequests.forEach((function(t){1===t.direction&&0===t.readStatus&&e++})),e}},{key:"clearUnreadFriendRequestStatus",value:function(){var e=0;return this.friendRequests.forEach((function(t){1===t.direction&&0===t.readStatus&&(t.readStatus=1,e++)})),e}},{key:"updateFriendRequestStatus",value:function(e,t){this.friendRequests.forEach((function(r){r.target===e&&1===r.direction&&(r.status=t)}))}},{key:"getUnreadFriendRequestMaxDt",value:function(){var e=d.default.ZERO;return this.friendRequests.forEach((function(t){1===t.direction&&0===t.readStatus&&(e=(0,k.gt)(t.timestamp,e)?t.timestamp:e)})),e}}]),e}();t.default=M},0:function(e,t){},1:function(e,t){},2:function(e,t){},3:function(e,t){}})}));
//# sourceMappingURL=proto.min.js.map